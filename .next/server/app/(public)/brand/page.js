(()=>{var t={};t.id=221,t.ids=[221],t.modules={846:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:t=>{"use strict";t.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:t=>{"use strict";t.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:t=>{"use strict";t.exports=require("path")},1455:t=>{"use strict";t.exports=require("node:fs/promises")},4379:t=>{"use strict";t.exports=require("node:path")},4422:(t,e,i)=>{"use strict";i.r(e),i.d(e,{GlobalError:()=>s.a,__next_app__:()=>c,pages:()=>h,routeModule:()=>u,tree:()=>d});var o=i(260),r=i(8203),n=i(5155),s=i.n(n),a=i(7292),l={};for(let t in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(t)&&(l[t]=()=>a[t]);i.d(e,l);let d=["",{children:["(public)",{children:["brand",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,2183)),"/Users/baptiste/Sites/testingapp/src/app/(public)/brand/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(i.t.bind(i,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,1485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,1354)),"/Users/baptiste/Sites/testingapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,1485,23)),"next/dist/client/components/unauthorized-error"]}],h=["/Users/baptiste/Sites/testingapp/src/app/(public)/brand/page.tsx"],c={require:i,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(public)/brand/page",pathname:"/brand",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6660:(t,e,i)=>{Promise.resolve().then(i.t.bind(i,9607,23)),Promise.resolve().then(i.bind(i,6186)),Promise.resolve().then(i.bind(i,5758)),Promise.resolve().then(i.bind(i,5722))},3044:(t,e,i)=>{Promise.resolve().then(i.t.bind(i,8531,23)),Promise.resolve().then(i.bind(i,110)),Promise.resolve().then(i.bind(i,9931)),Promise.resolve().then(i.bind(i,5538))},3394:(t,e,i)=>{Promise.resolve().then(i.t.bind(i,3219,23)),Promise.resolve().then(i.t.bind(i,4863,23)),Promise.resolve().then(i.t.bind(i,5155,23)),Promise.resolve().then(i.t.bind(i,802,23)),Promise.resolve().then(i.t.bind(i,9350,23)),Promise.resolve().then(i.t.bind(i,8530,23)),Promise.resolve().then(i.t.bind(i,8921,23))},7898:(t,e,i)=>{Promise.resolve().then(i.t.bind(i,6959,23)),Promise.resolve().then(i.t.bind(i,3875,23)),Promise.resolve().then(i.t.bind(i,8903,23)),Promise.resolve().then(i.t.bind(i,7174,23)),Promise.resolve().then(i.t.bind(i,4178,23)),Promise.resolve().then(i.t.bind(i,7190,23)),Promise.resolve().then(i.t.bind(i,1365,23))},9926:()=>{},4430:()=>{},1680:(t,e,i)=>{"use strict";i.d(e,{A:()=>l});var o=i(8009);let r=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...t)=>t.filter((t,e,i)=>!!t&&""!==t.trim()&&i.indexOf(t)===e).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,o.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:d,...h},c)=>(0,o.createElement)("svg",{ref:c,...s,width:e,height:e,stroke:t,strokeWidth:r?24*Number(i)/Number(e):i,className:n("lucide",a),...h},[...d.map(([t,e])=>(0,o.createElement)(t,e)),...Array.isArray(l)?l:[l]])),l=(t,e)=>{let i=(0,o.forwardRef)(({className:i,...s},l)=>(0,o.createElement)(a,{ref:l,iconNode:e,className:n(`lucide-${r(t)}`,i),...s}));return i.displayName=`${t}`,i}},6235:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});let o=(0,i(1680).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4339:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});let o=(0,i(1680).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},4380:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addBasePath",{enumerable:!0,get:function(){return n}});let o=i(4147),r=i(4887);function n(t,e){return(0,r.normalizePathTrailingSlash)((0,o.addPathPrefix)(t,""))}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},8531:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return f}});let o=i(5488),r=i(5512),n=o._(i(8009)),s=i(5024),a=i(7829),l=i(9118),d=i(5267),h=i(3727),c=i(3438),u=i(4380);function p(t){return"string"==typeof t?t:(0,s.formatUrl)(t)}i(6831);let f=n.default.forwardRef(function(t,e){let i,o;let{href:s,as:f,children:g,prefetch:m=null,passHref:v,replace:y,shallow:b,scroll:w,onClick:x,onMouseEnter:_,onTouchStart:E,legacyBehavior:O=!1,...k}=t;i=g,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,r.jsx)("a",{children:i}));let S=n.default.useContext(a.AppRouterContext),C=null===m?d.PrefetchKind.AUTO:d.PrefetchKind.FULL,{href:T,as:P}=n.default.useMemo(()=>{let t=p(s);return{href:t,as:f?p(f):t}},[s,f]),N=n.default.useRef(T),M=n.default.useRef(P);O&&(o=n.default.Children.only(i));let I=O?o&&"object"==typeof o&&o.ref:e,[D,j,z]=(0,l.useIntersection)({rootMargin:"200px"}),A=n.default.useCallback(t=>{(M.current!==P||N.current!==T)&&(z(),M.current=P,N.current=T),D(t)},[P,T,z,D]),F=(0,h.useMergedRef)(A,I);n.default.useEffect(()=>{},[P,T,j,!1!==m,S,C]);let B={ref:F,onClick(t){O||"function"!=typeof x||x(t),O&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(t),S&&!t.defaultPrevented&&function(t,e,i,o,r,s,a){let{nodeName:l}=t.currentTarget;"A"===l.toUpperCase()&&function(t){let e=t.currentTarget.getAttribute("target");return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)||(t.preventDefault(),n.default.startTransition(()=>{let t=null==a||a;"beforePopState"in e?e[r?"replace":"push"](i,o,{shallow:s,scroll:t}):e[r?"replace":"push"](o||i,{scroll:t})}))}(t,S,T,P,y,b,w)},onMouseEnter(t){O||"function"!=typeof _||_(t),O&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(t)},onTouchStart:function(t){O||"function"!=typeof E||E(t),O&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(t)}};return(0,c.isAbsoluteUrl)(P)?B.href=P:O&&!v&&("a"!==o.type||"href"in o.props)||(B.href=(0,u.addBasePath)(P)),O?n.default.cloneElement(o,B):(0,r.jsx)("a",{...k,...B,children:i})});("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},4887:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return n}});let o=i(5612),r=i(1546),n=t=>{if(!t.startsWith("/"))return t;let{pathname:e,query:i,hash:n}=(0,r.parsePath)(t);return""+(0,o.removeTrailingSlash)(e)+i+n};("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},1284:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{cancelIdleCallback:function(){return o},requestIdleCallback:function(){return i}});let i="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(t){let e=Date.now();return self.setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},o="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(t){return clearTimeout(t)};("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},9118:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return l}});let o=i(8009),r=i(1284),n="function"==typeof IntersectionObserver,s=new Map,a=[];function l(t){let{rootRef:e,rootMargin:i,disabled:l}=t,d=l||!n,[h,c]=(0,o.useState)(!1),u=(0,o.useRef)(null),p=(0,o.useCallback)(t=>{u.current=t},[]);return(0,o.useEffect)(()=>{if(n){if(d||h)return;let t=u.current;if(t&&t.tagName)return function(t,e,i){let{id:o,observer:r,elements:n}=function(t){let e;let i={root:t.root||null,margin:t.rootMargin||""},o=a.find(t=>t.root===i.root&&t.margin===i.margin);if(o&&(e=s.get(o)))return e;let r=new Map;return e={id:i,observer:new IntersectionObserver(t=>{t.forEach(t=>{let e=r.get(t.target),i=t.isIntersecting||t.intersectionRatio>0;e&&i&&e(i)})},t),elements:r},a.push(i),s.set(i,e),e}(i);return n.set(t,e),r.observe(t),function(){if(n.delete(t),r.unobserve(t),0===n.size){r.disconnect(),s.delete(o);let t=a.findIndex(t=>t.root===o.root&&t.margin===o.margin);t>-1&&a.splice(t,1)}}}(t,t=>t&&c(t),{root:null==e?void 0:e.current,rootMargin:i})}else if(!h){let t=(0,r.requestIdleCallback)(()=>c(!0));return()=>(0,r.cancelIdleCallback)(t)}},[d,i,e,h,u.current]),[p,h,(0,o.useCallback)(()=>{c(!1)},[])]}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},3727:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useMergedRef",{enumerable:!0,get:function(){return r}});let o=i(8009);function r(t,e){let i=(0,o.useRef)(()=>{}),r=(0,o.useRef)(()=>{});return(0,o.useMemo)(()=>t&&e?o=>{null===o?(i.current(),r.current()):(i.current=n(t,o),r.current=n(e,o))}:t||e,[t,e])}function n(t,e){if("function"!=typeof t)return t.current=e,()=>{t.current=null};{let i=t(e);return"function"==typeof i?i:()=>t(null)}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},4147:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addPathPrefix",{enumerable:!0,get:function(){return r}});let o=i(1546);function r(t,e){if(!t.startsWith("/")||!e)return t;let{pathname:i,query:r,hash:n}=(0,o.parsePath)(t);return""+e+i+r+n}},5024:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{formatUrl:function(){return n},formatWithValidation:function(){return a},urlObjectKeys:function(){return s}});let o=i(1063)._(i(3866)),r=/https?|ftp|gopher|file/;function n(t){let{auth:e,hostname:i}=t,n=t.protocol||"",s=t.pathname||"",a=t.hash||"",l=t.query||"",d=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?d=e+t.host:i&&(d=e+(~i.indexOf(":")?"["+i+"]":i),t.port&&(d+=":"+t.port)),l&&"object"==typeof l&&(l=String(o.urlQueryToSearchParams(l)));let h=t.search||l&&"?"+l||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||r.test(n))&&!1!==d?(d="//"+(d||""),s&&"/"!==s[0]&&(s="/"+s)):d||(d=""),a&&"#"!==a[0]&&(a="#"+a),h&&"?"!==h[0]&&(h="?"+h),""+n+d+(s=s.replace(/[?#]/g,encodeURIComponent))+(h=h.replace("#","%23"))+a}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(t){return n(t)}},1546:(t,e)=>{"use strict";function i(t){let e=t.indexOf("#"),i=t.indexOf("?"),o=i>-1&&(e<0||i<e);return o||e>-1?{pathname:t.substring(0,o?i:e),query:o?t.substring(i,e>-1?e:void 0):"",hash:e>-1?t.slice(e):""}:{pathname:t,query:"",hash:""}}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return i}})},3866:(t,e)=>{"use strict";function i(t){let e={};return t.forEach((t,i)=>{void 0===e[i]?e[i]=t:Array.isArray(e[i])?e[i].push(t):e[i]=[e[i],t]}),e}function o(t){return"string"!=typeof t&&("number"!=typeof t||isNaN(t))&&"boolean"!=typeof t?"":String(t)}function r(t){let e=new URLSearchParams;return Object.entries(t).forEach(t=>{let[i,r]=t;Array.isArray(r)?r.forEach(t=>e.append(i,o(t))):e.set(i,o(r))}),e}function n(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return i.forEach(e=>{Array.from(e.keys()).forEach(e=>t.delete(e)),e.forEach((e,i)=>t.append(i,e))}),t}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{assign:function(){return n},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return r}})},5612:(t,e)=>{"use strict";function i(t){return t.replace(/\/$/,"")||"/"}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},3438:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var i in e)Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}(e,{DecodeError:function(){return f},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return v},NormalizeError:function(){return g},PageNotFoundError:function(){return m},SP:function(){return u},ST:function(){return p},WEB_VITALS:function(){return i},execOnce:function(){return o},getDisplayName:function(){return l},getLocationOrigin:function(){return s},getURL:function(){return a},isAbsoluteUrl:function(){return n},isResSent:function(){return d},loadGetInitialProps:function(){return c},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return b}});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function o(t){let e,i=!1;return function(){for(var o=arguments.length,r=Array(o),n=0;n<o;n++)r[n]=arguments[n];return i||(i=!0,e=t(...r)),e}}let r=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,n=t=>r.test(t);function s(){let{protocol:t,hostname:e,port:i}=window.location;return t+"//"+e+(i?":"+i:"")}function a(){let{href:t}=window.location,e=s();return t.substring(e.length)}function l(t){return"string"==typeof t?t:t.displayName||t.name||"Unknown"}function d(t){return t.finished||t.headersSent}function h(t){let e=t.split("?");return e[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(e[1]?"?"+e.slice(1).join("?"):"")}async function c(t,e){let i=e.res||e.ctx&&e.ctx.res;if(!t.getInitialProps)return e.ctx&&e.Component?{pageProps:await c(e.Component,e.ctx)}:{};let o=await t.getInitialProps(e);if(i&&d(i))return o;if(!o)throw Error('"'+l(t)+'.getInitialProps()" should resolve to an object. But found "'+o+'" instead.');return o}let u="undefined"!=typeof performance,p=u&&["mark","measure","getEntriesByName"].every(t=>"function"==typeof performance[t]);class f extends Error{}class g extends Error{}class m extends Error{constructor(t){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+t}}class v extends Error{constructor(t,e){super(),this.message="Failed to load static file for page: "+t+" "+e}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(t){return JSON.stringify({message:t.message,stack:t.stack})}},110:(t,e,i)=>{"use strict";i.d(e,{CrawlLauncher:()=>l});var o=i(5512),r=i(8009),n=i(6235),s=i(4339),a=i(9020);let l=({defaultUrl:t})=>{let[e,i]=(0,r.useState)(t),[l,d]=(0,r.useState)(10),[h,c]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),m=async t=>{t.preventDefault(),p(!0),g(null);try{let t=await fetch("/api/crawl",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({url:e,maxPages:l,sameOriginOnly:h})}),i=await t.json();g(i),i.success&&setTimeout(()=>{window.location.reload()},1200)}catch(t){g({success:!1,message:t.message})}finally{p(!1)}};return(0,o.jsxs)("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,o.jsxs)("form",{className:"grid gap-4 md:grid-cols-4",onSubmit:m,children:[(0,o.jsx)("div",{className:"md:col-span-2",children:(0,o.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["Target URL",(0,o.jsx)("input",{required:!0,type:"url",value:e,onChange:t=>i(t.target.value),placeholder:"https://www.sparkier.io",className:"rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-sparkier-primary focus:outline-none focus:ring-2 focus:ring-sparkier-primary/30"})]})}),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["Max Pages",(0,o.jsx)("input",{type:"number",min:1,max:200,value:l,onChange:t=>d(Number(t.target.value)),className:"rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-sparkier-primary focus:outline-none focus:ring-2 focus:ring-sparkier-primary/30"})]})}),(0,o.jsxs)("div",{className:"flex items-end justify-between gap-4",children:[(0,o.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,o.jsx)("input",{type:"checkbox",checked:h,onChange:t=>c(t.target.checked),className:"h-4 w-4 rounded border-slate-300 text-sparkier-primary focus:ring-sparkier-primary"}),"Same-origin only"]}),(0,o.jsxs)("button",{type:"submit",disabled:u,className:(0,a.cn)("inline-flex items-center gap-2 rounded-full bg-sparkier-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-sparkier-primary/90",u&&"cursor-not-allowed opacity-60"),children:[u?(0,o.jsx)(n.A,{className:"h-4 w-4 animate-spin","aria-hidden":!0}):(0,o.jsx)(s.A,{className:"h-4 w-4","aria-hidden":!0}),u?"Running?":"Run Crawl"]})]})]}),f?(0,o.jsxs)("div",{className:(0,a.cn)("mt-4 rounded-lg border p-4 text-sm",f.success?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-rose-300 bg-rose-50 text-rose-700"),children:[(0,o.jsx)("p",{className:"font-semibold",children:f.message}),f.output?(0,o.jsx)("pre",{className:"mt-3 max-h-72 overflow-auto rounded bg-white/80 p-3 text-xs text-slate-800",children:f.output.trim()}):null]}):null]})}},9931:(t,e,i)=>{"use strict";let o,r,n;i.d(e,{SitemapVisualizer:()=>Iq});var s,a,l,d,h,c,u,p,f,g,m,v,y,b,w,x,_,E,O,k,S,C,T,P,N,M,I,D,j,z,A,F,B,R,L,H,W,U,q,V,Y,X,G,K,$,Z,Q,J,tt,te,ti,to,tr,tn,ts,ta,tl,td,th,tc,tu,tp,tf,tg,tm,tv,ty,tb,tw,tx,t_,tE,tO,tk,tS,tC,tT,tP,tN,tM,tI,tD,tj,tz,tA,tF,tB,tR,tL,tH,tW,tU,tq,tV,tY,tX,tG,tK,t$,tZ,tQ,tJ,t0,t1,t2,t5,t3,t4,t6,t8,t9,t7,et,ee,ei,eo,er,en,es,ea,el,ed,eh,ec,eu,ep,ef,eg,em,ev,ey,eb,ew,ex,e_,eE,eO,ek,eS,eC,eT,eP,eN,eM,eI,eD,ej,ez,eA,eF,eB,eR,eL,eH,eW,eU,eq,eV,eY,eX,eG,eK,e$,eZ,eQ,eJ,e0,e1,e2,e5,e3,e4,e6,e8,e9,e7,it,ie,ii,io,ir,is,ia,il,id,ih,ic,iu,ip,ig,im,iv,iy,ib,iw,ix,i_,iE,iO,ik,iS,iC,iT,iP,iN,iM,iI,iD,ij,iz,iA,iF,iB,iR,iL,iH,iW,iU,iq,iV,iY,iX,iG,iK,i$,iZ,iQ,iJ,i0,i1,i2,i5,i3,i4,i6,i8,i9,i7,ot,oe,oi,oo,or,on,os,oa,ol,od,oh,oc,ou,op,of,og,om,ov,oy,ob,ow,ox,o_,oE,oO,ok,oS,oC,oT,oP,oN,oM,oI,oD,oj,oz,oA,oF,oB,oR,oL,oH,oW,oU,oq,oV,oY,oX,oG,oK,o$,oZ,oQ,oJ,o0,o1,o2,o5,o3,o4,o6,o8,o9,o7,rt,re,ri,ro,rr,rn,rs,ra,rl,rd,rh,rc,ru,rp,rf,rg,rm,rv,ry,rb,rw,rx,r_,rE,rO,rk,rS,rC,rT,rP,rN,rM,rI,rD,rj,rz,rA,rF,rB,rR,rL,rH,rW,rU,rq,rV,rY,rX,rG,rK,r$,rZ,rQ,rJ,r0,r1,r2,r5,r3,r4,r6,r8,r9,r7,nt,ne,ni,no,nr,nn,ns,na,nl,nd,nh,nc,nu,np,nf,ng,nm,nv,ny,nb,nw,nx,n_,nE,nO,nk,nS,nC,nT,nP,nN,nM,nI,nD,nj,nz,nA,nF,nB,nR,nL,nH,nW,nU,nq,nV,nY,nX,nG,nK,n$,nZ,nQ,nJ,n0,n1,n2,n5,n3,n4,n6,n8,n9,n7,st,se,si,so,sr,sn,ss,sa,sl,sd,sh,sc,su,sp,sf,sg,sm,sv,sy,sb,sw,sx,s_,sE,sO,sk,sS,sC,sT,sP,sN,sM,sI,sD,sj,sz,sA,sF,sB,sR,sL,sH,sW,sU,sq,sV,sY,sX,sG,sK,s$,sZ,sQ,sJ,s0,s1,s2,s5,s3,s4,s6,s8,s9,s7,at,ae,ai,ao,ar,an,as,aa,al,ad,ah,ac,au,ap,af,ag,am,av,ay,ab,aw,ax,a_,aE,aO,ak,aS,aC,aT,aP,aN,aM,aI,aD,aj,az,aA,aF,aB,aR,aL,aH,aW,aU,aq,aV,aY,aX,aG,aK,a$,aZ,aQ,aJ,a0,a1,a2,a5,a3,a4,a6,a8,a9,a7,lt,le,li,lo,lr,ln,ls,la,ll,ld,lh,lc,lu,lp,lf,lg,lm,lv,ly,lb,lw,lx,l_,lE,lO,lk,lS,lC,lT,lP,lN,lM,lI,lD,lj,lz,lA,lF,lB,lR,lL,lH,lW,lU,lq,lV,lY,lX,lG,lK,l$,lZ,lQ,lJ,l0,l1,l2,l5,l3,l4,l6,l8,l9,l7,dt,de,di,dr,dn,ds,da,dl,dd,dh,dc,du,dp,df,dg,dm,dv,dy,db,dw,dx,d_,dE,dO,dk,dS,dC,dT,dP,dN,dM,dI,dD,dj,dz,dA,dF,dB,dR,dL,dH,dW,dU,dq,dV,dY,dX,dG,dK,d$,dZ,dQ,dJ,d0,d1,d2,d5,d3,d4,d6,d8,d9,d7,ht,he,hi,ho,hr,hn,hs,ha,hl,hd,hh,hc,hu,hp,hf,hg,hm,hv,hy,hb,hw,hx,h_,hE,hO,hk,hS,hC,hT,hP,hN,hM,hI,hD,hj,hz,hA,hF,hB,hR,hL,hH,hW,hU,hq,hV,hY,hX,hG,hK,h$,hZ,hQ,hJ,h0,h1,h2,h5,h3,h4,h6,h8,h9,h7,ct,ce,ci,co,cr,cn,cs,ca,cl,cd,ch,cc,cu,cp,cf,cg,cm,cv,cy,cb,cw,cx,c_,cE,cO,ck,cS,cC,cT,cP,cN,cM,cI,cD,cj,cz,cA,cF,cB,cR,cL,cH,cW,cU,cq,cV,cY,cX,cG,cK,c$,cZ,cQ,cJ,c0,c1,c2,c5,c3,c4,c6,c8,c9,c7,ut,ue,ui,uo,ur,un,us,ua,ul,ud,uh,uc,uu,up,uf,ug,um,uv,uy,ub,uw,ux,u_,uE,uO,uk,uS,uC,uT,uP,uN,uM,uI,uD,uj,uz,uA,uF,uB,uR,uL,uH,uW,uU,uq,uV,uY,uX,uG,uK,u$,uZ,uQ,uJ,u0,u1,u2,u5,u3,u4,u6,u8,u9,u7,pt,pe,pi,po,pr,pn,ps,pa,pl,pd,ph,pc,pu,pp,pf,pg,pm,pv,py,pb,pw,px,p_,pE,pO,pk,pS,pC,pT,pP,pN,pM,pI,pD,pj,pz,pA,pF,pB,pR,pL,pH,pW,pU,pq,pV,pY,pX,pG,pK,p$,pZ,pQ,pJ,p0,p1,p2,p5,p3,p4,p6,p8,p9,p7,ft,fe,fi,fo,fr,fn,fs,fa,fl,fd,fh,fc,fu,fp,ff,fg,fm,fv,fy,fb,fw,fx,f_,fE,fO,fk,fS,fC,fT,fP,fN,fM,fI,fD,fj,fz,fA,fF,fB,fR,fL,fH,fW,fU,fq,fV,fY,fX,fG,fK,f$,fZ,fQ,fJ,f0,f1,f2,f5,f3,f4,f6,f8,f9,f7,gt,ge,gi,go,gr,gn,gs,ga,gl,gd,gh,gc,gu,gp,gf,gg,gm,gv,gy,gb,gw,gx,g_,gE,gO,gk,gS,gC,gT,gP,gN,gM,gI,gD,gj,gz,gA,gF,gB,gR,gL,gH,gW,gU,gq,gV,gY,gX,gG,gK,g$,gZ,gQ,gJ,g0,g1,g2,g5,g3,g4,g6,g8,g9,g7,mt,me,mi,mo,mr,mn,ms,ma,ml,md,mh,mc,mu,mp,mf,mg,mm,mv,my,mb,mw,mx,m_,mE,mO,mk,mS,mC,mT,mP,mN,mM,mI,mD,mj,mz,mA,mF,mB,mR,mL,mH,mW,mU,mq,mV,mY,mX,mG,mK,m$,mZ,mQ,mJ,m0,m1,m2,m5,m3,m4,m6,m8,m9,m7,vt,ve,vi,vo,vr,vn,vs,va,vl,vd,vh,vc,vu,vp,vf,vg,vm,vv,vy,vb,vw,vx,v_,vE,vO,vk,vS,vC,vT,vP,vN,vM,vI,vD,vj,vz,vA,vF,vB,vR,vL,vH,vW,vU,vq,vV,vY,vX,vG,vK,v$,vZ,vQ,vJ,v0,v1,v2,v5,v3,v4,v6,v8,v9,v7,yt,ye,yi,yo,yr,yn,ys,ya,yl,yd,yh,yc,yu,yp,yf,yg,ym,yv,yy,yb,yw,yx,y_,yE,yO,yk,yS,yC,yT,yP,yN,yM,yI,yD,yj,yz,yA,yF,yB,yR,yL,yH,yW,yU,yq,yV,yY,yX,yG,yK,y$,yZ,yQ,yJ,y0,y1,y2,y5,y3,y4,y6,y8,y9,y7,bt,be,bi,bo,br,bn,bs,ba,bl,bd,bh,bc,bu,bp,bf,bg,bm,bv,by,bb,bw,bx,b_,bE,bO,bk,bS,bC,bT,bP,bN,bM,bI,bD,bj,bz,bA,bF,bB,bR,bL,bH,bW,bU,bq,bV,bY,bX,bG,bK,b$,bZ,bQ,bJ,b0,b1,b2,b5,b3,b4,b6,b8,b9,b7,wt,we,wi,wo,wr,wn,ws,wa,wl,wd,wh,wc,wu,wp,wf,wg,wm,wv,wy,wb,ww,wx,w_,wE,wO,wk,wS,wC,wT,wP,wN,wM,wI,wD,wj,wz,wA,wF,wB,wR,wL,wH,wW,wU,wq,wV,wY,wX=i(5512),wG=i(8009),wK="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wZ={exports:{}};function wQ(){if(a)return s;a=1;var t=function(t){return t&&t.Math===Math&&t};return s=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof wK&&wK)||t("object"==typeof s&&s)||function(){return this}()||Function("return this")()}function wJ(){return d?l:(d=1,l=function(t){try{return!!t()}catch(t){return!0}})}function w0(){return c?h:(c=1,h=!wJ()(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function w1(){if(p)return u;p=1;var t=w0(),e=Function.prototype,i=e.apply,o=e.call;return u="object"==typeof Reflect&&Reflect.apply||(t?o.bind(i):function(){return o.apply(i,arguments)})}function w2(){if(g)return f;g=1;var t=w0(),e=Function.prototype,i=e.call,o=t&&e.bind.bind(i,i);return f=t?o:function(t){return function(){return i.apply(t,arguments)}}}function w5(){if(v)return m;v=1;var t=w2(),e=t({}.toString),i=t("".slice);return m=function(t){return i(e(t),8,-1)}}function w3(){if(b)return y;b=1;var t=w5(),e=w2();return y=function(i){if("Function"===t(i))return e(i)}}function w4(){if(x)return w;x=1;var t="object"==typeof document&&document.all;return w=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var w6={};function w8(){return E?_:(E=1,_=!wJ()(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function w9(){if(k)return O;k=1;var t=w0(),e=Function.prototype.call;return O=t?e.bind(e):function(){return e.apply(e,arguments)}}var w7={};function xt(){if(S)return w7;S=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,i=e&&!t.call({1:2},1);return w7.f=i?function(t){var i=e(this,t);return!!i&&i.enumerable}:t,w7}function xe(){return T?C:(T=1,C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function xi(){if(N)return P;N=1;var t=w2(),e=wJ(),i=w5(),o=Object,r=t("".split);return P=e(function(){return!o("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?r(t,""):o(t)}:o}function xo(){return I?M:(I=1,M=function(t){return null==t})}function xr(){if(j)return D;j=1;var t=xo(),e=TypeError;return D=function(i){if(t(i))throw new e("Can't call method on "+i);return i}}function xn(){if(A)return z;A=1;var t=xi(),e=xr();return z=function(i){return t(e(i))}}function xs(){if(B)return F;B=1;var t=w4();return F=function(e){return"object"==typeof e?null!==e:t(e)}}function xa(){return L?R:(L=1,R={})}function xl(){if(W)return H;W=1;var t=xa(),e=wQ(),i=w4(),o=function(t){return i(t)?t:void 0};return H=function(i,r){return arguments.length<2?o(t[i])||o(e[i]):t[i]&&t[i][r]||e[i]&&e[i][r]}}function xd(){return q?U:(q=1,U=w2()({}.isPrototypeOf))}function xh(){if(Y)return V;Y=1;var t=wQ().navigator,e=t&&t.userAgent;return V=e?String(e):""}function xc(){if(G)return X;G=1;var t,e,i=wQ(),o=xh(),r=i.process,n=i.Deno,s=r&&r.versions||n&&n.version,a=s&&s.v8;return a&&(e=(t=a.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&o&&(!(t=o.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=o.match(/Chrome\/(\d+)/))&&(e=+t[1]),X=e}function xu(){if($)return K;$=1;var t=xc(),e=wJ(),i=wQ().String;return K=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})}function xp(){return Q?Z:(Q=1,Z=xu()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function xf(){if(tt)return J;tt=1;var t=xl(),e=w4(),i=xd(),o=xp(),r=Object;return J=o?function(t){return"symbol"==typeof t}:function(o){var n=t("Symbol");return e(n)&&i(n.prototype,r(o))}}function xg(){if(ti)return te;ti=1;var t=String;return te=function(e){try{return t(e)}catch(t){return"Object"}}}function xm(){if(tr)return to;tr=1;var t=w4(),e=xg(),i=TypeError;return to=function(o){if(t(o))return o;throw new i(e(o)+" is not a function")}}function xv(){if(ts)return tn;ts=1;var t=xm(),e=xo();return tn=function(i,o){var r=i[o];return e(r)?void 0:t(r)}}var xy={exports:{}};function xb(){return th?td:(th=1,td=!0)}function xw(){if(tp)return xy.exports;tp=1;var t=xb(),e=wQ(),i=function(){if(tu)return tc;tu=1;var t=wQ(),e=Object.defineProperty;return tc=function(i,o){try{e(t,i,{value:o,configurable:!0,writable:!0})}catch(e){t[i]=o}return o}}(),o="__core-js_shared__",r=xy.exports=e[o]||i(o,{});return(r.versions||(r.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),xy.exports}function xx(){if(tg)return tf;tg=1;var t=xw();return tf=function(e,i){return t[e]||(t[e]=i||{})}}function x_(){if(tv)return tm;tv=1;var t=xr(),e=Object;return tm=function(i){return e(t(i))}}function xE(){if(tb)return ty;tb=1;var t=w2(),e=x_(),i=t({}.hasOwnProperty);return ty=Object.hasOwn||function(t,o){return i(e(t),o)}}function xO(){if(tx)return tw;tx=1;var t=w2(),e=0,i=Math.random(),o=t(1.1.toString);return tw=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++e+i,36)}}function xk(){if(tE)return t_;tE=1;var t=wQ(),e=xx(),i=xE(),o=xO(),r=xu(),n=xp(),s=t.Symbol,a=e("wks"),l=n?s.for||s:s&&s.withoutSetter||o;return t_=function(t){return i(a,t)||(a[t]=r&&i(s,t)?s[t]:l("Symbol."+t)),a[t]}}function xS(){if(tk)return tO;tk=1;var t=w9(),e=xs(),i=xf(),o=xv(),r=function(){if(tl)return ta;tl=1;var t=w9(),e=w4(),i=xs(),o=TypeError;return ta=function(r,n){var s,a;if("string"===n&&e(s=r.toString)&&!i(a=t(s,r))||e(s=r.valueOf)&&!i(a=t(s,r))||"string"!==n&&e(s=r.toString)&&!i(a=t(s,r)))return a;throw new o("Can't convert object to primitive value")}}(),n=xk(),s=TypeError,a=n("toPrimitive");return tO=function(n,l){if(!e(n)||i(n))return n;var d,h=o(n,a);if(h){if(void 0===l&&(l="default"),!e(d=t(h,n,l))||i(d))return d;throw new s("Can't convert object to primitive value")}return void 0===l&&(l="number"),r(n,l)}}function xC(){if(tC)return tS;tC=1;var t=xS(),e=xf();return tS=function(i){var o=t(i,"string");return e(o)?o:o+""}}function xT(){if(tP)return tT;tP=1;var t=wQ(),e=xs(),i=t.document,o=e(i)&&e(i.createElement);return tT=function(t){return o?i.createElement(t):{}}}function xP(){if(tM)return tN;tM=1;var t=w8(),e=wJ(),i=xT();return tN=!t&&!e(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})}function xN(){if(tI)return w6;tI=1;var t=w8(),e=w9(),i=xt(),o=xe(),r=xn(),n=xC(),s=xE(),a=xP(),l=Object.getOwnPropertyDescriptor;return w6.f=t?l:function(t,d){if(t=r(t),d=n(d),a)try{return l(t,d)}catch(t){}if(s(t,d))return o(!e(i.f,t,d),t[d])},w6}function xM(){if(tA)return tz;tA=1;var t=w3(),e=xm(),i=w0(),o=t(t.bind);return tz=function(t,r){return e(t),void 0===r?t:i?o(t,r):function(){return t.apply(r,arguments)}}}var xI={};function xD(){if(tB)return tF;tB=1;var t=w8(),e=wJ();return tF=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function xj(){if(tL)return tR;tL=1;var t=xs(),e=String,i=TypeError;return tR=function(o){if(t(o))return o;throw new i(e(o)+" is not an object")}}function xz(){if(tH)return xI;tH=1;var t=w8(),e=xP(),i=xD(),o=xj(),r=xC(),n=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",h="writable";return xI.f=t?i?function(t,e,i){if(o(t),e=r(e),o(i),"function"==typeof t&&"prototype"===e&&"value"in i&&h in i&&!i[h]){var n=a(t,e);n&&n[h]&&(t[e]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:l in i?i[l]:n[l],writable:!1})}return s(t,e,i)}:s:function(t,i,a){if(o(t),i=r(i),o(a),e)try{return s(t,i,a)}catch(t){}if("get"in a||"set"in a)throw new n("Accessors not supported");return"value"in a&&(t[i]=a.value),t},xI}function xA(){if(tU)return tW;tU=1;var t=w8(),e=xz(),i=xe();return tW=t?function(t,o,r){return e.f(t,o,i(1,r))}:function(t,e,i){return t[e]=i,t}}function xF(){if(tV)return tq;tV=1;var t=wQ(),e=w1(),i=w3(),o=w4(),r=xN().f,n=function(){if(tj)return tD;tj=1;var t=wJ(),e=w4(),i=/#|\.prototype\./,o=function(i,o){var l=n[r(i)];return l===a||l!==s&&(e(o)?t(o):!!o)},r=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},n=o.data={},s=o.NATIVE="N",a=o.POLYFILL="P";return tD=o}(),s=xa(),a=xM(),l=xA(),d=xE(),h=function(t){var i=function(o,r,n){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,r)}return new t(o,r,n)}return e(t,this,arguments)};return i.prototype=t.prototype,i};return tq=function(e,c){var u,p,f,g,m,v,y,b,w,x=e.target,_=e.global,E=e.stat,O=e.proto,k=_?t:E?t[x]:t[x]&&t[x].prototype,S=_?s:s[x]||l(s,x,{})[x],C=S.prototype;for(g in c)p=!(u=n(_?g:x+(E?".":"#")+g,e.forced))&&k&&d(k,g),v=S[g],p&&(y=e.dontCallGetSet?(w=r(k,g))&&w.value:k[g]),m=p&&y?y:c[g],(u||O||typeof v!=typeof m)&&(b=e.bind&&p?a(m,t):e.wrap&&p?h(m):O&&o(m)?i(m):m,(e.sham||m&&m.sham||v&&v.sham)&&l(b,"sham",!0),l(S,g,b),O&&(d(s,f=x+"Prototype")||l(s,f,{}),l(s[f],g,m),e.real&&C&&(u||!C[g])&&l(C,g,m)))}}function xB(){return tK?tG:(tK=1,tG=function(){if(tX)return wZ.exports;tX=1,function(){if(!tY){tY=1;var t=xF(),e=w8(),i=xz().f;t({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!e},{defineProperty:i})}}();var t=xa().Object,e=wZ.exports=function(e,i,o){return t.defineProperty(e,i,o)};return t.defineProperty.sham&&(e.sham=!0),wZ.exports}())}var xR=w$(t1?t0:(t1=1,t0=tJ?tQ:(tJ=1,tQ=tZ?t$:(tZ=1,t$=xB())))),xL={};function xH(){if(t5)return t2;t5=1;var t=w5();return t2=Array.isArray||function(e){return"Array"===t(e)}}function xW(){if(t8)return t6;t8=1;var t=function(){if(t4)return t3;t4=1;var t=Math.ceil,e=Math.floor;return t3=Math.trunc||function(i){var o=+i;return(o>0?e:t)(o)}}();return t6=function(e){var i=+e;return i!=i||0===i?0:t(i)}}function xU(){if(t7)return t9;t7=1;var t=xW(),e=Math.min;return t9=function(i){var o=t(i);return o>0?e(o,0x1fffffffffffff):0}}function xq(){if(ee)return et;ee=1;var t=xU();return et=function(e){return t(e.length)}}function xV(){if(eo)return ei;eo=1;var t=TypeError;return ei=function(e){if(e>0x1fffffffffffff)throw t("Maximum allowed index exceeded");return e}}function xY(){if(en)return er;en=1;var t=w8(),e=xz(),i=xe();return er=function(o,r,n){t?e.f(o,r,i(0,n)):o[r]=n}}function xX(){if(ea)return es;ea=1;var t=xk()("toStringTag"),e={};return e[t]="z",es="[object z]"===String(e)}function xG(){if(ed)return el;ed=1;var t=xX(),e=w4(),i=w5(),o=xk()("toStringTag"),r=Object,n="Arguments"===i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};return el=t?i:function(t){var a,l,d;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(l=s(a=r(t),o))?l:n?i(a):"Object"===(d=i(a))&&e(a.callee)?"Arguments":d}}function xK(){if(ep)return eu;ep=1;var t=w2(),e=wJ(),i=w4(),o=xG(),r=xl(),n=function(){if(ec)return eh;ec=1;var t=w2(),e=w4(),i=xw(),o=t(Function.toString);return e(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),eh=i.inspectSource}(),s=function(){},a=r("Reflect","construct"),l=/^\s*(?:class|function)\b/,d=t(l.exec),h=!l.test(s),c=function(t){if(!i(t))return!1;try{return a(s,[],t),!0}catch(t){return!1}},u=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(l,n(t))}catch(t){return!0}};return u.sham=!0,eu=!a||e(function(){var t;return c(c.call)||!c(Object)||!c(function(){t=!0})||t})?u:c}function x$(){if(ev)return em;ev=1;var t=function(){if(eg)return ef;eg=1;var t=xH(),e=xK(),i=xs(),o=xk()("species"),r=Array;return ef=function(n){var s;return t(n)&&(e(s=n.constructor)&&(s===r||t(s.prototype))?s=void 0:i(s)&&null===(s=s[o])&&(s=void 0)),void 0===s?r:s}}();return em=function(e,i){return new(t(e))(0===i?0:i)}}function xZ(){if(eb)return ey;eb=1;var t=wJ(),e=xk(),i=xc(),o=e("species");return ey=function(e){return i>=51||!t(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}}function xQ(){if(ew)return xL;ew=1;var t=xF(),e=wJ(),i=xH(),o=xs(),r=x_(),n=xq(),s=xV(),a=xY(),l=x$(),d=xZ(),h=xk(),c=xc(),u=h("isConcatSpreadable"),p=c>=51||!e(function(){var t=[];return t[u]=!1,t.concat()[0]!==t}),f=function(t){if(!o(t))return!1;var e=t[u];return void 0!==e?!!e:i(t)};return t({target:"Array",proto:!0,arity:1,forced:!p||!d("concat")},{concat:function(t){var e,i,o,d,h,c=r(this),u=l(c,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(h=-1===e?c:arguments[e],f(h))for(s(p+(d=n(h))),i=0;i<d;i++,p++)i in h&&a(u,p,h[i]);else s(p+1),a(u,p++,h);return u.length=p,u}}),xL}var xJ={};function x0(){if(e_)return ex;e_=1;var t=xG(),e=String;return ex=function(i){if("Symbol"===t(i))throw TypeError("Cannot convert a Symbol value to a string");return e(i)}}var x1={};function x2(){if(eO)return eE;eO=1;var t=xW(),e=Math.max,i=Math.min;return eE=function(o,r){var n=t(o);return n<0?e(n+r,0):i(n,r)}}function x5(){return eT?eC:(eT=1,eC={})}function x3(){if(eN)return eP;eN=1;var t=w2(),e=xE(),i=xn(),o=function(){if(eS)return ek;eS=1;var t=xn(),e=x2(),i=xq(),o=function(o){return function(r,n,s){var a,l=t(r),d=i(l);if(0===d)return!o&&-1;var h=e(s,d);if(o&&n!=n){for(;d>h;)if((a=l[h++])!=a)return!0}else for(;d>h;h++)if((o||h in l)&&l[h]===n)return o||h||0;return!o&&-1}};return ek={includes:o(!0),indexOf:o(!1)}}().indexOf,r=x5(),n=t([].push);return eP=function(t,s){var a,l=i(t),d=0,h=[];for(a in l)!e(r,a)&&e(l,a)&&n(h,a);for(;s.length>d;)e(l,a=s[d++])&&(~o(h,a)||n(h,a));return h}}function x4(){return eI?eM:(eI=1,eM=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function x6(){if(ej)return eD;ej=1;var t=x3(),e=x4();return eD=Object.keys||function(i){return t(i,e)}}function x8(){if(ez)return x1;ez=1;var t=w8(),e=xD(),i=xz(),o=xj(),r=xn(),n=x6();return x1.f=t&&!e?Object.defineProperties:function(t,e){o(t);for(var s,a=r(e),l=n(e),d=l.length,h=0;d>h;)i.f(t,s=l[h++],a[s]);return t},x1}function x9(){if(eR)return eB;eR=1;var t=xx(),e=xO(),i=t("keys");return eB=function(t){return i[t]||(i[t]=e(t))}}function x7(){if(eH)return eL;eH=1;var t,e=xj(),i=x8(),o=x4(),r=x5(),n=eF?eA:(eF=1,eA=xl()("document","documentElement")),s=xT(),a=x9(),l="prototype",d="script",h=a("IE_PROTO"),c=function(){},u=function(t){return"<"+d+">"+t+"</"+d+">"},p=function(t){t.write(u("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){var t,e=s("iframe");return e.style.display="none",n.appendChild(e),e.src=String("java"+d+":"),(t=e.contentWindow.document).open(),t.write(u("document.F=Object")),t.close(),t.F},g=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&t?p(t):f():p(t);for(var e=o.length;e--;)delete g[l][o[e]];return g()};return r[h]=!0,eL=Object.create||function(t,o){var r;return null!==t?(c[l]=e(t),r=new c,c[l]=null,r[h]=t):r=g(),void 0===o?r:i.f(r,o)}}var _t={};function _e(){if(eW)return _t;eW=1;var t=x3(),e=x4().concat("length","prototype");return _t.f=Object.getOwnPropertyNames||function(i){return t(i,e)},_t}var _i={};function _o(){return eq?eU:(eq=1,eU=w2()([].slice))}function _r(){if(eV)return _i;eV=1;var t=w5(),e=xn(),i=_e().f,o=_o(),r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(t){try{return i(t)}catch(t){return o(r)}};return _i.f=function(o){return r&&"Window"===t(o)?n(o):i(e(o))},_i}var _n={};function _s(){return eY||(eY=1,_n.f=Object.getOwnPropertySymbols),_n}function _a(){if(eG)return eX;eG=1;var t=xA();return eX=function(e,i,o,r){return r&&r.enumerable?e[i]=o:t(e,i,o),e}}function _l(){if(e$)return eK;e$=1;var t=xz();return eK=function(e,i,o){return t.f(e,i,o)}}var _d={};function _h(){if(eZ)return _d;eZ=1;var t=xk();return _d.f=t,_d}function _c(){if(eJ)return eQ;eJ=1;var t=xa(),e=xE(),i=_h(),o=xz().f;return eQ=function(r){var n=t.Symbol||(t.Symbol={});e(n,r)||o(n,r,{value:i.f(r)})}}function _u(){if(e1)return e0;e1=1;var t=w9(),e=xl(),i=xk(),o=_a();return e0=function(){var r=e("Symbol"),n=r&&r.prototype,s=n&&n.valueOf,a=i("toPrimitive");n&&!n[a]&&o(n,a,function(e){return t(s,this)},{arity:1})}}function _p(){if(e4)return e3;e4=1;var t=xX(),e=xz().f,i=xA(),o=xE(),r=function(){if(e5)return e2;e5=1;var t=xX(),e=xG();return e2=t?({}).toString:function(){return"[object "+e(this)+"]"}}(),n=xk()("toStringTag");return e3=function(s,a,l,d){var h=l?s:s&&s.prototype;h&&(o(h,n)||e(h,n,{configurable:!0,value:a}),d&&!t&&i(h,"toString",r))}}function _f(){if(e7)return e9;e7=1;var t,e,i,o=function(){if(e8)return e6;e8=1;var t=wQ(),e=w4(),i=t.WeakMap;return e6=e(i)&&/native code/.test(String(i))}(),r=wQ(),n=xs(),s=xA(),a=xE(),l=xw(),d=x9(),h=x5(),c="Object already initialized",u=r.TypeError,p=r.WeakMap;if(o||l.state){var f=l.state||(l.state=new p);f.get=f.get,f.has=f.has,f.set=f.set,t=function(t,e){if(f.has(t))throw new u(c);return e.facade=t,f.set(t,e),e},e=function(t){return f.get(t)||{}},i=function(t){return f.has(t)}}else{var g=d("state");h[g]=!0,t=function(t,e){if(a(t,g))throw new u(c);return e.facade=t,s(t,g,e),e},e=function(t){return a(t,g)?t[g]:{}},i=function(t){return a(t,g)}}return e9={set:t,get:e,has:i,enforce:function(o){return i(o)?e(o):t(o,{})},getterFor:function(t){return function(i){var o;if(!n(i)||(o=e(i)).type!==t)throw new u("Incompatible receiver, "+t+" required");return o}}}}function _g(){if(ie)return it;ie=1;var t=xM(),e=w2(),i=xi(),o=x_(),r=xq(),n=x$(),s=e([].push),a=function(e){var a=1===e,l=2===e,d=3===e,h=4===e,c=6===e,u=7===e,p=5===e||c;return function(f,g,m,v){for(var y,b,w=o(f),x=i(w),_=r(x),E=t(g,m),O=0,k=v||n,S=a?k(f,_):l||u?k(f,0):void 0;_>O;O++)if((p||O in x)&&(b=E(y=x[O],O,w),e)){if(a)S[O]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:s(S,y)}else switch(e){case 4:return!1;case 7:s(S,y)}}return c?-1:d||h?h:S}};return it={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)}}function _m(){return ir?io:(ir=1,io=xu()&&!!Symbol.for&&!!Symbol.keyFor)}var _v={};function _y(){if(ih)return _v;ih=1;var t=xF(),e=xl(),i=w1(),o=w9(),r=w2(),n=wJ(),s=w4(),a=xf(),l=_o(),d=function(){if(id)return il;id=1;var t=w2(),e=xH(),i=w4(),o=w5(),r=x0(),n=t([].push);return il=function(t){if(i(t))return t;if(e(t)){for(var s=t.length,a=[],l=0;l<s;l++){var d=t[l];"string"==typeof d?n(a,d):("number"==typeof d||"Number"===o(d)||"String"===o(d))&&n(a,r(d))}var h=a.length,c=!0;return function(t,i){if(c)return c=!1,i;if(e(this))return i;for(var o=0;o<h;o++)if(a[o]===t)return i}}}}(),h=xu(),c=String,u=e("JSON","stringify"),p=r(/./.exec),f=r("".charAt),g=r("".charCodeAt),m=r("".replace),v=r(1.1.toString),y=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,x=!h||n(function(){var t=e("Symbol")("stringify detection");return"[null]"!==u([t])||"{}"!==u({a:t})||"{}"!==u(Object(t))}),_=n(function(){return'"\udf06\ud834"'!==u("\uDF06\uD834")||'"\udead"'!==u("\uDEAD")}),E=function(t,e){var r=l(arguments),n=d(e);if(!(!s(n)&&(void 0===t||a(t))))return r[1]=function(t,e){if(s(n)&&(e=o(n,this,c(t),e)),!a(e))return e},i(u,null,r)},O=function(t,e,i){var o=f(i,e-1),r=f(i,e+1);return p(b,t)&&!p(w,r)||p(w,t)&&!p(b,o)?"\\u"+v(g(t,0),16):t};return u&&t({target:"JSON",stat:!0,arity:3,forced:x||_},{stringify:function(t,e,o){var r=l(arguments),n=i(x?E:u,null,r);return _&&"string"==typeof n?m(n,y,O):n}}),_v}function _b(){return iu||(iu=1,function(){if(!ii){ii=1;var t=xF(),e=wQ(),i=w9(),o=w2(),r=xb(),n=w8(),s=xu(),a=wJ(),l=xE(),d=xd(),h=xj(),c=xn(),u=xC(),p=x0(),f=xe(),g=x7(),m=x6(),v=_e(),y=_r(),b=_s(),w=xN(),x=xz(),_=x8(),E=xt(),O=_a(),k=_l(),S=xx(),C=x9(),T=x5(),P=xO(),N=xk(),M=_h(),I=_c(),D=_u(),j=_p(),z=_f(),A=_g().forEach,F=C("hidden"),B="Symbol",R="prototype",L=z.set,H=z.getterFor(B),W=Object[R],U=e.Symbol,q=U&&U[R],V=e.RangeError,Y=e.TypeError,X=e.QObject,G=w.f,K=x.f,$=y.f,Z=E.f,Q=o([].push),J=S("symbols"),tt=S("op-symbols"),te=S("wks"),ti=!X||!X[R]||!X[R].findChild,to=function(t,e,i){var o=G(W,e);o&&delete W[e],K(t,e,i),o&&t!==W&&K(W,e,o)},tr=n&&a(function(){return 7!==g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?to:K,tn=function(t,e){var i=J[t]=g(q);return L(i,{type:B,tag:t,description:e}),n||(i.description=e),i},ts=function(t,e,i){t===W&&ts(tt,e,i),h(t);var o=u(e);return(h(i),l(J,o))?(i.enumerable?(l(t,F)&&t[F][o]&&(t[F][o]=!1),i=g(i,{enumerable:f(0,!1)})):(l(t,F)||K(t,F,f(1,g(null))),t[F][o]=!0),tr(t,o,i)):K(t,o,i)},ta=function(t,e){h(t);var o=c(e);return A(m(o).concat(tc(o)),function(e){(!n||i(tl,o,e))&&ts(t,e,o[e])}),t},tl=function(t){var e=u(t),o=i(Z,this,e);return(!(this===W&&l(J,e))||!!l(tt,e))&&(!(o||!l(this,e)||!l(J,e)||l(this,F)&&this[F][e])||o)},td=function(t,e){var i=c(t),o=u(e);if(!(i===W&&l(J,o))||l(tt,o)){var r=G(i,o);return r&&l(J,o)&&!(l(i,F)&&i[F][o])&&(r.enumerable=!0),r}},th=function(t){var e=$(c(t)),i=[];return A(e,function(t){l(J,t)||l(T,t)||Q(i,t)}),i},tc=function(t){var e=t===W,i=$(e?tt:c(t)),o=[];return A(i,function(t){l(J,t)&&(!e||l(W,t))&&Q(o,J[t])}),o};s||(O(q=(U=function(){if(d(q,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,o=P(t),r=function(t){var n=void 0===this?e:this;n===W&&i(r,tt,t),l(n,F)&&l(n[F],o)&&(n[F][o]=!1);var s=f(1,t);try{tr(n,o,s)}catch(t){if(!(t instanceof V))throw t;to(n,o,s)}};return n&&ti&&tr(W,o,{configurable:!0,set:r}),tn(o,t)})[R],"toString",function(){return H(this).tag}),O(U,"withoutSetter",function(t){return tn(P(t),t)}),E.f=tl,x.f=ts,_.f=ta,w.f=td,v.f=y.f=th,b.f=tc,M.f=function(t){return tn(N(t),t)},n&&(k(q,"description",{configurable:!0,get:function(){return H(this).description}}),r||O(W,"propertyIsEnumerable",tl,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:U}),A(m(te),function(t){I(t)}),t({target:B,stat:!0,forced:!s},{useSetter:function(){ti=!0},useSimple:function(){ti=!1}}),t({target:"Object",stat:!0,forced:!s,sham:!n},{create:function(t,e){return void 0===e?g(t):ta(g(t),e)},defineProperty:ts,defineProperties:ta,getOwnPropertyDescriptor:td}),t({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:th}),D(),j(U,B),T[F]=!0}}(),function(){if(!is){is=1;var t=xF(),e=xl(),i=xE(),o=x0(),r=xx(),n=_m(),s=r("string-to-symbol-registry"),a=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!n},{for:function(t){var r=o(t);if(i(s,r))return s[r];var n=e("Symbol")(r);return s[r]=n,a[n]=r,n}})}}(),function(){if(!ia){ia=1;var t=xF(),e=xE(),i=xf(),o=xg(),r=xx(),n=_m(),s=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!n},{keyFor:function(t){if(!i(t))throw TypeError(o(t)+" is not a symbol");if(e(s,t))return s[t]}})}}(),_y(),function(){if(!ic){ic=1;var t=xF(),e=xu(),i=wJ(),o=_s(),r=x_();t({target:"Object",stat:!0,forced:!e||i(function(){o.f(1)})},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(r(t)):[]}})}}()),xJ}var _w={};function _x(){return ip||(ip=1,_c()("asyncDispose")),_w}var __={};function _E(){return im||(im=1,_c()("dispose")),__}var _O={};function _k(){return ib||(ib=1,_c()("iterator")),_O}var _S={};function _C(){if(iS)return _S;iS=1;var t=_c(),e=_u();return t("toPrimitive"),e(),_S}var _T={};function _P(){return iD?iI:(iD=1,iI=function(){})}function _N(){return iz?ij:(iz=1,ij={})}function _M(){if(iH)return iL;iH=1;var t=xE(),e=w4(),i=x_(),o=x9(),r=iR?iB:(iR=1,iB=!wJ()(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),n=o("IE_PROTO"),s=Object,a=s.prototype;return iL=r?s.getPrototypeOf:function(o){var r=i(o);if(t(r,n))return r[n];var l=r.constructor;return e(l)&&r instanceof l?l.prototype:r instanceof s?a:null}}function _I(){if(iU)return iW;iU=1;var t,e,i,o=wJ(),r=w4(),n=xs(),s=x7(),a=_M(),l=_a(),d=xk(),h=xb(),c=d("iterator"),u=!1;return[].keys&&("next"in(i=[].keys())?(e=a(a(i)))!==Object.prototype&&(t=e):u=!0),!n(t)||o(function(){var e={};return t[c].call(e)!==e})?t={}:h&&(t=s(t)),r(t[c])||l(t,c,function(){return this}),iW={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:u}}function _D(){if(i1)return i0;i1=1;var t=xF(),e=w9(),i=xb(),o=function(){if(iF)return iA;iF=1;var t=w8(),e=xE(),i=Function.prototype,o=t&&Object.getOwnPropertyDescriptor,r=e(i,"name"),n=r&&(!t||t&&o(i,"name").configurable);return iA={EXISTS:r,PROPER:r&&"something"===(function(){}).name,CONFIGURABLE:n}}(),r=w4(),n=function(){if(iV)return iq;iV=1;var t=_I().IteratorPrototype,e=x7(),i=xe(),o=_p(),r=_N(),n=function(){return this};return iq=function(s,a,l,d){var h=a+" Iterator";return s.prototype=e(t,{next:i(+!d,l)}),o(s,h,!1,!0),r[h]=n,s}}(),s=_M(),a=function(){if(iJ)return iQ;iJ=1;var t=function(){if(iX)return iY;iX=1;var t=w2(),e=xm();return iY=function(i,o,r){try{return t(e(Object.getOwnPropertyDescriptor(i,o)[r]))}catch(t){}}}(),e=xs(),i=xr(),o=function(){if(iZ)return i$;iZ=1;var t=function(){if(iK)return iG;iK=1;var t=xs();return iG=function(e){return t(e)||null===e}}(),e=String,i=TypeError;return i$=function(o){if(t(o))return o;throw new i("Can't set "+e(o)+" as a prototype")}}();return iQ=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,s={};try{(r=t(Object.prototype,"__proto__","set"))(s,[]),n=s instanceof Array}catch(t){}return function(t,s){return i(t),o(s),e(t)&&(n?r(t,s):t.__proto__=s),t}}():void 0)}(),l=_p(),d=xA(),h=_a(),c=xk(),u=_N(),p=_I(),f=o.PROPER,g=o.CONFIGURABLE,m=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),b="keys",w="values",x="entries",_=function(){return this};return i0=function(o,c,p,E,O,k,S){n(p,c,E);var C,T,P,N=function(t){if(t===O&&z)return z;if(!v&&t&&t in D)return D[t];switch(t){case b:case w:case x:return function(){return new p(this,t)}}return function(){return new p(this)}},M=c+" Iterator",I=!1,D=o.prototype,j=D[y]||D["@@iterator"]||O&&D[O],z=!v&&j||N(O),A="Array"===c&&D.entries||j;if(A&&(C=s(A.call(new o)))!==Object.prototype&&C.next&&(i||s(C)===m||(a?a(C,m):r(C[y])||h(C,y,_)),l(C,M,!0,!0),i&&(u[M]=_)),f&&O===w&&j&&j.name!==w&&(!i&&g?d(D,"name",w):(I=!0,z=function(){return e(j,this)})),O){if(T={values:N(w),keys:k?z:N(b),entries:N(x)},S)for(P in T)!v&&!I&&P in D||h(D,P,T[P]);else t({target:c,proto:!0,forced:v||I},T)}return(!i||S)&&D[y]!==z&&h(D,y,z,{name:O}),u[c]=z,T}}function _j(){return i5?i2:(i5=1,i2=function(t,e){return{value:t,done:e}})}function _z(){if(i4)return i3;i4=1;var t=xn(),e=_P(),i=_N(),o=_f(),r=xz().f,n=_D(),s=_j(),a=xb(),l=w8(),d="Array Iterator",h=o.set,c=o.getterFor(d);i3=n(Array,"Array",function(e,i){h(this,{type:d,target:t(e),index:0,kind:i})},function(){var t=c(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(i,!1);case"values":return s(e[i],!1)}return s([i,e[i]],!1)},"values");var u=i.Arguments=i.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&"values"!==u.name)try{r(u,"name",{value:"values"})}catch(t){}return i3}function _A(){if(i9)return _T;i9=1,_z();var t=i8?i6:(i8=1,i6={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),e=wQ(),i=_p(),o=_N();for(var r in t)i(e[r],r),o[r]=o.Array;return _T}function _F(){if(ot)return i7;ot=1;var t=iM?iN:(iM=1,xQ(),_b(),_x(),ig||(ig=1,_c()("asyncIterator")),_E(),iv||(iv=1,_c()("hasInstance")),iy||(iy=1,_c()("isConcatSpreadable")),_k(),iw||(iw=1,_c()("match")),ix||(ix=1,_c()("matchAll")),i_||(i_=1,_c()("replace")),iE||(iE=1,_c()("search")),iO||(iO=1,_c()("species")),ik||(ik=1,_c()("split")),_C(),function(){if(!iC){iC=1;var t=xl(),e=_c(),i=_p();e("toStringTag"),i(t("Symbol"),"Symbol")}}(),iT||(iT=1,_c()("unscopables")),function(){if(!iP){iP=1;var t=wQ();_p()(t.JSON,"JSON",!0)}}(),iN=xa().Symbol);return _A(),i7=t}function _B(){if(ol)return oa;ol=1;var t=xl(),e=w2(),i=t("Symbol"),o=i.keyFor,r=e(i.prototype.valueOf);return oa=i.isRegisteredSymbol||function(t){try{return void 0!==o(r(t))}catch(t){return!1}}}function _R(){if(oc)return oh;oc=1;for(var t=xx(),e=xl(),i=w2(),o=xf(),r=xk(),n=e("Symbol"),s=n.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=i(n.prototype.valueOf),d=t("wks"),h=0,c=a(n),u=c.length;h<u;h++)try{var p=c[h];o(n[p])&&r(p)}catch(t){}return oh=function(t){if(s&&s(t))return!0;try{for(var e=l(t),i=0,o=a(d),r=o.length;i<r;i++)if(d[o[i]]==e)return!0}catch(t){}return!1}}var _L=w$(oO?oE:(oO=1,oE=function(){if(o_)return ox;o_=1;var t=function(){if(os)return on;os=1;var t=_F();return function(){if(!oe){oe=1;var t=xk(),e=xz().f,i=t("metadata"),o=Function.prototype;void 0===o[i]&&e(o,i,{value:null})}}(),oi||(oi=1,_x()),oo||(oo=1,_E()),or||(or=1,_c()("metadata")),on=t}();return od||(od=1,xF()({target:"Symbol",stat:!0},{isRegisteredSymbol:_B()})),ou||(ou=1,xF()({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:_R()})),op||(op=1,_c()("customMatcher")),of||(of=1,_c()("observable")),og||(og=1,xF()({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:_B()})),om||(om=1,xF()({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:_R()})),ov||(ov=1,_c()("matcher")),oy||(oy=1,_c()("metadataKey")),ob||(ob=1,_c()("patternMatch")),ow||(ow=1,_c()("replaceAll")),ox=t}())),_H={};function _W(){if(oC)return _H;oC=1;var t=function(){if(oS)return ok;oS=1;var t=w2(),e=xW(),i=x0(),o=xr(),r=t("".charAt),n=t("".charCodeAt),s=t("".slice),a=function(t){return function(a,l){var d,h,c=i(o(a)),u=e(l),p=c.length;return u<0||u>=p?t?"":void 0:(d=n(c,u))<55296||d>56319||u+1===p||(h=n(c,u+1))<56320||h>57343?t?r(c,u):d:t?s(c,u,u+2):(d-55296<<10)+(h-56320)+65536}};return ok={codeAt:a(!1),charAt:a(!0)}}().charAt,e=x0(),i=_f(),o=_D(),r=_j(),n="String Iterator",s=i.set,a=i.getterFor(n);return o(String,"String",function(t){s(this,{type:n,string:e(t),index:0})},function(){var e,i=a(this),o=i.string,n=i.index;return n>=o.length?r(void 0,!0):(e=t(o,n),i.index+=e.length,r(e,!1))}),_H}function _U(){if(oM)return oN;oM=1;var t=oP?oT:(oP=1,_z(),_W(),_k(),oT=_h().f("iterator"));return _A(),oN=t}var _q=w$(oF?oA:(oF=1,oA=oz?oj:(oz=1,oj=oD?oI:(oD=1,oI=_U()))));function _V(t){return(_V="function"==typeof _L&&"symbol"==typeof _q?function(t){return typeof t}:function(t){return t&&"function"==typeof _L&&t.constructor===_L&&t!==_L.prototype?"symbol":typeof t})(t)}var _Y=w$(oX?oY:(oX=1,oY=oV?oq:(oV=1,oq=oU?oW:(oU=1,oW=oH?oL:(oH=1,oL=oR?oB:(oR=1,_C(),oB=_h().f("toPrimitive")))))));function _X(t,e,i){var o;return(o=function(t,e){if("object"!=_V(t)||!t)return t;var i=t[_Y];if(void 0!==i){var o=i.call(t,e);if("object"!=_V(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==_V(o)?o:o+"")in t)?xR(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _G(){if(oQ)return oZ;oQ=1;var t=wQ(),e=xa();return oZ=function(i,o){var r=e[i+"Prototype"],n=r&&r[o];if(n)return n;var s=t[i],a=s&&s.prototype;return a&&a[o]}}var _K=w$(o6?o4:(o6=1,o4=o3?o5:(o3=1,o5=function(){if(o2)return o1;o2=1;var t=xd(),e=o0?oJ:(o0=1,function(){if(!o$){o$=1;var t=xF(),e=function(){if(oK)return oG;oK=1;var t=w2(),e=xm(),i=xs(),o=xE(),r=_o(),n=w0(),s=Function,a=t([].concat),l=t([].join),d={},h=function(t,e,i){if(!o(d,e)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";d[e]=s("C,a","return new C("+l(r,",")+")")}return d[e](t,i)};return oG=n?s.bind:function(t){var o=e(this),n=o.prototype,s=r(arguments,1),l=function(){var e=a(s,r(arguments));return this instanceof l?h(o,e.length,e):o.apply(t,e)};return i(n)&&(l.prototype=n),l}}();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}}(),oJ=_G()("Function","bind")),i=Function.prototype;return o1=function(o){var r=o.bind;return o===i||t(i,o)&&r===i.bind?e:r}}())));function _$(){if(rt)return o7;rt=1;var t=wJ();return o7=function(e,i){var o=[][e];return!!o&&t(function(){o.call(null,i||function(){return 1},1)})}}function _Z(){if(ri)return re;ri=1;var t=wQ(),e=xh(),i=w5(),o=function(t){return e.slice(0,t.length)===t};return re=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}var _Q=w$(rp?ru:(rp=1,ru=rc?rh:(rc=1,rh=function(){if(rd)return rl;rd=1;var t=xd(),e=ra?rs:(ra=1,function(){if(!rn){rn=1;var t=xF(),e=function(){if(o9)return o8;o9=1;var t=xm(),e=x_(),i=xi(),o=xq(),r=TypeError,n="Reduce of empty array with no initial value",s=function(s){return function(a,l,d,h){var c=e(a),u=i(c),p=o(c);if(t(l),0===p&&d<2)throw new r(n);var f=s?p-1:0,g=s?-1:1;if(d<2)for(;;){if(f in u){h=u[f],f+=g;break}if(f+=g,s?f<0:p<=f)throw new r(n)}for(;s?f>=0:p>f;f+=g)f in u&&(h=l(h,u[f],f,c));return h}};return o8={left:s(!1),right:s(!0)}}().left,i=_$(),o=xc();t({target:"Array",proto:!0,forced:!(rr?ro:(rr=1,ro="NODE"===_Z()))&&o>79&&o<83||!i("reduce")},{reduce:function(t){var i=arguments.length;return e(this,t,i,i>1?arguments[1]:void 0)}})}}(),rs=_G()("Array","reduce")),i=Array.prototype;return rl=function(o){var r=o.reduce;return o===i||t(i,o)&&r===i.reduce?e:r}}()))),_J=w$(r_?rx:(r_=1,rx=rw?rb:(rw=1,rb=function(){if(ry)return rv;ry=1;var t=xd(),e=rm?rg:(rm=1,function(){if(!rf){rf=1;var t=xF(),e=_g().filter;t({target:"Array",proto:!0,forced:!xZ()("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),rg=_G()("Array","filter")),i=Array.prototype;return rv=function(o){var r=o.filter;return o===i||t(i,o)&&r===i.filter?e:r}}()))),_0=w$(rM?rN:(rM=1,rN=rP?rT:(rP=1,rT=function(){if(rC)return rS;rC=1;var t=xd(),e=rk?rO:(rk=1,function(){if(!rE){rE=1;var t=xF(),e=_g().map;t({target:"Array",proto:!0,forced:!xZ()("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),rO=_G()("Array","map")),i=Array.prototype;return rS=function(o){var r=o.map;return o===i||t(i,o)&&r===i.map?e:r}}())));rW||(rW=1,rH||(rH=1));var _1=w$(rq?rU:(rq=1,rU=_F())),_2=w$(rJ?rQ:(rJ=1,rQ=rZ?r$:(rZ=1,r$=function(){if(rK)return rG;rK=1;var t=xd(),e=rX?rY:(rX=1,function(){if(!rV){rV=1;var t=xF(),e=xH(),i=xK(),o=xs(),r=x2(),n=xq(),s=xn(),a=xY(),l=xk(),d=xZ(),h=_o(),c=d("slice"),u=l("species"),p=Array,f=Math.max;t({target:"Array",proto:!0,forced:!c},{slice:function(t,l){var d,c,g,m=s(this),v=n(m),y=r(t,v),b=r(void 0===l?v:l,v);if(e(m)&&(i(d=m.constructor)&&(d===p||e(d.prototype))?d=void 0:o(d)&&null===(d=d[u])&&(d=void 0),d===p||void 0===d))return h(m,y,b);for(g=0,c=new(void 0===d?p:d)(f(b-y,0));y<b;y++,g++)y in m&&a(c,g,m[y]);return c.length=g,c}})}}(),rY=_G()("Array","slice")),i=Array.prototype;return rG=function(o){var r=o.slice;return o===i||t(i,o)&&r===i.slice?e:r}}())));function _5(){if(r1)return r0;r1=1;var t=xl(),e=w2(),i=_e(),o=_s(),r=xj(),n=e([].concat);return r0=t("Reflect","ownKeys")||function(t){var e=i.f(r(t)),s=o.f;return s?n(e,s(t)):e}}var _3=w$(r9?r8:(r9=1,r8=r6?r4:(r6=1,r4=r3?r5:(r3=1,r2||(r2=1,xF()({target:"Reflect",stat:!0},{ownKeys:_5()})),r5=xa().Reflect.ownKeys)))),_4=w$(nn?nr:(nn=1,nr=no?ni:(no=1,ni=ne?nt:(ne=1,r7||(r7=1,xF()({target:"Array",stat:!0},{isArray:xH()})),nt=xa().Array.isArray)))),_6=w$(nu?nc:(nu=1,nc=nh?nd:(nh=1,nd=nl?na:(nl=1,function(){if(!ns){ns=1;var t=xF(),e=x_(),i=x6();t({target:"Object",stat:!0,forced:wJ()(function(){i(1)})},{keys:function(t){return i(e(t))}})}}(),na=xa().Object.keys)))),_8=w$(nE?n_:(nE=1,n_=function(){if(nx)return nw;nx=1;var t=xG(),e=xE(),i=xd(),o=nb?ny:(nb=1,ny=nv?nm:(nv=1,function(){if(!ng){ng=1;var t=xF(),e=function(){if(nf)return np;nf=1;var t=_g().forEach;return np=_$()("forEach")?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}();t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e})}}(),nm=_G()("Array","forEach"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return nw=function(s){var a=s.forEach;return s===r||i(r,s)&&a===r.forEach||e(n,t(s))?o:a}}())),_9=w$(nI?nM:(nI=1,nM=nN?nP:(nN=1,nP=function(){if(nT)return nC;nT=1;var t=xd(),e=nS?nk:(nS=1,function(){if(!nO){nO=1;var t=xF(),e=w2(),i=xH(),o=e([].reverse),r=[1,2];t({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o(this)}})}}(),nk=_G()("Array","reverse")),i=Array.prototype;return nC=function(o){var r=o.reverse;return o===i||t(i,o)&&r===i.reverse?e:r}}())));function _7(){if(nA)return nz;nA=1;var t=xg(),e=TypeError;return nz=function(i,o){if(!delete i[o])throw new e("Cannot delete property "+t(o)+" of "+t(i))}}var Et=w$(nV?nq:(nV=1,nq=nU?nW:(nU=1,nW=function(){if(nH)return nL;nH=1;var t=xd(),e=nR?nB:(nR=1,function(){if(!nF){nF=1;var t=xF(),e=x_(),i=x2(),o=xW(),r=xq(),n=function(){if(nj)return nD;nj=1;var t=w8(),e=xH(),i=TypeError,o=Object.getOwnPropertyDescriptor;return nD=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,r){if(e(t)&&!o(t,"length").writable)throw new i("Cannot set read only .length");return t.length=r}:function(t,e){return t.length=e}}(),s=xV(),a=x$(),l=xY(),d=_7(),h=xZ()("splice"),c=Math.max,u=Math.min;t({target:"Array",proto:!0,forced:!h},{splice:function(t,h){var p,f,g,m,v,y,b=e(this),w=r(b),x=i(t,w),_=arguments.length;for(0===_?p=f=0:1===_?(p=0,f=w-x):(p=_-2,f=u(c(o(h),0),w-x)),s(w+p-f),g=a(b,f),m=0;m<f;m++)(v=x+m)in b&&l(g,m,b[v]);if(g.length=f,p<f){for(m=x;m<w-f;m++)v=m+f,y=m+p,v in b?b[y]=b[v]:d(b,y);for(m=w;m>w-f+p;m--)d(b,m-1)}else if(p>f)for(m=w-f;m>x;m--)v=m+f-1,y=m+p-1,v in b?b[y]=b[v]:d(b,y);for(m=0;m<p;m++)b[m+x]=arguments[m+2];return n(b,w-f+p),g}})}}(),nB=_G()("Array","splice")),i=Array.prototype;return nL=function(o){var r=o.splice;return o===i||t(i,o)&&r===i.splice?e:r}}()))),Ee=w$(n0?nJ:(n0=1,nJ=nQ?nZ:(nQ=1,nZ=n$?nK:(n$=1,function(){if(!nG){nG=1;var t=xF(),e=function(){if(nX)return nY;nX=1;var t=w8(),e=w2(),i=w9(),o=wJ(),r=x6(),n=_s(),s=xt(),a=x_(),l=xi(),d=Object.assign,h=Object.defineProperty,c=e([].concat);return nY=!d||o(function(){if(t&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},o=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(t){i[t]=t}),7!==d({},e)[o]||r(d({},i)).join("")!==n})?function(e,o){for(var d=a(e),h=arguments.length,u=1,p=n.f,f=s.f;h>u;)for(var g,m=l(arguments[u++]),v=p?c(r(m),p(m)):r(m),y=v.length,b=0;y>b;)g=v[b++],(!t||i(f,m,g))&&(d[g]=m[g]);return d}:d}();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})}}(),nK=xa().Object.assign)))),Ei=w$(n9?n8:(n9=1,n8=n6?n4:(n6=1,n4=function(){if(n3)return n5;n3=1;var t=xd(),e=n2?n1:(n2=1,xQ(),n1=_G()("Array","concat")),i=Array.prototype;return n5=function(o){var r=o.concat;return o===i||t(i,o)&&r===i.concat?e:r}}()))),Eo=w$(sn?sr:(sn=1,sr=so?si:(so=1,si=function(){if(se)return st;se=1,n7||(n7=1,xF()({target:"Object",stat:!0,sham:!w8()},{create:x7()}));var t=xa().Object;return st=function(e,i){return t.create(e,i)}}()))),Er=w$(sy?sv:(sy=1,sv=sm?sg:(sm=1,sg=function(){if(sf)return sp;sf=1,function(){if(!su){su=1;var t=xF(),e=w9(),i=x_(),o=xS(),r=function(){if(sc)return sh;sc=1;var t=w2(),e=wJ(),i=function(){if(sd)return sl;sd=1;var t=w2(),e=xU(),i=x0(),o=function(){if(sa)return ss;sa=1;var t=xW(),e=x0(),i=xr(),o=RangeError;return ss=function(r){var n=e(i(this)),s="",a=t(r);if(a<0||a===1/0)throw new o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(s+=n);return s}}(),r=xr(),n=t(o),s=t("".slice),a=Math.ceil,l=function(t){return function(o,l,d){var h,c,u=i(r(o)),p=e(l),f=u.length,g=void 0===d?" ":i(d);return p<=f||""===g?u:((c=n(g,a((h=p-f)/g.length))).length>h&&(c=s(c,0,h)),t?u+c:c+u)}};return sl={start:l(!1),end:l(!0)}}().start,o=RangeError,r=isFinite,n=Math.abs,s=Date.prototype,a=s.toISOString,l=t(s.getTime),d=t(s.getUTCDate),h=t(s.getUTCFullYear),c=t(s.getUTCHours),u=t(s.getUTCMilliseconds),p=t(s.getUTCMinutes),f=t(s.getUTCMonth),g=t(s.getUTCSeconds);return sh=e(function(){return"0385-07-25T07:06:39.999Z"!==a.call(new Date(-5e13-1))})||!e(function(){a.call(new Date(NaN))})?function(){if(!r(l(this)))throw new o("Invalid time value");var t=h(this),e=u(this),s=t<0?"-":t>9999?"+":"";return s+i(n(t),s?6:4,0)+"-"+i(f(this)+1,2,0)+"-"+i(d(this),2,0)+"T"+i(c(this),2,0)+":"+i(p(this),2,0)+":"+i(g(this),2,0)+"."+i(e,3,0)+"Z"}:a}(),n=w5();t({target:"Date",proto:!0,forced:wJ()(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function(t){var s=i(this),a=o(s,"number");return"number"!=typeof a||isFinite(a)?"toISOString"in s||"Date"!==n(s)?s.toISOString():e(r,s):null}})}}(),_y();var t=xa(),e=w1();return t.JSON||(t.JSON={stringify:JSON.stringify}),sp=function(i,o,r){return e(t.JSON.stringify,null,arguments)}}())));function En(){if(s_)return sx;s_=1;var t,e=wQ(),i=w1(),o=w4(),r=_Z(),n=xh(),s=_o(),a=function(){if(sw)return sb;sw=1;var t=TypeError;return sb=function(e,i){if(e<i)throw new t("Not enough arguments");return e}}(),l=e.Function,d=/MSIE .\./.test(n)||"BUN"===r&&((t=e.Bun.version.split(".")).length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2]));return sx=function(t,e){var r=e?2:1;return d?function(n,d){var h=a(arguments.length,1)>r,c=o(n)?n:l(n),u=h?s(arguments,r):[],p=h?function(){i(c,this,u)}:c;return e?t(p,d):t(p)}:t}}var Es=w$(sP?sT:(sP=1,sT=sC?sS:(sC=1,sk||(sk=1,function(){if(!sE){sE=1;var t=xF(),e=wQ(),i=En()(e.setInterval,!0);t({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i})}}(),function(){if(!sO){sO=1;var t=xF(),e=wQ(),i=En()(e.setTimeout,!0);t({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i})}}()),sS=xa().setTimeout))),Ea={exports:{}},El=w$((sN||(sN=1,function(t){function e(t){if(t)return Object.assign(t,e.prototype),t._callbacks=new Map,t;this._callbacks=new Map}e.prototype.on=function(t,e){let i=this._callbacks.get(t)??[];return i.push(e),this._callbacks.set(t,i),this},e.prototype.once=function(t,e){let i=(...o)=>{this.off(t,i),e.apply(this,o)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;let i=this._callbacks.get(t);if(i){for(let[t,o]of i.entries())if(o===e||o.fn===e){i.splice(t,1);break}0===i.length?this._callbacks.delete(t):this._callbacks.set(t,i)}return this},e.prototype.emit=function(t,...e){let i=this._callbacks.get(t);if(i)for(let t of[...i])t.apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(let t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Ea)),Ea.exports));function Ed(){return(Ed=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function Eh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ec(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Eu="function"!=typeof Object.assign?function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}:Object.assign,Ep=["","webkit","Moz","MS","ms","o"],Ef="undefined"==typeof document?{style:{}}:document.createElement("div"),Eg=Math.round,Em=Math.abs,Ev=Date.now;function Ey(t,e){for(var i,o,r=e[0].toUpperCase()+e.slice(1),n=0;n<Ep.length;){if((o=(i=Ep[n])?i+r:e)in t)return o;n++}}sM="undefined"==typeof window?{}:window;var Eb=Ey(Ef.style,"touchAction"),Ew=void 0!==Eb,Ex="compute",E_="auto",EE="manipulation",EO="none",Ek="pan-x",ES="pan-y",EC=function(){if(!Ew)return!1;var t={},e=sM.CSS&&sM.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||sM.CSS.supports("touch-action",i)}),t}(),ET="ontouchstart"in sM,EP=void 0!==Ey(sM,"PointerEvent"),EN=ET&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),EM="touch",EI="mouse",ED=["x","y"],Ej=["clientX","clientY"];function Ez(t,e,i){var o;if(t){if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}}function EA(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function EF(t,e){return t.indexOf(e)>-1}var EB=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Ex&&(t=this.compute()),Ew&&this.manager.element.style&&EC[t]&&(this.manager.element.style[Eb]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Ez(this.manager.recognizers,function(e){EA(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(EF(t,EO))return EO;var e=EF(t,Ek),i=EF(t,ES);return e&&i?EO:e||i?e?Ek:ES:EF(t,EE)?EE:E_}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var o=this.actions,r=EF(o,EO)&&!EC[EO],n=EF(o,ES)&&!EC[ES],s=EF(o,Ek)&&!EC[Ek];if(r){var a=1===t.pointers.length,l=t.distance<2,d=t.deltaTime<250;if(a&&l&&d)return}if((!s||!n)&&(r||n&&6&i||s&&24&i))return this.preventSrc(e)},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function ER(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function EL(t){var e=t.length;if(1===e)return{x:Eg(t[0].clientX),y:Eg(t[0].clientY)};for(var i=0,o=0,r=0;r<e;)i+=t[r].clientX,o+=t[r].clientY,r++;return{x:Eg(i/e),y:Eg(o/e)}}function EH(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Eg(t.pointers[i].clientX),clientY:Eg(t.pointers[i].clientY)},i++;return{timeStamp:Ev(),pointers:e,center:EL(e),deltaX:t.deltaX,deltaY:t.deltaY}}function EW(t,e,i){i||(i=ED);var o=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(o*o+r*r)}function EU(t,e,i){i||(i=ED);var o=e[i[0]]-t[i[0]];return 180*Math.atan2(e[i[1]]-t[i[1]],o)/Math.PI}function Eq(t,e){return t===e?1:Em(t)>=Em(e)?t<0?2:4:e<0?8:16}function EV(t,e,i){return{x:e/t||0,y:i/t||0}}function EY(t,e,i){var o,r,n,s,a,l,d,h,c,u,p,f,g,m,v,y,b,w=i.pointers.length,x=i.changedPointers.length,_=1&e&&w-x==0,E=12&e&&w-x==0;i.isFirst=!!_,i.isFinal=!!E,_&&(t.session={}),i.eventType=e,r=t.session,s=(n=i.pointers).length,r.firstInput||(r.firstInput=EH(i)),s>1&&!r.firstMultiple?r.firstMultiple=EH(i):1===s&&(r.firstMultiple=!1),a=r.firstInput,d=(l=r.firstMultiple)?l.center:a.center,h=i.center=EL(n),i.timeStamp=Ev(),i.deltaTime=i.timeStamp-a.timeStamp,i.angle=EU(d,h),i.distance=EW(d,h),c=i.center,u=r.offsetDelta||{},p=r.prevDelta||{},f=r.prevInput||{},(1===i.eventType||4===f.eventType)&&(p=r.prevDelta={x:f.deltaX||0,y:f.deltaY||0},u=r.offsetDelta={x:c.x,y:c.y}),i.deltaX=p.x+(c.x-u.x),i.deltaY=p.y+(c.y-u.y),i.offsetDirection=Eq(i.deltaX,i.deltaY),g=EV(i.deltaTime,i.deltaX,i.deltaY),i.overallVelocityX=g.x,i.overallVelocityY=g.y,i.overallVelocity=Em(g.x)>Em(g.y)?g.x:g.y,i.scale=l?(m=l.pointers,EW(n[0],n[1],Ej)/EW(m[0],m[1],Ej)):1,i.rotation=l?(v=l.pointers,EU(n[1],n[0],Ej)+EU(v[1],v[0],Ej)):0,i.maxPointers=r.prevInput?i.pointers.length>r.prevInput.maxPointers?i.pointers.length:r.prevInput.maxPointers:i.pointers.length,function(t,e){var i,o,r,n,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,h=EV(a,l,d);o=h.x,r=h.y,i=Em(h.x)>Em(h.y)?h.x:h.y,n=Eq(l,d),t.lastInterval=e}else i=s.velocity,o=s.velocityX,r=s.velocityY,n=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=r,e.direction=n}(r,i),y=t.element,ER(o=(b=i.srcEvent).composedPath?b.composedPath()[0]:b.path?b.path[0]:b.target,y)&&(y=o),i.target=y,t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function EX(t){return t.trim().split(/\s+/g)}function EG(t,e,i){Ez(EX(e),function(e){t.addEventListener(e,i,!1)})}function EK(t,e,i){Ez(EX(e),function(e){t.removeEventListener(e,i,!1)})}function E$(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var EZ=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){EA(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&EG(this.element,this.evEl,this.domHandler),this.evTarget&&EG(this.target,this.evTarget,this.domHandler),this.evWin&&EG(E$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&EK(this.element,this.evEl,this.domHandler),this.evTarget&&EK(this.target,this.evTarget,this.domHandler),this.evWin&&EK(E$(this.element),this.evWin,this.domHandler)},t}();function EQ(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return -1}var EJ={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},E0={2:EM,3:"pen",4:EI,5:"kinect"},E1="pointerdown",E2="pointermove pointerup pointercancel";sM.MSPointerEvent&&!sM.PointerEvent&&(E1="MSPointerDown",E2="MSPointerMove MSPointerUp MSPointerCancel");var E5=function(t){function e(){var i,o=e.prototype;return o.evEl=E1,o.evWin=E2,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}return Eh(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,o=EJ[t.type.toLowerCase().replace("ms","")],r=E0[t.pointerType]||t.pointerType,n=r===EM,s=EQ(e,t.pointerId,"pointerId");1&o&&(0===t.button||n)?s<0&&(e.push(t),s=e.length-1):12&o&&(i=!0),!(s<0)&&(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(s,1))},e}(EZ);function E3(t){return Array.prototype.slice.call(t,0)}function E4(t,e,i){for(var o=[],r=[],n=0;n<t.length;){var s=e?t[n][e]:t[n];0>EQ(r,s)&&o.push(t[n]),r[n]=s,n++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}var E6={touchstart:1,touchmove:2,touchend:4,touchcancel:8},E8=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",i=t.apply(this,arguments)||this,i.targetIds={},i}return Eh(e,t),e.prototype.handler=function(t){var e=E6[t.type],i=E9.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:EM,srcEvent:t})},e}(EZ);function E9(t,e){var i,o,r=E3(t.touches),n=this.targetIds;if(3&e&&1===r.length)return n[r[0].identifier]=!0,[r,r];var s=E3(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(t){return ER(t.target,l)}),1===e)for(i=0;i<o.length;)n[o[i].identifier]=!0,i++;for(i=0;i<s.length;)n[s[i].identifier]&&a.push(s[i]),12&e&&delete n[s[i].identifier],i++;if(a.length)return[E4(o.concat(a),"identifier",!0),a]}var E7={mousedown:1,mousemove:2,mouseup:4},Ot=function(t){function e(){var i,o=e.prototype;return o.evEl="mousedown",o.evWin="mousemove mouseup",i=t.apply(this,arguments)||this,i.pressed=!1,i}return Eh(e,t),e.prototype.handler=function(t){var e=E7[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:EI,srcEvent:t}))},e}(EZ);function Oe(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},o=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)},2500)}}function Oi(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Oe.call(this,e)):12&t&&Oe.call(this,e)}function Oo(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var r=this.lastTouches[o],n=Math.abs(e-r.x),s=Math.abs(i-r.y);if(n<=25&&s<=25)return!0}return!1}var Or=function(t){function e(e,i){var o;return(o=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===EM,n=i.pointerType===EI;if(!n||!i.sourceCapabilities||!i.sourceCapabilities.firesTouchEvents){if(r)Oi.call(Ec(Ec(o)),e,i);else if(n&&Oo.call(Ec(Ec(o)),i))return;o.callback(t,e,i)}},o.touch=new E8(o.manager,o.handler),o.mouse=new Ot(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return Eh(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(EZ);function On(t,e,i){return!!Array.isArray(t)&&(Ez(t,i[e],i),!0)}var Os=1;function Oa(t,e){var i=e.manager;return i?i.get(t):t}function Ol(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Od=function(){function t(t){void 0===t&&(t={}),this.options=Ed({enable:!0},t),this.id=Os++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Eu(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(On(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Oa(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return On(t,"dropRecognizeWith",this)||(t=Oa(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(On(t,"requireFailure",this))return this;var e=this.requireFail;return -1===EQ(e,t=Oa(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(On(t,"dropRequireFailure",this))return this;t=Oa(t,this);var e=EQ(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function o(i){e.manager.emit(i,t)}i<8&&o(e.options.event+Ol(i)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(e.options.event+Ol(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Eu({},t);if(!EA(this.options.enable,[this,e])){this.reset(),this.state=32;return}56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Oh=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Ed({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){return[EE]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,r=t.distance<i.threshold,n=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&n&&o){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||EW(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Od),Oc=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ed({pointers:1},e))||this}Eh(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,o=6&e,r=this.attrTest(t);return o&&(8&i||!r)?16|e:o||r?4&i?8|e:2&e?4|e:2:32},e}(Od);function Ou(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var Op=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Ed({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(ES),24&t&&e.push(Ek),e},i.directionTest=function(t){var e=this.options,i=!0,o=t.distance,r=t.direction,n=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===n?1:n<0?2:4,i=n!==this.pX,o=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,i=s!==this.pY,o=Math.abs(t.deltaY))),t.direction=r,i&&o>e.threshold&&r&e.direction},i.attrTest=function(t){return Oc.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Ou(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Oc),Of=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ed({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){return Op.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,o=this.options.direction;return 30&o?i=e.overallVelocity:6&o?i=e.overallVelocityX:24&o&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&o&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Em(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=Ou(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Oc),Og=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ed({event:"pinch",threshold:0,pointers:2},e))||this}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){return[EO]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Oc),Om=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Ed({event:"rotate",threshold:0,pointers:2},e))||this}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){return[EO]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Oc),Ov=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Ed({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Eh(e,t);var i=e.prototype;return i.getTouchAction=function(){return[E_]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,r=t.distance<i.threshold,n=t.deltaTime>i.time;if(this._input=t,r&&o&&(!(12&t.eventType)||n)){if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(4&t.eventType)return 8}else this.reset();return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Ev(),this.manager.emit(this.options.event,this._input)))},e}(Od),Oy={domEvents:!1,touchAction:Ex,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ob=[[Om,{enable:!1}],[Og,{enable:!1},["rotate"]],[Of,{direction:6}],[Op,{direction:6},["swipe"]],[Oh],[Oh,{event:"doubletap",taps:2},["tap"]],[Ov]];function Ow(t,e){var i,o=t.element;o.style&&(Ez(t.options.cssProps,function(r,n){i=Ey(o.style,n),e?(t.oldCssProps[i]=o.style[i],o.style[i]=r):o.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var Ox=function(){function t(t,e){var i,o=this;this.options=Eu({},Oy,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this.options.inputClass)?i:EP?E5:EN?E8:ET?Or:Ot)(this,EY),this.touchAction=new EB(this,this.options.touchAction),Ow(this,!0),Ez(this.options.recognizers,function(t){var e=o.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return Eu(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var o=this.recognizers,r=i.curRecognizer;(!r||r&&8&r.state)&&(i.curRecognizer=null,r=null);for(var n=0;n<o.length;)e=o[n],2!==i.stopped&&(!r||e===r||e.canRecognizeWith(r))?e.recognize(t):e.reset(),!r&&14&e.state&&(i.curRecognizer=e,r=e),n++}},e.get=function(t){if(t instanceof Od)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(On(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(On(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,o=EQ(i,e);-1!==o&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Ez(EX(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Ez(EX(t),function(t){e?i[t]&&i[t].splice(EQ(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){if(this.options.domEvents){var i;(i=document.createEvent("Event")).initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<o.length;)o[r](e),r++}},e.destroy=function(){this.element&&Ow(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),O_={touchstart:1,touchmove:2,touchend:4,touchcancel:8},OE=function(t){function e(){var i,o=e.prototype;return o.evTarget="touchstart",o.evWin="touchstart touchmove touchend touchcancel",i=t.apply(this,arguments)||this,i.started=!1,i}return Eh(e,t),e.prototype.handler=function(t){var e=O_[t.type];if(1===e&&(this.started=!0),this.started){var i=OO.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:EM,srcEvent:t})}},e}(EZ);function OO(t,e){var i=E3(t.touches),o=E3(t.changedTouches);return 12&e&&(i=E4(i.concat(o),"identifier",!0)),[i,o]}function Ok(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,o,i),t.apply(this,arguments)}}var OS=Ok(function(t,e,i){for(var o=Object.keys(e),r=0;r<o.length;)(!i||i&&void 0===t[o[r]])&&(t[o[r]]=e[o[r]]),r++;return t},"extend","Use `assign`."),OC=Ok(function(t,e){return OS(t,e,!0)},"merge","Use `assign`.");function OT(t,e,i){var o,r=e.prototype;(o=t.prototype=Object.create(r)).constructor=t,o._super=r,i&&Eu(o,i)}function OP(t,e){return function(){return t.apply(e,arguments)}}var ON=function(){var t=function(t,e){return void 0===e&&(e={}),new Ox(t,Ed({recognizers:Ob.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=Ox,t.Input=EZ,t.TouchAction=EB,t.TouchInput=E8,t.MouseInput=Ot,t.PointerEventInput=E5,t.TouchMouseInput=Or,t.SingleTouchInput=OE,t.Recognizer=Od,t.AttrRecognizer=Oc,t.Tap=Oh,t.Pan=Op,t.Swipe=Of,t.Pinch=Og,t.Rotate=Om,t.Press=Ov,t.on=EG,t.off=EK,t.each=Ez,t.merge=OC,t.extend=OS,t.bindFn=OP,t.assign=Eu,t.inherit=OT,t.bindFn=OP,t.prefixed=Ey,t.toArray=E3,t.inArray=EQ,t.uniqueArray=E4,t.splitStr=EX,t.boolOrFn=EA,t.hasParent=ER,t.addEventListeners=EG,t.removeEventListeners=EK,t.defaults=Eu({},Oy,{preset:Ob}),t}();let OM=_1("DELETE"),OI="undefined"!=typeof window?window.Hammer||ON:function(){return function(){let t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function OD(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});let i=OI(this._dom.overlay);i.on("tap",_K(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{i.destroy()});let o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];_8(o).call(o,t=>{i.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(e.target,t)&&this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}El(OD.prototype),OD.current=null,OD.prototype.destroy=function(){for(let i of(this.deactivate(),_9(t=Et(e=this._cleanupQueue).call(e,0)).call(t))){var t,e;i()}},OD.prototype.activate=function(){OD.current&&OD.current.deactivate(),OD.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},OD.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},OD.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Oj=w$(sF?sA:(sF=1,sA=sz?sj:(sz=1,sj=sD?sI:(sD=1,_b(),sI=xa().Object.getOwnPropertySymbols)))),Oz={exports:{}},OA=w$(sU?sW:(sU=1,sW=sH?sL:(sH=1,sL=function(){if(sR)return Oz.exports;sR=1,function(){if(!sB){sB=1;var t=xF(),e=wJ(),i=xn(),o=xN().f,r=w8();t({target:"Object",stat:!0,forced:!r||e(function(){o(1)}),sham:!r},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})}}();var t=xa().Object,e=Oz.exports=function(e,i){return t.getOwnPropertyDescriptor(e,i)};return t.getOwnPropertyDescriptor.sham&&(e.sham=!0),Oz.exports}()))),OF=w$(s$?sK:(s$=1,sK=sG?sX:(sG=1,sX=sY?sV:(sY=1,function(){if(!sq){sq=1;var t=xF(),e=w8(),i=_5(),o=xn(),r=xN(),n=xY();t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){for(var e,s,a=o(t),l=r.f,d=i(a),h={},c=0;d.length>c;)void 0!==(s=l(a,e=d[c++]))&&n(h,e,s);return h}})}}(),sV=xa().Object.getOwnPropertyDescriptors)))),OB={exports:{}},OR=w$(s2?s1:(s2=1,s1=s0?sJ:(s0=1,sJ=function(){if(sQ)return OB.exports;sQ=1,function(){if(!sZ){sZ=1;var t=xF(),e=w8(),i=x8().f;t({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!e},{defineProperties:i})}}();var t=xa().Object,e=OB.exports=function(e,i){return t.defineProperties(e,i)};return t.defineProperties.sham&&(e.sham=!0),OB.exports}()))),OL=w$(s3?s5:(s3=1,s5=xB())),OH={exports:{}};function OW(){if(ae)return OH.exports;ae=1;var t=xF(),e=w2(),i=x5(),o=xs(),r=xE(),n=xz().f,s=_e(),a=_r(),l=function(){if(s9)return s8;s9=1;var t=wJ(),e=xs(),i=w5(),o=s6?s4:(s6=1,s4=wJ()(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),r=Object.isExtensible;return s8=t(function(){})||o?function(t){return!!e(t)&&(!o||"ArrayBuffer"!==i(t))&&(!r||r(t))}:r}(),d=xO(),h=at?s7:(at=1,s7=!wJ()(function(){return Object.isExtensible(Object.preventExtensions({}))})),c=!1,u=d("meta"),p=0,f=function(t){n(t,u,{value:{objectID:"O"+p++,weakData:{}}})},g=OH.exports={enable:function(){g.enable=function(){},c=!0;var i=s.f,o=e([].splice),r={};r[u]=1,i(r).length&&(s.f=function(t){for(var e=i(t),r=0,n=e.length;r<n;r++)if(e[r]===u){o(e,r,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,u)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},getWeakData:function(t,e){if(!r(t,u)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},onFreeze:function(t){return h&&c&&l(t)&&!r(t,u)&&f(t),t}};return i[u]=!0,OH.exports}function OU(){if(an)return ar;an=1;var t=xG(),e=xv(),i=xo(),o=_N(),r=xk()("iterator");return ar=function(n){if(!i(n))return e(n,r)||e(n,"@@iterator")||o[t(n)]}}function Oq(){if(aa)return as;aa=1;var t=w9(),e=xm(),i=xj(),o=xg(),r=OU(),n=TypeError;return as=function(s,a){var l=arguments.length<2?r(s):a;if(e(l))return i(t(l,s));throw new n(o(s)+" is not iterable")}}function OV(){if(ad)return al;ad=1;var t=w9(),e=xj(),i=xv();return al=function(o,r,n){var s,a;e(o);try{if(!(s=i(o,"return"))){if("throw"===r)throw n;return n}s=t(s,o)}catch(t){a=!0,s=t}if("throw"===r)throw n;if(a)throw s;return e(s),n}}function OY(){if(ac)return ah;ac=1;var t=xM(),e=w9(),i=xj(),o=xg(),r=function(){if(ao)return ai;ao=1;var t=xk(),e=_N(),i=t("iterator"),o=Array.prototype;return ai=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}}(),n=xq(),s=xd(),a=Oq(),l=OU(),d=OV(),h=TypeError,c=function(t,e){this.stopped=t,this.result=e},u=c.prototype;return ah=function(p,f,g){var m,v,y,b,w,x,_,E=g&&g.that,O=!!(g&&g.AS_ENTRIES),k=!!(g&&g.IS_RECORD),S=!!(g&&g.IS_ITERATOR),C=!!(g&&g.INTERRUPTED),T=t(f,E),P=function(t){return m&&d(m,"normal"),new c(!0,t)},N=function(t){return O?(i(t),C?T(t[0],t[1],P):T(t[0],t[1])):C?T(t,P):T(t)};if(k)m=p.iterator;else if(S)m=p;else{if(!(v=l(p)))throw new h(o(p)+" is not iterable");if(r(v)){for(y=0,b=n(p);b>y;y++)if((w=N(p[y]))&&s(u,w))return w;return new c(!1)}m=a(p,v)}for(x=k?p.next:m.next;!(_=e(x,m)).done;){try{w=N(_.value)}catch(t){d(m,"throw",t)}if("object"==typeof w&&w&&s(u,w))return w}return new c(!1)}}function OX(){if(ap)return au;ap=1;var t=xd(),e=TypeError;return au=function(i,o){if(t(o,i))return i;throw new e("Incorrect invocation")}}function OG(){if(ag)return af;ag=1;var t=xF(),e=wQ(),i=OW(),o=wJ(),r=xA(),n=OY(),s=OX(),a=w4(),l=xs(),d=xo(),h=_p(),c=xz().f,u=_g().forEach,p=w8(),f=_f(),g=f.set,m=f.getterFor;return af=function(f,v,y){var b,w=-1!==f.indexOf("Map"),x=-1!==f.indexOf("Weak"),_=w?"set":"add",E=e[f],O=E&&E.prototype,k={};if(p&&a(E)&&(x||O.forEach&&!o(function(){new E().entries().next()}))){var S=(b=v(function(t,e){g(s(t,S),{type:f,collection:new E}),d(e)||n(e,t[_],{that:t,AS_ENTRIES:w})})).prototype,C=m(f);u(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;t in O&&!(x&&"clear"===t)&&r(S,t,function(i,o){var r=C(this).collection;if(!e&&x&&!l(i))return"get"===t&&void 0;var n=r[t](0===i?0:i,o);return e?this:n})}),x||c(S,"size",{configurable:!0,get:function(){return C(this).collection.size}})}else b=y.getConstructor(v,f,w,_),i.enable();return h(b,f,!1,!0),k[f]=b,t({global:!0,forced:!0},k),x||y.setStrong(b,f,w),b}}function OK(){if(ax)return aw;ax=1;var t=x7(),e=_l(),i=function(){if(av)return am;av=1;var t=_a();return am=function(e,i,o){for(var r in i)o&&o.unsafe&&e[r]?e[r]=i[r]:t(e,r,i[r],o);return e}}(),o=xM(),r=OX(),n=xo(),s=OY(),a=_D(),l=_j(),d=function(){if(ab)return ay;ab=1;var t=xl(),e=_l(),i=xk(),o=w8(),r=i("species");return ay=function(i){var n=t(i);o&&n&&!n[r]&&e(n,r,{configurable:!0,get:function(){return this}})}}(),h=w8(),c=OW().fastKey,u=_f(),p=u.set,f=u.getterFor;return aw={getConstructor:function(a,l,d,u){var g=a(function(e,i){r(e,m),p(e,{type:l,index:t(null),first:null,last:null,size:0}),h||(e.size=0),n(i)||s(i,e[u],{that:e,AS_ENTRIES:d})}),m=g.prototype,v=f(l),y=function(t,e,i){var o,r,n=v(t),s=b(t,e);return s?s.value=i:(n.last=s={index:r=c(e,!0),key:e,value:i,previous:o=n.last,next:null,removed:!1},n.first||(n.first=s),o&&(o.next=s),h?n.size++:t.size++,"F"!==r&&(n.index[r]=s)),t},b=function(t,e){var i,o=v(t),r=c(e);if("F"!==r)return o.index[r];for(i=o.first;i;i=i.next)if(i.key===e)return i};return i(m,{clear:function(){for(var e=v(this),i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=null),i=i.next;e.first=e.last=null,e.index=t(null),h?e.size=0:this.size=0},delete:function(t){var e=v(this),i=b(this,t);if(i){var o=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),e.first===i&&(e.first=o),e.last===i&&(e.last=r),h?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=v(this),r=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(m,d?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&e(m,"size",{configurable:!0,get:function(){return v(this).size}}),g},setStrong:function(t,e,i){var o=e+" Iterator",r=f(e),n=f(o);a(t,e,function(t,e){p(this,{type:o,target:t,state:r(t),kind:e,last:null})},function(){for(var t=n(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"===e?l(i.key,!1):"values"===e?l(i.value,!1):l([i.key,i.value],!1):(t.target=null,l(void 0,!0))},i?"entries":"values",!i,!0),d(e)}}}function O$(){return ak?aO:(ak=1,aO=function(t,e){return 1===e?function(e,i){return e[t](i)}:function(e,i,o){return e[t](i,o)}})}var OZ=w$(aj?aD:(aj=1,aD=function(){if(aI)return aM;aI=1;var t=aN?aP:(aN=1,_z(),aE||(aE=1,a_||(a_=1,OG()("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},OK()))),function(){if(!aT){aT=1;var t=xF(),e=w2(),i=xm(),o=xr(),r=OY(),n=function(){if(aC)return aS;aC=1;var t=xl(),e=O$(),i=t("Map");return aS={Map:i,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:i.prototype}}(),s=xb(),a=wJ(),l=n.Map,d=n.has,h=n.get,c=n.set,u=e([].push),p=s||a(function(){return 1!==l.groupBy("ab",function(t){return t}).get("a").length});t({target:"Map",stat:!0,forced:s||p},{groupBy:function(t,e){o(t),i(e);var n=new l,s=0;return r(t,function(t){var i=e(t,s++);d(n,i)?u(h(n,i),t):c(n,i,[t])}),n}})}}(),_W(),aP=xa().Map);return _A(),aM=t}())),OQ=w$(aU?aW:(aU=1,aW=aH?aL:(aH=1,aL=function(){if(aR)return aB;aR=1;var t=xd(),e=aF?aA:(aF=1,function(){if(!az){az=1;var t=xF(),e=_g().some;t({target:"Array",proto:!0,forced:!_$()("some")},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),aA=_G()("Array","some")),i=Array.prototype;return aB=function(o){var r=o.some;return o===i||t(i,o)&&r===i.some?e:r}}()))),OJ=w$(aZ?a$:(aZ=1,a$=function(){if(aK)return aG;aK=1,_A();var t=xG(),e=xE(),i=xd(),o=aX?aY:(aX=1,aY=aV?aq:(aV=1,_z(),aq=_G()("Array","keys"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return aG=function(s){var a=s.keys;return s===r||i(r,s)&&a===r.keys||e(n,t(s))?o:a}}())),O0=w$(lr?lo:(lr=1,lo=li?le:(li=1,le=function(){if(lt)return a7;lt=1;var t=xd(),e=a9?a8:(a9=1,function(){if(!a6){a6=1;var t=xF(),e=w2(),i=xm(),o=x_(),r=xq(),n=_7(),s=x0(),a=wJ(),l=function(){if(aJ)return aQ;aJ=1;var t=_o(),e=Math.floor,i=function(o,r){var n=o.length;if(n<8)for(var s,a,l=1;l<n;){for(a=l,s=o[l];a&&r(o[a-1],s)>0;)o[a]=o[--a];a!==l++&&(o[a]=s)}else for(var d=e(n/2),h=i(t(o,0,d),r),c=i(t(o,d),r),u=h.length,p=c.length,f=0,g=0;f<u||g<p;)o[f+g]=f<u&&g<p?0>=r(h[f],c[g])?h[f++]:c[g++]:f<u?h[f++]:c[g++];return o};return aQ=i}(),d=_$(),h=function(){if(a1)return a0;a1=1;var t=xh().match(/firefox\/(\d+)/i);return a0=!!t&&+t[1]}(),c=function(){if(a5)return a2;a5=1;var t=xh();return a2=/MSIE|Trident/.test(t)}(),u=xc(),p=function(){if(a4)return a3;a4=1;var t=xh().match(/AppleWebKit\/(\d+)\./);return a3=!!t&&+t[1]}(),f=[],g=e(f.sort),m=e(f.push),v=a(function(){f.sort(void 0)}),y=a(function(){f.sort(null)}),b=d("sort"),w=!a(function(){if(u)return u<70;if(!h||!(h>3)){if(c)return!0;if(p)return p<603;var t,e,i,o,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(o=0;o<47;o++)f.push({k:e+o,v:i})}for(f.sort(function(t,e){return e.v-t.v}),o=0;o<f.length;o++)e=f[o].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});t({target:"Array",proto:!0,forced:v||!y||!b||!w},{sort:function(t){void 0!==t&&i(t);var e,a,d=o(this);if(w)return void 0===t?g(d):g(d,t);var h=[],c=r(d);for(a=0;a<c;a++)a in d&&m(h,d[a]);for(l(h,function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:s(e)>s(i)?1:-1}),e=r(h),a=0;a<e;)d[a]=h[a++];for(;a<c;)n(d,a++);return d}})}}(),a8=_G()("Array","sort")),i=Array.prototype;return a7=function(o){var r=o.sort;return o===i||t(i,o)&&r===i.sort?e:r}}()))),O1=w$(lu?lc:(lu=1,lc=function(){if(lh)return ld;lh=1,_A();var t=xG(),e=xE(),i=xd(),o=ll?la:(ll=1,la=ls?ln:(ls=1,_z(),ln=_G()("Array","values"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return ld=function(s){var a=s.values;return s===r||i(r,s)&&a===r.values||e(n,t(s))?o:a}}())),O2=w$(lf?lp:(lf=1,lp=_U())),O5=w$(l_?lx:(l_=1,lx=function(){if(lw)return lb;lw=1,_A();var t=xG(),e=xE(),i=xd(),o=ly?lv:(ly=1,lv=lm?lg:(lm=1,_z(),lg=_G()("Array","entries"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return lb=function(s){var a=s.entries;return s===r||i(r,s)&&a===r.entries||e(n,t(s))?o:a}}()));let O3=[];for(let t=0;t<256;++t)O3.push((t+256).toString(16).slice(1));let O4=new Uint8Array(16);var O6={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function O8(t){return"string"==typeof t||"number"==typeof t}class O9{constructor(t){_X(this,"_queue",[]),_X(this,"_timeout",null),_X(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}setOptions(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}static extend(t,e){let i=new O9(e);if(void 0!==t.flush)throw Error("Target object already has a property flush");t.flush=()=>{i.flush()};let o=[{name:"flush",original:void 0}];if(e&&e.replace)for(let r=0;r<e.replace.length;r++){let n=e.replace[r];o.push({name:n,original:t[n]}),i.replace(t,n)}return i._extended={object:t,methods:o},i}destroy(){if(this.flush(),this._extended){let t=this._extended.object,e=this._extended.methods;for(let i=0;i<e.length;i++){let o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}}replace(t,e){let i=this,o=t[e];if(!o)throw Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];i.queue({args:e,fn:o,context:this})}}queue(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Es(()=>{this.flush()},this.delay))}flush(){var t,e;_8(t=Et(e=this._queue).call(e,0)).call(t,t=>{t.fn.apply(t.context||t.fn,t.args||[])})}}class O7{constructor(){_X(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_X(this,"subscribe",O7.prototype.on),_X(this,"unsubscribe",O7.prototype.off)}_trigger(t,e,i){var o;if("*"===t)throw Error("Cannot trigger event *");_8(o=[...this._subscribers[t],...this._subscribers["*"]]).call(o,o=>{o(t,e,null!=i?i:null)})}on(t,e){"function"==typeof e&&this._subscribers[t].push(e)}off(t,e){var i;this._subscribers[t]=_J(i=this._subscribers[t]).call(i,t=>t!==e)}}function kt(){if(lS)return lk;lS=1;var t=xg(),e=TypeError;return lk=function(i){if("object"==typeof i&&"size"in i&&"has"in i&&"add"in i&&"delete"in i&&"keys"in i)return i;throw new e(t(i)+" is not a set")}}function ke(){if(lT)return lC;lT=1;var t=xl(),e=O$(),i=t("Set"),o=i.prototype;return lC={Set:i,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:o}}function ki(){if(lN)return lP;lN=1;var t=w9();return lP=function(e,i,o){for(var r,n,s=o?e:e.iterator,a=e.next;!(r=t(a,s)).done;)if(void 0!==(n=i(r.value)))return n}}function ko(){if(lI)return lM;lI=1;var t=ki();return lM=function(e,i,o){return o?t(e.keys(),i,!0):e.forEach(i)}}function kr(){if(lj)return lD;lj=1;var t=ke(),e=ko(),i=t.Set,o=t.add;return lD=function(t){var r=new i;return e(t,function(t){o(r,t)}),r}}function kn(){return lA?lz:(lA=1,lz=function(t){return t.size})}function ks(){if(lL)return lR;lL=1;var t=xm(),e=xj(),i=w9(),o=xW(),r=lB?lF:(lB=1,lF=function(t){return{iterator:t,next:t.next,done:!1}}),n="Invalid size",s=RangeError,a=TypeError,l=Math.max,d=function(e,i){this.set=e,this.size=l(i,0),this.has=t(e.has),this.keys=t(e.keys)};return d.prototype={getIterator:function(){return r(e(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},lR=function(t){e(t);var i=+t.size;if(i!=i)throw new a(n);var r=o(i);if(r<0)throw new s(n);return new d(t,r)}}function ka(){return lq?lU:(lq=1,lU=function(){return!1})}function kl(){return l8?l6:(l8=1,l6=function(t){try{var e=new Set,i=e[t]({size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}});return 1===i.size&&4===i.values().next().value}catch(t){return!1}})}var kd=w$(dl?da:(dl=1,da=function(){if(ds)return dn;ds=1;var t=dr?di:(dr=1,_z(),lO||(lO=1,lE||(lE=1,OG()("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},OK()))),function(){if(!lV){lV=1;var t=xF(),e=function(){if(lW)return lH;lW=1;var t=kt(),e=ke(),i=kr(),o=kn(),r=ks(),n=ko(),s=ki(),a=e.has,l=e.remove;return lH=function(e){var d=t(this),h=r(e),c=i(d);return o(d)<=h.size?n(d,function(t){h.includes(t)&&l(c,t)}):s(h.getIterator(),function(t){a(c,t)&&l(c,t)}),c}}(),i=wJ();t({target:"Set",proto:!0,real:!0,forced:!ka()("difference",function(t){return 0===t.size})||i(function(){var t=new Set([1,2,3,4]);return 3!==t.difference({size:1,has:function(){return!0},keys:function(){var e=0;return{next:function(){var i=e++>1;return t.has(1)&&t.clear(),{done:i,value:2}}}}}).size})},{difference:e})}}(),function(){if(!lG){lG=1;var t=xF(),e=wJ(),i=function(){if(lX)return lY;lX=1;var t=kt(),e=ke(),i=kn(),o=ks(),r=ko(),n=ki(),s=e.Set,a=e.add,l=e.has;return lY=function(e){var d=t(this),h=o(e),c=new s;return i(d)>h.size?n(h.getIterator(),function(t){l(d,t)&&a(c,t)}):r(d,function(t){h.includes(t)&&a(c,t)}),c}}();t({target:"Set",proto:!0,real:!0,forced:!ka()("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:i})}}(),function(){if(!lZ){lZ=1;var t=xF(),e=function(){if(l$)return lK;l$=1;var t=kt(),e=ke().has,i=kn(),o=ks(),r=ko(),n=ki(),s=OV();return lK=function(a){var l=t(this),d=o(a);if(i(l)<=d.size)return!1!==r(l,function(t){if(d.includes(t))return!1},!0);var h=d.getIterator();return!1!==n(h,function(t){if(e(l,t))return s(h,"normal",!1)})}}();t({target:"Set",proto:!0,real:!0,forced:!ka()("isDisjointFrom",function(t){return!t})},{isDisjointFrom:e})}}(),function(){if(!l0){l0=1;var t=xF(),e=function(){if(lJ)return lQ;lJ=1;var t=kt(),e=kn(),i=ko(),o=ks();return lQ=function(r){var n=t(this),s=o(r);return!(e(n)>s.size)&&!1!==i(n,function(t){if(!s.includes(t))return!1},!0)}}();t({target:"Set",proto:!0,real:!0,forced:!ka()("isSubsetOf",function(t){return t})},{isSubsetOf:e})}}(),function(){if(!l5){l5=1;var t=xF(),e=function(){if(l2)return l1;l2=1;var t=kt(),e=ke().has,i=kn(),o=ks(),r=ki(),n=OV();return l1=function(s){var a=t(this),l=o(s);if(i(a)<l.size)return!1;var d=l.getIterator();return!1!==r(d,function(t){if(!e(a,t))return n(d,"normal",!1)})}}();t({target:"Set",proto:!0,real:!0,forced:!ka()("isSupersetOf",function(t){return!t})},{isSupersetOf:e})}}(),function(){if(!l9){l9=1;var t=xF(),e=function(){if(l4)return l3;l4=1;var t=kt(),e=ke(),i=kr(),o=ks(),r=ki(),n=e.add,s=e.has,a=e.remove;return l3=function(e){var l=t(this),d=o(e).getIterator(),h=i(l);return r(d,function(t){s(l,t)?a(h,t):n(h,t)}),h}}(),i=kl();t({target:"Set",proto:!0,real:!0,forced:!ka()("symmetricDifference")||!i("symmetricDifference")},{symmetricDifference:e})}}(),function(){if(!de){de=1;var t=xF(),e=function(){if(dt)return l7;dt=1;var t=kt(),e=ke().add,i=kr(),o=ks(),r=ki();return l7=function(n){var s=t(this),a=o(n).getIterator(),l=i(s);return r(a,function(t){e(l,t)}),l}}(),i=kl();t({target:"Set",proto:!0,real:!0,forced:!ka()("union")||!i("union")},{union:e})}}(),_W(),di=xa().Set);return _A(),dn=t}())),kh=w$(dw?db:(dw=1,db=dy?dv:(dy=1,dv=dm?dg:(dm=1,dg=df?dp:(df=1,dp=function(){if(du)return dc;du=1;var t=dh?dd:(dh=1,_z(),_W(),dd=Oq());return _A(),dc=t}())))));class kc{constructor(t){this._pairs=t}*[O2](){for(let[t,e]of this._pairs)yield[t,e]}*entries(){for(let[t,e]of this._pairs)yield[t,e]}*keys(){for(let[t]of this._pairs)yield t}*values(){for(let[,t]of this._pairs)yield t}toIdArray(){var t;return _0(t=[...this._pairs]).call(t,t=>t[0])}toItemArray(){var t;return _0(t=[...this._pairs]).call(t,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){let t=Eo(null);for(let[e,i]of this._pairs)t[e]=i;return t}toMap(){return new OZ(this._pairs)}toIdSet(){return new kd(this.toIdArray())}toItemSet(){return new kd(this.toItemArray())}cache(){return new kc([...this._pairs])}distinct(t){let e=new kd;for(let[i,o]of this._pairs)e.add(t(o,i));return e}filter(t){let e=this._pairs;return new kc({*[O2](){for(let[i,o]of e)t(o,i)&&(yield[i,o])}})}forEach(t){for(let[e,i]of this._pairs)t(i,e)}map(t){let e=this._pairs;return new kc({*[O2](){for(let[i,o]of e)yield[i,t(o,i)]}})}max(t){let e=kh(this._pairs),i=e.next();if(i.done)return null;let o=i.value[1],r=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){let[e,n]=i.value,s=t(n,e);s>r&&(r=s,o=n)}return o}min(t){let e=kh(this._pairs),i=e.next();if(i.done)return null;let o=i.value[1],r=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){let[e,n]=i.value,s=t(n,e);s<r&&(r=s,o=n)}return o}reduce(t,e){for(let[i,o]of this._pairs)e=t(e,o,i);return e}sort(t){return new kc({[O2]:()=>{var e;return kh(O0(e=[...this._pairs]).call(e,(e,i)=>{let[o,r]=e,[n,s]=i;return t(r,s,o,n)}))}})}}function ku(t,e){var i=_6(t);if(Oj){var o=Oj(t);e&&(o=_J(o).call(o,function(e){return OA(t,e).enumerable})),i.push.apply(i,o)}return i}function kp(t){for(var e=1;e<arguments.length;e++){var i,o,r=null!=arguments[e]?arguments[e]:{};e%2?_8(i=ku(Object(r),!0)).call(i,function(e){_X(t,e,r[e])}):OF?OR(t,OF(r)):_8(o=ku(Object(r))).call(o,function(e){OL(t,e,OA(r,e))})}return t}class kf extends O7{get idProp(){return this._idProp}constructor(t,e){super(),_X(this,"_queue",null),t&&!_4(t)&&(e=t,t=[]),this._options=e||{},this._data=new OZ,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(e)}setOptions(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=O9.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}add(t,e){let i;let o=[];if(_4(t)){let e=_0(t).call(t,t=>t[this._idProp]);if(OQ(e).call(e,t=>this._data.has(t)))throw Error("A duplicate id was found in the parameter array.");for(let e=0,r=t.length;e<r;e++)i=this._addItem(t[e]),o.push(i)}else if(t&&"object"==typeof t)i=this._addItem(t),o.push(i);else throw Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},e),o}update(t,e){let i=[],o=[],r=[],n=[],s=this._idProp,a=t=>{let e=t[s];if(null!=e&&this._data.has(e)){let i=Ee({},this._data.get(e)),s=this._updateItem(t);o.push(s),n.push(t),r.push(i)}else{let e=this._addItem(t);i.push(e)}};if(_4(t))for(let e=0,i=t.length;e<i;e++)t[e]&&"object"==typeof t[e]?a(t[e]):console.warn("Ignoring input item, which is not an object at index "+e);else if(t&&"object"==typeof t)a(t);else throw Error("Unknown dataType");return i.length&&this._trigger("add",{items:i},e),o.length&&this._trigger("update",{items:o,oldData:r,data:n},e),Ei(i).call(i,o)}updateOnly(t,e){var i;_4(t)||(t=[t]);let o=_0(i=_0(t).call(t,t=>{let e=this._data.get(t[this._idProp]);if(null==e)throw Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}})).call(i,t=>{let{oldData:e,update:i}=t,o=e[this._idProp],r=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return function t(){let e=function e(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];if(o.length<2)return o[0];if(o.length>2)return e(t(o[0],o[1]),..._2(o).call(o,2));let n=o[0],s=o[1];if(n instanceof Date&&s instanceof Date)return n.setTime(s.getTime()),n;for(let t of _3(s))Object.prototype.propertyIsEnumerable.call(s,t)&&(s[t]===OM?delete n[t]:null===n[t]||null===s[t]||"object"!=typeof n[t]||"object"!=typeof s[t]||_4(n[t])||_4(s[t])?n[t]=function t(i){return _4(i)?_0(i).call(i,e=>t(e)):"object"!=typeof i||null===i?i:i instanceof Date?new Date(i.getTime()):e({},i)}(s[t]):n[t]=e(n[t],s[t]));return n}(...arguments);return function t(e){for(let i of _6(e))e[i]===OM?delete e[i]:"object"==typeof e[i]&&null!==e[i]&&t(e[i])}(e),e}({},t,...i)}(e,i);return this._data.set(o,r),{id:o,oldData:e,updatedData:r}});if(!o.length)return[];{let t={items:_0(o).call(o,t=>t.id),oldData:_0(o).call(o,t=>t.oldData),data:_0(o).call(o,t=>t.updatedData)};return this._trigger("update",t,e),t.items}}get(t,e){let i,o,r,n,s,a;O8(t)?(i=t,r=e):_4(t)?(o=t,r=e):r=t;let l=r&&"Object"===r.returnType?"Object":"Array",d=r&&_J(r),h=[];if(null!=i)(n=this._data.get(i))&&d&&!d(n)&&(n=void 0);else if(null!=o)for(let t=0,e=o.length;t<e;t++)null!=(n=this._data.get(o[t]))&&(!d||d(n))&&h.push(n);else{var c;s=[...OJ(c=this._data).call(c)];for(let t=0,e=s.length;t<e;t++)a=s[t],null!=(n=this._data.get(a))&&(!d||d(n))&&h.push(n)}if(r&&r.order&&void 0==i&&this._sort(h,r.order),r&&r.fields){let t=r.fields;if(void 0!=i&&null!=n)n=this._filterFields(n,t);else for(let e=0,i=h.length;e<i;e++)h[e]=this._filterFields(h[e],t)}if("Object"==l){let t={};for(let e=0,i=h.length;e<i;e++){let i=h[e];t[i[this._idProp]]=i}return t}return null!=i?null!=n?n:null:h}getIds(t){let e=this._data,i=t&&_J(t),o=t&&t.order,r=[...OJ(e).call(e)],n=[];if(i){if(o){let t=[];for(let e=0,o=r.length;e<o;e++){let o=r[e],n=this._data.get(o);null!=n&&i(n)&&t.push(n)}this._sort(t,o);for(let e=0,i=t.length;e<i;e++)n.push(t[e][this._idProp])}else for(let t=0,e=r.length;t<e;t++){let e=r[t],o=this._data.get(e);null!=o&&i(o)&&n.push(o[this._idProp])}}else if(o){let t=[];for(let i=0,o=r.length;i<o;i++){let o=r[i];t.push(e.get(o))}this._sort(t,o);for(let e=0,i=t.length;e<i;e++)n.push(t[e][this._idProp])}else for(let t=0,i=r.length;t<i;t++){let i=r[t],o=e.get(i);null!=o&&n.push(o[this._idProp])}return n}getDataSet(){return this}forEach(t,e){let i=e&&_J(e),o=this._data,r=[...OJ(o).call(o)];if(e&&e.order){let i=this.get(e);for(let e=0,o=i.length;e<o;e++){let o=i[e],r=o[this._idProp];t(o,r)}}else for(let e=0,o=r.length;e<o;e++){let o=r[e],n=this._data.get(o);null!=n&&(!i||i(n))&&t(n,o)}}map(t,e){let i=e&&_J(e),o=[],r=this._data,n=[...OJ(r).call(r)];for(let e=0,r=n.length;e<r;e++){let r=n[e],s=this._data.get(r);null!=s&&(!i||i(s))&&o.push(t(s,r))}return e&&e.order&&this._sort(o,e.order),o}_filterFields(t,e){var i;return t?_Q(i=_4(e)?e:_6(e)).call(i,(e,i)=>(e[i]=t[i],e),{}):t}_sort(t,e){if("string"==typeof e)O0(t).call(t,(t,i)=>{let o=t[e],r=i[e];return o>r?1:o<r?-1:0});else if("function"==typeof e)O0(t).call(t,e);else throw TypeError("Order must be a function or a string")}remove(t,e){let i=[],o=[],r=_4(t)?t:[t];for(let t=0,e=r.length;t<e;t++){let e=this._remove(r[t]);if(e){let t=e[this._idProp];null!=t&&(i.push(t),o.push(e))}}return i.length&&this._trigger("remove",{items:i,oldData:o},e),i}_remove(t){let e;if(O8(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){let t=this._data.get(e)||null;return this._data.delete(e),--this.length,t}return null}clear(t){var e;let i=[...OJ(e=this._data).call(e)],o=[];for(let t=0,e=i.length;t<e;t++)o.push(this._data.get(i[t]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:o},t),i}max(t){let e=null,i=null;for(let r of O1(o=this._data).call(o)){var o;let n=r[t];"number"==typeof n&&(null==i||n>i)&&(e=r,i=n)}return e||null}min(t){let e=null,i=null;for(let r of O1(o=this._data).call(o)){var o;let n=r[t];"number"==typeof n&&(null==i||n<i)&&(e=r,i=n)}return e||null}distinct(t){let e=this._data,i=[...OJ(e).call(e)],o=[],r=0;for(let n=0,s=i.length;n<s;n++){let s=i[n],a=e.get(s)[t],l=!1;for(let t=0;t<r;t++)if(o[t]==a){l=!0;break}!l&&void 0!==a&&(o[r]=a,r++)}return o}_addItem(t){let e=function(t,e){if(null==t[e]){var i;t[e]=O6.randomUUID?O6.randomUUID():function(t,e,i){let r=(t=t||{}).random??t.rng?.()??function(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(O4)}();if(r.length<16)throw Error("Random bytes length must be >= 16");return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(t,e=0){return(O3[t[e+0]]+O3[t[e+1]]+O3[t[e+2]]+O3[t[e+3]]+"-"+O3[t[e+4]]+O3[t[e+5]]+"-"+O3[t[e+6]]+O3[t[e+7]]+"-"+O3[t[e+8]]+O3[t[e+9]]+"-"+O3[t[e+10]]+O3[t[e+11]]+O3[t[e+12]]+O3[t[e+13]]+O3[t[e+14]]+O3[t[e+15]]).toLowerCase()}(r)}(i)}return t}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}_updateItem(t){let e=t[this._idProp];if(null==e)throw Error("Cannot update item: item has no id (item: "+Er(t)+")");let i=this._data.get(e);if(!i)throw Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,kp(kp({},i),t)),e}stream(t){var e;if(t){let e=this._data;return new kc({*[O2](){for(let i of t){let t=e.get(i);null!=t&&(yield[i,t])}}})}return new kc({[O2]:_K(e=O5(this._data)).call(e,this._data)})}}function kg(t,e){var i;return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof _8(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof _0(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&"object"==typeof(i=e.getDataSet())&&null!==i&&t===i.idProp&&"function"==typeof i.add&&"function"==typeof i.clear&&"function"==typeof i.distinct&&"function"==typeof _8(i)&&"function"==typeof i.get&&"function"==typeof i.getDataSet&&"function"==typeof i.getIds&&"number"==typeof i.length&&"function"==typeof _0(i)&&"function"==typeof i.max&&"function"==typeof i.min&&"function"==typeof i.off&&"function"==typeof i.on&&"function"==typeof i.remove&&"function"==typeof i.setOptions&&"function"==typeof i.stream&&"function"==typeof i.update&&"function"==typeof i.updateOnly}var km="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ky(){if(d_)return dx;d_=1;var t=function(t){return t&&t.Math===Math&&t};return dx=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof km&&km)||t("object"==typeof dx&&dx)||function(){return this}()||Function("return this")()}function kb(){return dO?dE:(dO=1,dE=function(t){try{return!!t()}catch(t){return!0}})}function kw(){return dS?dk:(dS=1,dk=!kb()(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function kx(){if(dT)return dC;dT=1;var t=kw(),e=Function.prototype,i=e.apply,o=e.call;return dC="object"==typeof Reflect&&Reflect.apply||(t?o.bind(i):function(){return o.apply(i,arguments)})}function k_(){if(dN)return dP;dN=1;var t=kw(),e=Function.prototype,i=e.call,o=t&&e.bind.bind(i,i);return dP=t?o:function(t){return function(){return i.apply(t,arguments)}}}function kE(){if(dI)return dM;dI=1;var t=k_(),e=t({}.toString),i=t("".slice);return dM=function(t){return i(e(t),8,-1)}}function kO(){if(dj)return dD;dj=1;var t=kE(),e=k_();return dD=function(i){if("Function"===t(i))return e(i)}}function kk(){if(dA)return dz;dA=1;var t="object"==typeof document&&document.all;return dz=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var kS={};function kC(){return dB?dF:(dB=1,dF=!kb()(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function kT(){if(dL)return dR;dL=1;var t=kw(),e=Function.prototype.call;return dR=t?e.bind(e):function(){return e.apply(e,arguments)}}var kP={};function kN(){if(dH)return kP;dH=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,i=e&&!t.call({1:2},1);return kP.f=i?function(t){var i=e(this,t);return!!i&&i.enumerable}:t,kP}function kM(){return dU?dW:(dU=1,dW=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function kI(){if(dV)return dq;dV=1;var t=k_(),e=kb(),i=kE(),o=Object,r=t("".split);return dq=e(function(){return!o("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?r(t,""):o(t)}:o}function kD(){return dX?dY:(dX=1,dY=function(t){return null==t})}function kj(){if(dK)return dG;dK=1;var t=kD(),e=TypeError;return dG=function(i){if(t(i))throw new e("Can't call method on "+i);return i}}function kz(){if(dZ)return d$;dZ=1;var t=kI(),e=kj();return d$=function(i){return t(e(i))}}function kA(){if(dJ)return dQ;dJ=1;var t=kk();return dQ=function(e){return"object"==typeof e?null!==e:t(e)}}function kF(){return d1?d0:(d1=1,d0={})}function kB(){if(d5)return d2;d5=1;var t=kF(),e=ky(),i=kk(),o=function(t){return i(t)?t:void 0};return d2=function(i,r){return arguments.length<2?o(t[i])||o(e[i]):t[i]&&t[i][r]||e[i]&&e[i][r]}}function kR(){return d4?d3:(d4=1,d3=k_()({}.isPrototypeOf))}function kL(){if(d8)return d6;d8=1;var t=ky().navigator,e=t&&t.userAgent;return d6=e?String(e):""}function kH(){if(d7)return d9;d7=1;var t,e,i=ky(),o=kL(),r=i.process,n=i.Deno,s=r&&r.versions||n&&n.version,a=s&&s.v8;return a&&(e=(t=a.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&o&&(!(t=o.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=o.match(/Chrome\/(\d+)/))&&(e=+t[1]),d9=e}function kW(){if(he)return ht;he=1;var t=kH(),e=kb(),i=ky().String;return ht=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})}function kU(){return ho?hi:(ho=1,hi=kW()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function kq(){if(hn)return hr;hn=1;var t=kB(),e=kk(),i=kR(),o=kU(),r=Object;return hr=o?function(t){return"symbol"==typeof t}:function(o){var n=t("Symbol");return e(n)&&i(n.prototype,r(o))}}function kV(){if(ha)return hs;ha=1;var t=String;return hs=function(e){try{return t(e)}catch(t){return"Object"}}}function kY(){if(hd)return hl;hd=1;var t=kk(),e=kV(),i=TypeError;return hl=function(o){if(t(o))return o;throw new i(e(o)+" is not a function")}}function kX(){if(hc)return hh;hc=1;var t=kY(),e=kD();return hh=function(i,o){var r=i[o];return e(r)?void 0:t(r)}}var kG={exports:{}};function kK(){return hg?hf:(hg=1,hf=!0)}function k$(){if(hy)return kG.exports;hy=1;var t=kK(),e=ky(),i=function(){if(hv)return hm;hv=1;var t=ky(),e=Object.defineProperty;return hm=function(i,o){try{e(t,i,{value:o,configurable:!0,writable:!0})}catch(e){t[i]=o}return o}}(),o="__core-js_shared__",r=kG.exports=e[o]||i(o,{});return(r.versions||(r.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),kG.exports}function kZ(){if(hw)return hb;hw=1;var t=k$();return hb=function(e,i){return t[e]||(t[e]=i||{})}}function kQ(){if(h_)return hx;h_=1;var t=kj(),e=Object;return hx=function(i){return e(t(i))}}function kJ(){if(hO)return hE;hO=1;var t=k_(),e=kQ(),i=t({}.hasOwnProperty);return hE=Object.hasOwn||function(t,o){return i(e(t),o)}}function k0(){if(hS)return hk;hS=1;var t=k_(),e=0,i=Math.random(),o=t(1.1.toString);return hk=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++e+i,36)}}function k1(){if(hT)return hC;hT=1;var t=ky(),e=kZ(),i=kJ(),o=k0(),r=kW(),n=kU(),s=t.Symbol,a=e("wks"),l=n?s.for||s:s&&s.withoutSetter||o;return hC=function(t){return i(a,t)||(a[t]=r&&i(s,t)?s[t]:l("Symbol."+t)),a[t]}}function k2(){if(hN)return hP;hN=1;var t=kT(),e=kA(),i=kq(),o=kX(),r=function(){if(hp)return hu;hp=1;var t=kT(),e=kk(),i=kA(),o=TypeError;return hu=function(r,n){var s,a;if("string"===n&&e(s=r.toString)&&!i(a=t(s,r))||e(s=r.valueOf)&&!i(a=t(s,r))||"string"!==n&&e(s=r.toString)&&!i(a=t(s,r)))return a;throw new o("Can't convert object to primitive value")}}(),n=k1(),s=TypeError,a=n("toPrimitive");return hP=function(n,l){if(!e(n)||i(n))return n;var d,h=o(n,a);if(h){if(void 0===l&&(l="default"),!e(d=t(h,n,l))||i(d))return d;throw new s("Can't convert object to primitive value")}return void 0===l&&(l="number"),r(n,l)}}function k5(){if(hI)return hM;hI=1;var t=k2(),e=kq();return hM=function(i){var o=t(i,"string");return e(o)?o:o+""}}function k3(){if(hj)return hD;hj=1;var t=ky(),e=kA(),i=t.document,o=e(i)&&e(i.createElement);return hD=function(t){return o?i.createElement(t):{}}}function k4(){if(hA)return hz;hA=1;var t=kC(),e=kb(),i=k3();return hz=!t&&!e(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})}function k6(){if(hF)return kS;hF=1;var t=kC(),e=kT(),i=kN(),o=kM(),r=kz(),n=k5(),s=kJ(),a=k4(),l=Object.getOwnPropertyDescriptor;return kS.f=t?l:function(t,d){if(t=r(t),d=n(d),a)try{return l(t,d)}catch(t){}if(s(t,d))return o(!e(i.f,t,d),t[d])},kS}function k8(){if(hH)return hL;hH=1;var t=kO(),e=kY(),i=kw(),o=t(t.bind);return hL=function(t,r){return e(t),void 0===r?t:i?o(t,r):function(){return t.apply(r,arguments)}}}var k9={};function k7(){if(hU)return hW;hU=1;var t=kC(),e=kb();return hW=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function St(){if(hV)return hq;hV=1;var t=kA(),e=String,i=TypeError;return hq=function(o){if(t(o))return o;throw new i(e(o)+" is not an object")}}function Se(){if(hY)return k9;hY=1;var t=kC(),e=k4(),i=k7(),o=St(),r=k5(),n=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",h="writable";return k9.f=t?i?function(t,e,i){if(o(t),e=r(e),o(i),"function"==typeof t&&"prototype"===e&&"value"in i&&h in i&&!i[h]){var n=a(t,e);n&&n[h]&&(t[e]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:l in i?i[l]:n[l],writable:!1})}return s(t,e,i)}:s:function(t,i,a){if(o(t),i=r(i),o(a),e)try{return s(t,i,a)}catch(t){}if("get"in a||"set"in a)throw new n("Accessors not supported");return"value"in a&&(t[i]=a.value),t},k9}function Si(){if(hG)return hX;hG=1;var t=kC(),e=Se(),i=kM();return hX=t?function(t,o,r){return e.f(t,o,i(1,r))}:function(t,e,i){return t[e]=i,t}}function So(){if(h$)return hK;h$=1;var t=ky(),e=kx(),i=kO(),o=kk(),r=k6().f,n=function(){if(hR)return hB;hR=1;var t=kb(),e=kk(),i=/#|\.prototype\./,o=function(i,o){var l=n[r(i)];return l===a||l!==s&&(e(o)?t(o):!!o)},r=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},n=o.data={},s=o.NATIVE="N",a=o.POLYFILL="P";return hB=o}(),s=kF(),a=k8(),l=Si(),d=kJ(),h=function(t){var i=function(o,r,n){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,r)}return new t(o,r,n)}return e(t,this,arguments)};return i.prototype=t.prototype,i};return hK=function(e,c){var u,p,f,g,m,v,y,b,w,x=e.target,_=e.global,E=e.stat,O=e.proto,k=_?t:E?t[x]:t[x]&&t[x].prototype,S=_?s:s[x]||l(s,x,{})[x],C=S.prototype;for(g in c)p=!(u=n(_?g:x+(E?".":"#")+g,e.forced))&&k&&d(k,g),v=S[g],p&&(y=e.dontCallGetSet?(w=r(k,g))&&w.value:k[g]),m=p&&y?y:c[g],(u||O||typeof v!=typeof m)&&(b=e.bind&&p?a(m,t):e.wrap&&p?h(m):O&&o(m)?i(m):m,(e.sham||m&&m.sham||v&&v.sham)&&l(b,"sham",!0),l(S,g,b),O&&(d(s,f=x+"Prototype")||l(s,f,{}),l(s[f],g,m),e.real&&C&&(u||!C[g])&&l(C,g,m)))}}function Sr(){if(h0)return hJ;h0=1;var t=function(){if(hQ)return hZ;hQ=1;var t=Math.ceil,e=Math.floor;return hZ=Math.trunc||function(i){var o=+i;return(o>0?e:t)(o)}}();return hJ=function(e){var i=+e;return i!=i||0===i?0:t(i)}}function Sn(){if(h2)return h1;h2=1;var t=Sr(),e=Math.max,i=Math.min;return h1=function(o,r){var n=t(o);return n<0?e(n+r,0):i(n,r)}}function Ss(){if(h3)return h5;h3=1;var t=Sr(),e=Math.min;return h5=function(i){var o=t(i);return o>0?e(o,0x1fffffffffffff):0}}function Sa(){if(h6)return h4;h6=1;var t=Ss();return h4=function(e){return t(e.length)}}function Sl(){if(h9)return h8;h9=1;var t=kz(),e=Sn(),i=Sa(),o=function(o){return function(r,n,s){var a,l=t(r),d=i(l);if(0===d)return!o&&-1;var h=e(s,d);if(o&&n!=n){for(;d>h;)if((a=l[h++])!=a)return!0}else for(;d>h;h++)if((o||h in l)&&l[h]===n)return o||h||0;return!o&&-1}};return h8={includes:o(!0),indexOf:o(!1)}}function Sd(){return ct?h7:(ct=1,h7={})}function Sh(){if(ci)return ce;ci=1;var t=k_(),e=kJ(),i=kz(),o=Sl().indexOf,r=Sd(),n=t([].push);return ce=function(t,s){var a,l=i(t),d=0,h=[];for(a in l)!e(r,a)&&e(l,a)&&n(h,a);for(;s.length>d;)e(l,a=s[d++])&&(~o(h,a)||n(h,a));return h}}function Sc(){return cr?co:(cr=1,co=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Su(){if(cs)return cn;cs=1;var t=Sh(),e=Sc();return cn=Object.keys||function(i){return t(i,e)}}var Sp={};function Sf(){return ca||(ca=1,Sp.f=Object.getOwnPropertySymbols),Sp}var Sg=kv(cm?cg:(cm=1,cg=cf?cp:(cf=1,cp=cu?cc:(cu=1,function(){if(!ch){ch=1;var t=So(),e=function(){if(cd)return cl;cd=1;var t=kC(),e=k_(),i=kT(),o=kb(),r=Su(),n=Sf(),s=kN(),a=kQ(),l=kI(),d=Object.assign,h=Object.defineProperty,c=e([].concat);return cl=!d||o(function(){if(t&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},o=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach(function(t){i[t]=t}),7!==d({},e)[o]||r(d({},i)).join("")!==n})?function(e,o){for(var d=a(e),h=arguments.length,u=1,p=n.f,f=s.f;h>u;)for(var g,m=l(arguments[u++]),v=p?c(r(m),p(m)):r(m),y=v.length,b=0;y>b;)g=v[b++],(!t||i(f,m,g))&&(d[g]=m[g]);return d}:d}();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e})}}(),cc=kF().Object.assign))));function Sm(){return cy?cv:(cy=1,cv=k_()([].slice))}function Sv(){if(cE)return c_;cE=1;var t=ky(),e=kF();return c_=function(i,o){var r=e[i+"Prototype"],n=r&&r[o];if(n)return n;var s=t[i],a=s&&s.prototype;return a&&a[o]}}var Sy=kv(cM?cN:(cM=1,cN=cP?cT:(cP=1,cT=function(){if(cC)return cS;cC=1;var t=kR(),e=ck?cO:(ck=1,function(){if(!cx){cx=1;var t=So(),e=function(){if(cw)return cb;cw=1;var t=k_(),e=kY(),i=kA(),o=kJ(),r=Sm(),n=kw(),s=Function,a=t([].concat),l=t([].join),d={},h=function(t,e,i){if(!o(d,e)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";d[e]=s("C,a","return new C("+l(r,",")+")")}return d[e](t,i)};return cb=n?s.bind:function(t){var o=e(this),n=o.prototype,s=r(arguments,1),l=function(){var e=a(s,r(arguments));return this instanceof l?h(o,e.length,e):o.apply(t,e)};return i(n)&&(l.prototype=n),l}}();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}}(),cO=Sv()("Function","bind")),i=Function.prototype;return cS=function(o){var r=o.bind;return o===i||t(i,o)&&r===i.bind?e:r}}())));function Sb(t,e,i,o){t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.closePath()}function Sw(t,e,i,o,r,n){let s=Math.PI/180;o-2*n<0&&(n=o/2),r-2*n<0&&(n=r/2),t.beginPath(),t.moveTo(e+n,i),t.lineTo(e+o-n,i),t.arc(e+o-n,i+n,n,270*s,360*s,!1),t.lineTo(e+o,i+r-n),t.arc(e+o-n,i+r-n,n,0,90*s,!1),t.lineTo(e+n,i+r),t.arc(e+n,i+r-n,n,90*s,180*s,!1),t.lineTo(e,i+n),t.arc(e+n,i+n,n,180*s,270*s,!1),t.closePath()}function Sx(t,e,i,o,r){let n=o/2*.5522848,s=r/2*.5522848,a=e+o,l=i+r,d=e+o/2,h=i+r/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-s,d-n,i,d,i),t.bezierCurveTo(d+n,i,a,h-s,a,h),t.bezierCurveTo(a,h+s,d+n,l,d,l),t.bezierCurveTo(d-n,l,e,h+s,e,h),t.closePath()}function S_(t,e,i,o,r){let n=1/3*r,s=o/2*.5522848,a=n/2*.5522848,l=e+o,d=i+n,h=e+o/2,c=i+n/2,u=i+(r-n/2),p=i+r;t.beginPath(),t.moveTo(l,c),t.bezierCurveTo(l,c+a,h+s,d,h,d),t.bezierCurveTo(h-s,d,e,c+a,e,c),t.bezierCurveTo(e,c-a,h-s,i,h,i),t.bezierCurveTo(h+s,i,l,c-a,l,c),t.lineTo(l,u),t.bezierCurveTo(l,u+a,h+s,p,h,p),t.bezierCurveTo(h-s,p,e,u+a,e,u),t.lineTo(e,c)}function SE(t,e,i,o,r,n){t.beginPath(),t.moveTo(e,i);let s=n.length,a=o-e,l=r-i,d=l/a,h=Math.sqrt(a*a+l*l),c=0,u=!0,p=0,f=+n[0];for(;h>=.1;)(f=+n[c++%s])>h&&(f=h),p=Math.sqrt(f*f/(1+d*d)),e+=p=a<0?-p:p,i+=d*p,!0===u?t.lineTo(e,i):t.moveTo(e,i),h-=f,u=!u}let SO={circle:Sb,dashedLine:SE,database:S_,diamond:function(t,e,i,o){t.beginPath(),t.lineTo(e,i+o),t.lineTo(e+o,i),t.lineTo(e,i-o),t.lineTo(e-o,i),t.closePath()},ellipse:Sx,ellipse_vis:Sx,hexagon:function(t,e,i,o){t.beginPath();let r=2*Math.PI/6;t.moveTo(e+o,i);for(let n=1;n<6;n++)t.lineTo(e+o*Math.cos(r*n),i+o*Math.sin(r*n));t.closePath()},roundRect:Sw,square:function(t,e,i,o){t.beginPath(),t.rect(e-o,i-o,2*o,2*o),t.closePath()},star:function(t,e,i,o){t.beginPath(),o*=.82,i+=.1*o;for(let r=0;r<10;r++){let n=r%2==0?1.3*o:.5*o;t.lineTo(e+n*Math.sin(2*r*Math.PI/10),i-n*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,i,o){t.beginPath(),o*=1.15,i+=.275*o;let r=2*o,n=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-n*n);t.moveTo(e,i-(a-s)),t.lineTo(e+n,i+s),t.lineTo(e-n,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,o){t.beginPath(),o*=1.15,i-=.275*o;let r=2*o,n=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-n*n);t.moveTo(e,i+(a-s)),t.lineTo(e+n,i-s),t.lineTo(e-n,i-s),t.lineTo(e,i+(a-s)),t.closePath()}};var Sk={exports:{}},SS=kv((cI||(cI=1,function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((i=o[r])===e||i.fn===e){o.splice(r,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(i){i=i.slice(0);for(var o=0,r=i.length;o<r;++o)i[o].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Sk)),Sk.exports)),SC={};function ST(){if(cj)return cD;cj=1;var t=kE();return cD=Array.isArray||function(e){return"Array"===t(e)}}function SP(){if(cA)return cz;cA=1;var t=TypeError;return cz=function(e){if(e>0x1fffffffffffff)throw t("Maximum allowed index exceeded");return e}}function SN(){if(cB)return cF;cB=1;var t=kC(),e=Se(),i=kM();return cF=function(o,r,n){t?e.f(o,r,i(0,n)):o[r]=n}}function SM(){if(cL)return cR;cL=1;var t=k1()("toStringTag"),e={};return e[t]="z",cR="[object z]"===String(e)}function SI(){if(cW)return cH;cW=1;var t=SM(),e=kk(),i=kE(),o=k1()("toStringTag"),r=Object,n="Arguments"===i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};return cH=t?i:function(t){var a,l,d;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(l=s(a=r(t),o))?l:n?i(a):"Object"===(d=i(a))&&e(a.callee)?"Arguments":d}}function SD(){if(cY)return cV;cY=1;var t=k_(),e=kb(),i=kk(),o=SI(),r=kB(),n=function(){if(cq)return cU;cq=1;var t=k_(),e=kk(),i=k$(),o=t(Function.toString);return e(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),cU=i.inspectSource}(),s=function(){},a=r("Reflect","construct"),l=/^\s*(?:class|function)\b/,d=t(l.exec),h=!l.test(s),c=function(t){if(!i(t))return!1;try{return a(s,[],t),!0}catch(t){return!1}},u=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(l,n(t))}catch(t){return!0}};return u.sham=!0,cV=!a||e(function(){var t;return c(c.call)||!c(Object)||!c(function(){t=!0})||t})?u:c}function Sj(){if(c$)return cK;c$=1;var t=function(){if(cG)return cX;cG=1;var t=ST(),e=SD(),i=kA(),o=k1()("species"),r=Array;return cX=function(n){var s;return t(n)&&(e(s=n.constructor)&&(s===r||t(s.prototype))?s=void 0:i(s)&&null===(s=s[o])&&(s=void 0)),void 0===s?r:s}}();return cK=function(e,i){return new(t(e))(0===i?0:i)}}function Sz(){if(cQ)return cZ;cQ=1;var t=kb(),e=k1(),i=kH(),o=e("species");return cZ=function(e){return i>=51||!t(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}}function SA(){if(cJ)return SC;cJ=1;var t=So(),e=kb(),i=ST(),o=kA(),r=kQ(),n=Sa(),s=SP(),a=SN(),l=Sj(),d=Sz(),h=k1(),c=kH(),u=h("isConcatSpreadable"),p=c>=51||!e(function(){var t=[];return t[u]=!1,t.concat()[0]!==t}),f=function(t){if(!o(t))return!1;var e=t[u];return void 0!==e?!!e:i(t)};return t({target:"Array",proto:!0,arity:1,forced:!p||!d("concat")},{concat:function(t){var e,i,o,d,h,c=r(this),u=l(c,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(h=-1===e?c:arguments[e],f(h))for(s(p+(d=n(h))),i=0;i<d;i++,p++)i in h&&a(u,p,h[i]);else s(p+1),a(u,p++,h);return u.length=p,u}}),SC}var SF={};function SB(){if(c1)return c0;c1=1;var t=SI(),e=String;return c0=function(i){if("Symbol"===t(i))throw TypeError("Cannot convert a Symbol value to a string");return e(i)}}var SR={};function SL(){if(c2)return SR;c2=1;var t=kC(),e=k7(),i=Se(),o=St(),r=kz(),n=Su();return SR.f=t&&!e?Object.defineProperties:function(t,e){o(t);for(var s,a=r(e),l=n(e),d=l.length,h=0;d>h;)i.f(t,s=l[h++],a[s]);return t},SR}function SH(){if(c6)return c4;c6=1;var t=kZ(),e=k0(),i=t("keys");return c4=function(t){return i[t]||(i[t]=e(t))}}function SW(){if(c9)return c8;c9=1;var t,e=St(),i=SL(),o=Sc(),r=Sd(),n=c3?c5:(c3=1,c5=kB()("document","documentElement")),s=k3(),a=SH(),l="prototype",d="script",h=a("IE_PROTO"),c=function(){},u=function(t){return"<"+d+">"+t+"</"+d+">"},p=function(t){t.write(u("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){var t,e=s("iframe");return e.style.display="none",n.appendChild(e),e.src=String("java"+d+":"),(t=e.contentWindow.document).open(),t.write(u("document.F=Object")),t.close(),t.F},g=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&t?p(t):f():p(t);for(var e=o.length;e--;)delete g[l][o[e]];return g()};return r[h]=!0,c8=Object.create||function(t,o){var r;return null!==t?(c[l]=e(t),r=new c,c[l]=null,r[h]=t):r=g(),void 0===o?r:i.f(r,o)}}var SU={};function Sq(){if(c7)return SU;c7=1;var t=Sh(),e=Sc().concat("length","prototype");return SU.f=Object.getOwnPropertyNames||function(i){return t(i,e)},SU}var SV={};function SY(){if(ut)return SV;ut=1;var t=kE(),e=kz(),i=Sq().f,o=Sm(),r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(t){try{return i(t)}catch(t){return o(r)}};return SV.f=function(o){return r&&"Window"===t(o)?n(o):i(e(o))},SV}function SX(){if(ui)return ue;ui=1;var t=Si();return ue=function(e,i,o,r){return r&&r.enumerable?e[i]=o:t(e,i,o),e}}function SG(){if(ur)return uo;ur=1;var t=Se();return uo=function(e,i,o){return t.f(e,i,o)}}var SK={};function S$(){if(un)return SK;un=1;var t=k1();return SK.f=t,SK}function SZ(){if(ua)return us;ua=1;var t=kF(),e=kJ(),i=S$(),o=Se().f;return us=function(r){var n=t.Symbol||(t.Symbol={});e(n,r)||o(n,r,{value:i.f(r)})}}function SQ(){if(ud)return ul;ud=1;var t=kT(),e=kB(),i=k1(),o=SX();return ul=function(){var r=e("Symbol"),n=r&&r.prototype,s=n&&n.valueOf,a=i("toPrimitive");n&&!n[a]&&o(n,a,function(e){return t(s,this)},{arity:1})}}function SJ(){if(up)return uu;up=1;var t=SM(),e=Se().f,i=Si(),o=kJ(),r=function(){if(uc)return uh;uc=1;var t=SM(),e=SI();return uh=t?({}).toString:function(){return"[object "+e(this)+"]"}}(),n=k1()("toStringTag");return uu=function(s,a,l,d){var h=l?s:s&&s.prototype;h&&(o(h,n)||e(h,n,{configurable:!0,value:a}),d&&!t&&i(h,"toString",r))}}function S0(){if(ug)return uf;ug=1;var t=ky(),e=kk(),i=t.WeakMap;return uf=e(i)&&/native code/.test(String(i))}function S1(){if(uv)return um;uv=1;var t,e,i,o=S0(),r=ky(),n=kA(),s=Si(),a=kJ(),l=k$(),d=SH(),h=Sd(),c="Object already initialized",u=r.TypeError,p=r.WeakMap;if(o||l.state){var f=l.state||(l.state=new p);f.get=f.get,f.has=f.has,f.set=f.set,t=function(t,e){if(f.has(t))throw new u(c);return e.facade=t,f.set(t,e),e},e=function(t){return f.get(t)||{}},i=function(t){return f.has(t)}}else{var g=d("state");h[g]=!0,t=function(t,e){if(a(t,g))throw new u(c);return e.facade=t,s(t,g,e),e},e=function(t){return a(t,g)?t[g]:{}},i=function(t){return a(t,g)}}return um={set:t,get:e,has:i,enforce:function(o){return i(o)?e(o):t(o,{})},getterFor:function(t){return function(i){var o;if(!n(i)||(o=e(i)).type!==t)throw new u("Incompatible receiver, "+t+" required");return o}}}}function S2(){if(ub)return uy;ub=1;var t=k8(),e=k_(),i=kI(),o=kQ(),r=Sa(),n=Sj(),s=e([].push),a=function(e){var a=1===e,l=2===e,d=3===e,h=4===e,c=6===e,u=7===e,p=5===e||c;return function(f,g,m,v){for(var y,b,w=o(f),x=i(w),_=r(x),E=t(g,m),O=0,k=v||n,S=a?k(f,_):l||u?k(f,0):void 0;_>O;O++)if((p||O in x)&&(b=E(y=x[O],O,w),e)){if(a)S[O]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:s(S,y)}else switch(e){case 4:return!1;case 7:s(S,y)}}return c?-1:d||h?h:S}};return uy={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)}}function S5(){return u_?ux:(u_=1,ux=kW()&&!!Symbol.for&&!!Symbol.keyFor)}var S3={};function S4(){if(uC)return S3;uC=1;var t=So(),e=kB(),i=kx(),o=kT(),r=k_(),n=kb(),s=kk(),a=kq(),l=Sm(),d=function(){if(uS)return uk;uS=1;var t=k_(),e=ST(),i=kk(),o=kE(),r=SB(),n=t([].push);return uk=function(t){if(i(t))return t;if(e(t)){for(var s=t.length,a=[],l=0;l<s;l++){var d=t[l];"string"==typeof d?n(a,d):("number"==typeof d||"Number"===o(d)||"String"===o(d))&&n(a,r(d))}var h=a.length,c=!0;return function(t,i){if(c)return c=!1,i;if(e(this))return i;for(var o=0;o<h;o++)if(a[o]===t)return i}}}}(),h=kW(),c=String,u=e("JSON","stringify"),p=r(/./.exec),f=r("".charAt),g=r("".charCodeAt),m=r("".replace),v=r(1.1.toString),y=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,x=!h||n(function(){var t=e("Symbol")("stringify detection");return"[null]"!==u([t])||"{}"!==u({a:t})||"{}"!==u(Object(t))}),_=n(function(){return'"\udf06\ud834"'!==u("\uDF06\uD834")||'"\udead"'!==u("\uDEAD")}),E=function(t,e){var r=l(arguments),n=d(e);if(!(!s(n)&&(void 0===t||a(t))))return r[1]=function(t,e){if(s(n)&&(e=o(n,this,c(t),e)),!a(e))return e},i(u,null,r)},O=function(t,e,i){var o=f(i,e-1),r=f(i,e+1);return p(b,t)&&!p(w,r)||p(w,t)&&!p(b,o)?"\\u"+v(g(t,0),16):t};return u&&t({target:"JSON",stat:!0,arity:3,forced:x||_},{stringify:function(t,e,o){var r=l(arguments),n=i(x?E:u,null,r);return _&&"string"==typeof n?m(n,y,O):n}}),S3}function S6(){return uP||(uP=1,function(){if(!uw){uw=1;var t=So(),e=ky(),i=kT(),o=k_(),r=kK(),n=kC(),s=kW(),a=kb(),l=kJ(),d=kR(),h=St(),c=kz(),u=k5(),p=SB(),f=kM(),g=SW(),m=Su(),v=Sq(),y=SY(),b=Sf(),w=k6(),x=Se(),_=SL(),E=kN(),O=SX(),k=SG(),S=kZ(),C=SH(),T=Sd(),P=k0(),N=k1(),M=S$(),I=SZ(),D=SQ(),j=SJ(),z=S1(),A=S2().forEach,F=C("hidden"),B="Symbol",R="prototype",L=z.set,H=z.getterFor(B),W=Object[R],U=e.Symbol,q=U&&U[R],V=e.RangeError,Y=e.TypeError,X=e.QObject,G=w.f,K=x.f,$=y.f,Z=E.f,Q=o([].push),J=S("symbols"),tt=S("op-symbols"),te=S("wks"),ti=!X||!X[R]||!X[R].findChild,to=function(t,e,i){var o=G(W,e);o&&delete W[e],K(t,e,i),o&&t!==W&&K(W,e,o)},tr=n&&a(function(){return 7!==g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?to:K,tn=function(t,e){var i=J[t]=g(q);return L(i,{type:B,tag:t,description:e}),n||(i.description=e),i},ts=function(t,e,i){t===W&&ts(tt,e,i),h(t);var o=u(e);return(h(i),l(J,o))?(i.enumerable?(l(t,F)&&t[F][o]&&(t[F][o]=!1),i=g(i,{enumerable:f(0,!1)})):(l(t,F)||K(t,F,f(1,g(null))),t[F][o]=!0),tr(t,o,i)):K(t,o,i)},ta=function(t,e){h(t);var o=c(e);return A(m(o).concat(tc(o)),function(e){(!n||i(tl,o,e))&&ts(t,e,o[e])}),t},tl=function(t){var e=u(t),o=i(Z,this,e);return(!(this===W&&l(J,e))||!!l(tt,e))&&(!(o||!l(this,e)||!l(J,e)||l(this,F)&&this[F][e])||o)},td=function(t,e){var i=c(t),o=u(e);if(!(i===W&&l(J,o))||l(tt,o)){var r=G(i,o);return r&&l(J,o)&&!(l(i,F)&&i[F][o])&&(r.enumerable=!0),r}},th=function(t){var e=$(c(t)),i=[];return A(e,function(t){l(J,t)||l(T,t)||Q(i,t)}),i},tc=function(t){var e=t===W,i=$(e?tt:c(t)),o=[];return A(i,function(t){l(J,t)&&(!e||l(W,t))&&Q(o,J[t])}),o};s||(O(q=(U=function(){if(d(q,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,o=P(t),r=function(t){var n=void 0===this?e:this;n===W&&i(r,tt,t),l(n,F)&&l(n[F],o)&&(n[F][o]=!1);var s=f(1,t);try{tr(n,o,s)}catch(t){if(!(t instanceof V))throw t;to(n,o,s)}};return n&&ti&&tr(W,o,{configurable:!0,set:r}),tn(o,t)})[R],"toString",function(){return H(this).tag}),O(U,"withoutSetter",function(t){return tn(P(t),t)}),E.f=tl,x.f=ts,_.f=ta,w.f=td,v.f=y.f=th,b.f=tc,M.f=function(t){return tn(N(t),t)},n&&(k(q,"description",{configurable:!0,get:function(){return H(this).description}}),r||O(W,"propertyIsEnumerable",tl,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:U}),A(m(te),function(t){I(t)}),t({target:B,stat:!0,forced:!s},{useSetter:function(){ti=!0},useSimple:function(){ti=!1}}),t({target:"Object",stat:!0,forced:!s,sham:!n},{create:function(t,e){return void 0===e?g(t):ta(g(t),e)},defineProperty:ts,defineProperties:ta,getOwnPropertyDescriptor:td}),t({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:th}),D(),j(U,B),T[F]=!0}}(),function(){if(!uE){uE=1;var t=So(),e=kB(),i=kJ(),o=SB(),r=kZ(),n=S5(),s=r("string-to-symbol-registry"),a=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!n},{for:function(t){var r=o(t);if(i(s,r))return s[r];var n=e("Symbol")(r);return s[r]=n,a[n]=r,n}})}}(),function(){if(!uO){uO=1;var t=So(),e=kJ(),i=kq(),o=kV(),r=kZ(),n=S5(),s=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!n},{keyFor:function(t){if(!i(t))throw TypeError(o(t)+" is not a symbol");if(e(s,t))return s[t]}})}}(),S4(),function(){if(!uT){uT=1;var t=So(),e=kW(),i=kb(),o=Sf(),r=kQ();t({target:"Object",stat:!0,forced:!e||i(function(){o.f(1)})},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(r(t)):[]}})}}()),SF}var S8={};function S9(){return uN||(uN=1,SZ()("asyncDispose")),S8}var S7={};function Ct(){return uI||(uI=1,SZ()("dispose")),S7}var Ce={};function Ci(){return uz||(uz=1,SZ()("iterator")),Ce}var Co={};function Cr(){if(uW)return Co;uW=1;var t=SZ(),e=SQ();return t("toPrimitive"),e(),Co}var Cn={};function Cs(){return uK?uG:(uK=1,uG=function(){})}function Ca(){return uZ?u$:(uZ=1,u$={})}function Cl(){return u1?u0:(u1=1,u0=!kb()(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}function Cd(){if(u5)return u2;u5=1;var t=kJ(),e=kk(),i=kQ(),o=SH(),r=Cl(),n=o("IE_PROTO"),s=Object,a=s.prototype;return u2=r?s.getPrototypeOf:function(o){var r=i(o);if(t(r,n))return r[n];var l=r.constructor;return e(l)&&r instanceof l?l.prototype:r instanceof s?a:null}}function Ch(){if(u4)return u3;u4=1;var t,e,i,o=kb(),r=kk(),n=kA(),s=SW(),a=Cd(),l=SX(),d=k1(),h=kK(),c=d("iterator"),u=!1;return[].keys&&("next"in(i=[].keys())?(e=a(a(i)))!==Object.prototype&&(t=e):u=!0),!n(t)||o(function(){var e={};return t[c].call(e)!==e})?t={}:h&&(t=s(t)),r(t[c])||l(t,c,function(){return this}),u3={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:u}}function Cc(){if(pa)return ps;pa=1;var t=So(),e=kT(),i=kK(),o=function(){if(uJ)return uQ;uJ=1;var t=kC(),e=kJ(),i=Function.prototype,o=t&&Object.getOwnPropertyDescriptor,r=e(i,"name"),n=r&&(!t||t&&o(i,"name").configurable);return uQ={EXISTS:r,PROPER:r&&"something"===(function(){}).name,CONFIGURABLE:n}}(),r=kk(),n=function(){if(u8)return u6;u8=1;var t=Ch().IteratorPrototype,e=SW(),i=kM(),o=SJ(),r=Ca(),n=function(){return this};return u6=function(s,a,l,d){var h=a+" Iterator";return s.prototype=e(t,{next:i(+!d,l)}),o(s,h,!1,!0),r[h]=n,s}}(),s=Cd(),a=function(){if(pn)return pr;pn=1;var t=function(){if(u7)return u9;u7=1;var t=k_(),e=kY();return u9=function(i,o,r){try{return t(e(Object.getOwnPropertyDescriptor(i,o)[r]))}catch(t){}}}(),e=kA(),i=kj(),o=function(){if(po)return pi;po=1;var t=function(){if(pe)return pt;pe=1;var t=kA();return pt=function(e){return t(e)||null===e}}(),e=String,i=TypeError;return pi=function(o){if(t(o))return o;throw new i("Can't set "+e(o)+" as a prototype")}}();return pr=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,s={};try{(r=t(Object.prototype,"__proto__","set"))(s,[]),n=s instanceof Array}catch(t){}return function(t,s){return i(t),o(s),e(t)&&(n?r(t,s):t.__proto__=s),t}}():void 0)}(),l=SJ(),d=Si(),h=SX(),c=k1(),u=Ca(),p=Ch(),f=o.PROPER,g=o.CONFIGURABLE,m=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),b="keys",w="values",x="entries",_=function(){return this};return ps=function(o,c,p,E,O,k,S){n(p,c,E);var C,T,P,N=function(t){if(t===O&&z)return z;if(!v&&t&&t in D)return D[t];switch(t){case b:case w:case x:return function(){return new p(this,t)}}return function(){return new p(this)}},M=c+" Iterator",I=!1,D=o.prototype,j=D[y]||D["@@iterator"]||O&&D[O],z=!v&&j||N(O),A="Array"===c&&D.entries||j;if(A&&(C=s(A.call(new o)))!==Object.prototype&&C.next&&(i||s(C)===m||(a?a(C,m):r(C[y])||h(C,y,_)),l(C,M,!0,!0),i&&(u[M]=_)),f&&O===w&&j&&j.name!==w&&(!i&&g?d(D,"name",w):(I=!0,z=function(){return e(j,this)})),O){if(T={values:N(w),keys:k?z:N(b),entries:N(x)},S)for(P in T)!v&&!I&&P in D||h(D,P,T[P]);else t({target:c,proto:!0,forced:v||I},T)}return(!i||S)&&D[y]!==z&&h(D,y,z,{name:O}),u[c]=z,T}}function Cu(){return pd?pl:(pd=1,pl=function(t,e){return{value:t,done:e}})}function Cp(){if(pc)return ph;pc=1;var t=kz(),e=Cs(),i=Ca(),o=S1(),r=Se().f,n=Cc(),s=Cu(),a=kK(),l=kC(),d="Array Iterator",h=o.set,c=o.getterFor(d);ph=n(Array,"Array",function(e,i){h(this,{type:d,target:t(e),index:0,kind:i})},function(){var t=c(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(i,!1);case"values":return s(e[i],!1)}return s([i,e[i]],!1)},"values");var u=i.Arguments=i.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&"values"!==u.name)try{r(u,"name",{value:"values"})}catch(t){}return ph}function Cf(){if(pf)return Cn;pf=1,Cp();var t=pp?pu:(pp=1,pu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),e=ky(),i=SJ(),o=Ca();for(var r in t)i(e[r],r),o[r]=o.Array;return Cn}function Cg(){if(pm)return pg;pm=1;var t=uX?uY:(uX=1,SA(),S6(),S9(),uM||(uM=1,SZ()("asyncIterator")),Ct(),uD||(uD=1,SZ()("hasInstance")),uj||(uj=1,SZ()("isConcatSpreadable")),Ci(),uA||(uA=1,SZ()("match")),uF||(uF=1,SZ()("matchAll")),uB||(uB=1,SZ()("replace")),uR||(uR=1,SZ()("search")),uL||(uL=1,SZ()("species")),uH||(uH=1,SZ()("split")),Cr(),function(){if(!uU){uU=1;var t=kB(),e=SZ(),i=SJ();e("toStringTag"),i(t("Symbol"),"Symbol")}}(),uq||(uq=1,SZ()("unscopables")),function(){if(!uV){uV=1;var t=ky();SJ()(t.JSON,"JSON",!0)}}(),uY=kF().Symbol);return Cf(),pg=t}var Cm=kv(py?pv:(py=1,pv=Cg())),Cv=kv(pC?pS:(pC=1,pS=pk?pO:(pk=1,pO=function(){if(pE)return p_;pE=1;var t=kR(),e=px?pw:(px=1,function(){if(!pb){pb=1;var t=So(),e=ST(),i=SD(),o=kA(),r=Sn(),n=Sa(),s=kz(),a=SN(),l=k1(),d=Sz(),h=Sm(),c=d("slice"),u=l("species"),p=Array,f=Math.max;t({target:"Array",proto:!0,forced:!c},{slice:function(t,l){var d,c,g,m=s(this),v=n(m),y=r(t,v),b=r(void 0===l?v:l,v);if(e(m)&&(i(d=m.constructor)&&(d===p||e(d.prototype))?d=void 0:o(d)&&null===(d=d[u])&&(d=void 0),d===p||void 0===d))return h(m,y,b);for(g=0,c=new(void 0===d?p:d)(f(b-y,0));y<b;y++,g++)y in m&&a(c,g,m[y]);return c.length=g,c}})}}(),pw=Sv()("Array","slice")),i=Array.prototype;return p_=function(o){var r=o.slice;return o===i||t(i,o)&&r===i.slice?e:r}}()))),Cy=kv(pA?pz:(pA=1,pz=pj?pD:(pj=1,pD=pI?pM:(pI=1,pN||(pN=1,So()({target:"Array",stat:!0},{isArray:ST()})),pM=kF().Array.isArray)))),Cb=kv(pV?pq:(pV=1,pq=pU?pW:(pU=1,pW=function(){if(pH)return pL;pH=1;var t=kR(),e=pR?pB:(pR=1,function(){if(!pF){pF=1;var t=So(),e=S2().map;t({target:"Array",proto:!0,forced:!Sz()("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),pB=Sv()("Array","map")),i=Array.prototype;return pL=function(o){var r=o.map;return o===i||t(i,o)&&r===i.map?e:r}}()))),Cw=kv(pQ?pZ:(pQ=1,pZ=p$?pK:(p$=1,pK=pG?pX:(pG=1,function(){if(!pY){pY=1;var t=So(),e=kQ(),i=Su();t({target:"Object",stat:!0,forced:kb()(function(){i(1)})},{keys:function(t){return i(e(t))}})}}(),pX=kF().Object.keys)))),Cx=kv(p4?p3:(p4=1,p3=p5?p2:(p5=1,p2=p1?p0:(p1=1,function(){if(!pJ){pJ=1;var t=So(),e=k_(),i=Date,o=e(i.prototype.getTime);t({target:"Date",stat:!0},{now:function(){return o(new i)}})}}(),p0=kF().Date.now))));function C_(){if(p8)return p6;p8=1;var t=kb();return p6=function(e,i){var o=[][e];return!!o&&t(function(){o.call(null,i||function(){return 1},1)})}}var CE=kv(fl?fa:(fl=1,fa=function(){if(fs)return fn;fs=1;var t=SI(),e=kJ(),i=kR(),o=fr?fo:(fr=1,fo=fi?fe:(fi=1,function(){if(!ft){ft=1;var t=So(),e=function(){if(p7)return p9;p7=1;var t=S2().forEach;return p9=C_()("forEach")?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}();t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e})}}(),fe=Sv()("Array","forEach"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return fn=function(s){var a=s.forEach;return s===r||i(r,s)&&a===r.forEach||e(n,t(s))?o:a}}())),CO=kv(fv?fm:(fv=1,fm=fg?ff:(fg=1,ff=function(){if(fp)return fu;fp=1;var t=kR(),e=fc?fh:(fc=1,function(){if(!fd){fd=1;var t=So(),e=k_(),i=ST(),o=e([].reverse),r=[1,2];t({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o(this)}})}}(),fh=Sv()("Array","reverse")),i=Array.prototype;return fu=function(o){var r=o.reverse;return o===i||t(i,o)&&r===i.reverse?e:r}}())));function Ck(){if(fx)return fw;fx=1;var t=kV(),e=TypeError;return fw=function(i,o){if(!delete i[o])throw new e("Cannot delete property "+t(o)+" of "+t(i))}}var CS=kv(fN?fP:(fN=1,fP=fT?fC:(fT=1,fC=function(){if(fS)return fk;fS=1;var t=kR(),e=fO?fE:(fO=1,function(){if(!f_){f_=1;var t=So(),e=kQ(),i=Sn(),o=Sr(),r=Sa(),n=function(){if(fb)return fy;fb=1;var t=kC(),e=ST(),i=TypeError,o=Object.getOwnPropertyDescriptor;return fy=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,r){if(e(t)&&!o(t,"length").writable)throw new i("Cannot set read only .length");return t.length=r}:function(t,e){return t.length=e}}(),s=SP(),a=Sj(),l=SN(),d=Ck(),h=Sz()("splice"),c=Math.max,u=Math.min;t({target:"Array",proto:!0,forced:!h},{splice:function(t,h){var p,f,g,m,v,y,b=e(this),w=r(b),x=i(t,w),_=arguments.length;for(0===_?p=f=0:1===_?(p=0,f=w-x):(p=_-2,f=u(c(o(h),0),w-x)),s(w+p-f),g=a(b,f),m=0;m<f;m++)(v=x+m)in b&&l(g,m,b[v]);if(g.length=f,p<f){for(m=x;m<w-f;m++)v=m+f,y=m+p,v in b?b[y]=b[v]:d(b,y);for(m=w;m>w-f+p;m--)d(b,m-1)}else if(p>f)for(m=w-f;m>x;m--)v=m+f-1,y=m+p-1,v in b?b[y]=b[v]:d(b,y);for(m=0;m<p;m++)b[m+x]=arguments[m+2];return n(b,w-f+p),g}})}}(),fE=Sv()("Array","splice")),i=Array.prototype;return fk=function(o){var r=o.splice;return o===i||t(i,o)&&r===i.splice?e:r}}()))),CC=kv(fG?fX:(fG=1,fX=fY?fV:(fY=1,fV=function(){if(fq)return fU;fq=1;var t=kR(),e=fD?fI:(fD=1,function(){if(!fM){fM=1;var t=So(),e=Sl().includes,i=kb(),o=Cs();t({target:"Array",proto:!0,forced:i(function(){return![,].includes()})},{includes:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}(),fI=Sv()("Array","includes")),i=fW?fH:(fW=1,function(){if(!fL){fL=1;var t=So(),e=k_(),i=function(){if(fF)return fA;fF=1;var t=function(){if(fz)return fj;fz=1;var t=kA(),e=kE(),i=k1()("match");return fj=function(o){var r;return t(o)&&(void 0!==(r=o[i])?!!r:"RegExp"===e(o))}}(),e=TypeError;return fA=function(i){if(t(i))throw new e("The method doesn't accept regular expressions");return i}}(),o=kj(),r=SB(),n=function(){if(fR)return fB;fR=1;var t=k1()("match");return fB=function(e){var i=/./;try{"/./"[e](i)}catch(o){try{return i[t]=!1,"/./"[e](i)}catch(t){}}return!1}}(),s=e("".indexOf);t({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~s(r(o(this)),r(i(t)),arguments.length>1?arguments[1]:void 0)}})}}(),fH=Sv()("String","includes")),o=Array.prototype,r=String.prototype;return fU=function(n){var s=n.includes;return n===o||t(o,n)&&s===o.includes?e:"string"==typeof n||n===r||t(r,n)&&s===r.includes?i:s}}()))),CT=kv(f1?f0:(f1=1,f0=fJ?fQ:(fJ=1,fQ=fZ?f$:(fZ=1,function(){if(!fK){fK=1;var t=So(),e=kb(),i=kQ(),o=Cd(),r=Cl();t({target:"Object",stat:!0,forced:e(function(){o(1)}),sham:!r},{getPrototypeOf:function(t){return o(i(t))}})}}(),f$=kF().Object.getPrototypeOf)))),CP=kv(f7?f9:(f7=1,f9=f8?f6:(f8=1,f6=function(){if(f4)return f3;f4=1;var t=kR(),e=f5?f2:(f5=1,SA(),f2=Sv()("Array","concat")),i=Array.prototype;return f3=function(o){var r=o.concat;return o===i||t(i,o)&&r===i.concat?e:r}}()))),CN=kv(gl?ga:(gl=1,ga=gs?gn:(gs=1,gn=function(){if(gr)return go;gr=1;var t=kR(),e=gi?ge:(gi=1,function(){if(!gt){gt=1;var t=So(),e=S2().filter;t({target:"Array",proto:!0,forced:!Sz()("filter")},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),ge=Sv()("Array","filter")),i=Array.prototype;return go=function(o){var r=o.filter;return o===i||t(i,o)&&r===i.filter?e:r}}()))),CM=kv(gv?gm:(gv=1,gm=gg?gf:(gg=1,gf=gp?gu:(gp=1,function(){if(!gc){gc=1;var t=So(),e=function(){if(gh)return gd;gh=1;var t=kC(),e=kb(),i=k_(),o=Cd(),r=Su(),n=kz(),s=i(kN().f),a=i([].push),l=t&&e(function(){var t=Object.create(null);return t[2]=2,!s(t,2)}),d=function(e){return function(i){for(var d,h=n(i),c=r(h),u=l&&null===o(h),p=c.length,f=0,g=[];p>f;)d=c[f++],(!t||(u?d in h:s(h,d)))&&a(g,e?[d,h[d]]:h[d]);return g}};return gd={entries:d(!0),values:d(!1)}}().values;t({target:"Object",stat:!0},{values:function(t){return e(t)}})}}(),gu=kF().Object.values))));function CI(){return gb?gy:(gb=1,gy="	\n\v\f\r \xa0\u2028\u2029\uFEFF")}function CD(){if(gx)return gw;gx=1;var t=k_(),e=kj(),i=SB(),o=CI(),r=t("".replace),n=RegExp("^["+o+"]+"),s=RegExp("(^|[^"+o+"])["+o+"]+$"),a=function(t){return function(o){var a=i(e(o));return 1&t&&(a=r(a,n,"")),2&t&&(a=r(a,s,"$1")),a}};return gw={start:a(1),end:a(2),trim:a(3)}}var Cj=kv(gN?gP:(gN=1,gP=gT?gC:(gT=1,gC=gS?gk:(gS=1,function(){if(!gO){gO=1;var t=So(),e=function(){if(gE)return g_;gE=1;var t=ky(),e=kb(),i=k_(),o=SB(),r=CD().trim,n=CI(),s=t.parseInt,a=t.Symbol,l=a&&a.iterator,d=/^[+-]?0x/i,h=i(d.exec);return g_=8!==s(n+"08")||22!==s(n+"0x16")||l&&!e(function(){s(Object(l))})?function(t,e){var i=r(o(t));return s(i,e>>>0||(h(d,i)?16:10))}:s}();t({global:!0,forced:parseInt!==e},{parseInt:e})}}(),gk=kF().parseInt)))),Cz=kv(gR?gB:(gR=1,gB=gF?gA:(gF=1,gA=function(){if(gz)return gj;gz=1;var t=kR(),e=gD?gI:(gD=1,function(){if(!gM){gM=1;var t=So(),e=kO(),i=Sl().indexOf,o=C_(),r=e([].indexOf),n=!!r&&1/r([1],1,-0)<0;t({target:"Array",proto:!0,forced:n||!o("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return n?r(this,t,e)||0:i(this,t,e)}})}}(),gI=Sv()("Array","indexOf")),i=Array.prototype;return gj=function(o){var r=o.indexOf;return o===i||t(i,o)&&r===i.indexOf?e:r}}()))),CA=kv(gY?gV:(gY=1,gV=gq?gU:(gq=1,gU=function(){if(gW)return gH;gW=1,gL||(gL=1,So()({target:"Object",stat:!0,sham:!kC()},{create:SW()}));var t=kF().Object;return gH=function(e,i){return t.create(e,i)}}()))),CF=kv(g4?g3:(g4=1,g3=g5?g2:(g5=1,g2=function(){if(g1)return g0;g1=1,function(){if(!gJ){gJ=1;var t=So(),e=kT(),i=kQ(),o=k2(),r=function(){if(gQ)return gZ;gQ=1;var t=k_(),e=kb(),i=function(){if(g$)return gK;g$=1;var t=k_(),e=Ss(),i=SB(),o=function(){if(gG)return gX;gG=1;var t=Sr(),e=SB(),i=kj(),o=RangeError;return gX=function(r){var n=e(i(this)),s="",a=t(r);if(a<0||a===1/0)throw new o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(s+=n);return s}}(),r=kj(),n=t(o),s=t("".slice),a=Math.ceil,l=function(t){return function(o,l,d){var h,c,u=i(r(o)),p=e(l),f=u.length,g=void 0===d?" ":i(d);return p<=f||""===g?u:((c=n(g,a((h=p-f)/g.length))).length>h&&(c=s(c,0,h)),t?u+c:c+u)}};return gK={start:l(!1),end:l(!0)}}().start,o=RangeError,r=isFinite,n=Math.abs,s=Date.prototype,a=s.toISOString,l=t(s.getTime),d=t(s.getUTCDate),h=t(s.getUTCFullYear),c=t(s.getUTCHours),u=t(s.getUTCMilliseconds),p=t(s.getUTCMinutes),f=t(s.getUTCMonth),g=t(s.getUTCSeconds);return gZ=e(function(){return"0385-07-25T07:06:39.999Z"!==a.call(new Date(-5e13-1))})||!e(function(){a.call(new Date(NaN))})?function(){if(!r(l(this)))throw new o("Invalid time value");var t=h(this),e=u(this),s=t<0?"-":t>9999?"+":"";return s+i(n(t),s?6:4,0)+"-"+i(f(this)+1,2,0)+"-"+i(d(this),2,0)+"T"+i(c(this),2,0)+":"+i(p(this),2,0)+":"+i(g(this),2,0)+"."+i(e,3,0)+"Z"}:a}(),n=kE();t({target:"Date",proto:!0,forced:kb()(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function(t){var s=i(this),a=o(s,"number");return"number"!=typeof a||isFinite(a)?"toISOString"in s||"Date"!==n(s)?s.toISOString():e(r,s):null}})}}(),S4();var t=kF(),e=kx();return t.JSON||(t.JSON={stringify:JSON.stringify}),g0=function(i,o,r){return e(t.JSON.stringify,null,arguments)}}()))),CB={};function CR(){if(g8)return g6;g8=1;var t=ky(),e=kL(),i=kE(),o=function(t){return e.slice(0,t.length)===t};return g6=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function CL(){if(me)return mt;me=1;var t,e=ky(),i=kx(),o=kk(),r=CR(),n=kL(),s=Sm(),a=function(){if(g7)return g9;g7=1;var t=TypeError;return g9=function(e,i){if(e<i)throw new t("Not enough arguments");return e}}(),l=e.Function,d=/MSIE .\./.test(n)||"BUN"===r&&((t=e.Bun.version.split(".")).length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2]));return mt=function(t,e){var r=e?2:1;return d?function(n,d){var h=a(arguments.length,1)>r,c=o(n)?n:l(n),u=h?s(arguments,r):[],p=h?function(){i(c,this,u)}:c;return e?t(p,d):t(p)}:t}}function CH(){return mr||(mr=1,function(){if(!mi){mi=1;var t=So(),e=ky(),i=CL()(e.setInterval,!0);t({global:!0,bind:!0,forced:e.setInterval!==i},{setInterval:i})}}(),function(){if(!mo){mo=1;var t=So(),e=ky(),i=CL()(e.setTimeout,!0);t({global:!0,bind:!0,forced:e.setTimeout!==i},{setTimeout:i})}}()),CB}var CW=kv(ml?ma:(ml=1,ma=ms?mn:(ms=1,CH(),mn=kF().setTimeout))),CU=kv(mb?my:(mb=1,my=mv?mm:(mv=1,mm=function(){if(mg)return mf;mg=1;var t=kR(),e=mp?mu:(mp=1,function(){if(!mc){mc=1;var t=So(),e=function(){if(mh)return md;mh=1;var t=kQ(),e=Sn(),i=Sa();return md=function(o){for(var r=t(this),n=i(r),s=arguments.length,a=e(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,d=void 0===l?n:e(l,n);d>a;)r[a++]=o;return r}}(),i=Cs();t({target:"Array",proto:!0},{fill:e}),i("fill")}}(),mu=Sv()("Array","fill")),i=Array.prototype;return mf=function(o){var r=o.fill;return o===i||t(i,o)&&r===i.fill?e:r}}())));function Cq(){return(Cq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function CV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function CY(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var CX="function"!=typeof Object.assign?function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e}:Object.assign,CG=["","webkit","Moz","MS","ms","o"],CK="undefined"==typeof document?{style:{}}:document.createElement("div"),C$=Math.round,CZ=Math.abs,CQ=Date.now;function CJ(t,e){for(var i,o,r=e[0].toUpperCase()+e.slice(1),n=0;n<CG.length;){if((o=(i=CG[n])?i+r:e)in t)return o;n++}}mw="undefined"==typeof window?{}:window;var C0=CJ(CK.style,"touchAction"),C1=void 0!==C0,C2="compute",C5="auto",C3="manipulation",C4="none",C6="pan-x",C8="pan-y",C9=function(){if(!C1)return!1;var t={},e=mw.CSS&&mw.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||mw.CSS.supports("touch-action",i)}),t}(),C7="ontouchstart"in mw,Tt=void 0!==CJ(mw,"PointerEvent"),Te=C7&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ti="touch",To="mouse",Tr=["x","y"],Tn=["clientX","clientY"];function Ts(t,e,i){var o;if(t){if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}}function Ta(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Tl(t,e){return t.indexOf(e)>-1}var Td=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===C2&&(t=this.compute()),C1&&this.manager.element.style&&C9[t]&&(this.manager.element.style[C0]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Ts(this.manager.recognizers,function(e){Ta(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(Tl(t,C4))return C4;var e=Tl(t,C6),i=Tl(t,C8);return e&&i?C4:e||i?e?C6:C8:Tl(t,C3)?C3:C5}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var o=this.actions,r=Tl(o,C4)&&!C9[C4],n=Tl(o,C8)&&!C9[C8],s=Tl(o,C6)&&!C9[C6];if(r){var a=1===t.pointers.length,l=t.distance<2,d=t.deltaTime<250;if(a&&l&&d)return}if((!s||!n)&&(r||n&&6&i||s&&24&i))return this.preventSrc(e)},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Th(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Tc(t){var e=t.length;if(1===e)return{x:C$(t[0].clientX),y:C$(t[0].clientY)};for(var i=0,o=0,r=0;r<e;)i+=t[r].clientX,o+=t[r].clientY,r++;return{x:C$(i/e),y:C$(o/e)}}function Tu(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:C$(t.pointers[i].clientX),clientY:C$(t.pointers[i].clientY)},i++;return{timeStamp:CQ(),pointers:e,center:Tc(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Tp(t,e,i){i||(i=Tr);var o=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(o*o+r*r)}function Tf(t,e,i){i||(i=Tr);var o=e[i[0]]-t[i[0]];return 180*Math.atan2(e[i[1]]-t[i[1]],o)/Math.PI}function Tg(t,e){return t===e?1:CZ(t)>=CZ(e)?t<0?2:4:e<0?8:16}function Tm(t,e,i){return{x:e/t||0,y:i/t||0}}function Tv(t,e,i){var o,r,n,s,a,l,d,h,c,u,p,f,g,m,v,y,b,w=i.pointers.length,x=i.changedPointers.length,_=1&e&&w-x==0,E=12&e&&w-x==0;i.isFirst=!!_,i.isFinal=!!E,_&&(t.session={}),i.eventType=e,r=t.session,s=(n=i.pointers).length,r.firstInput||(r.firstInput=Tu(i)),s>1&&!r.firstMultiple?r.firstMultiple=Tu(i):1===s&&(r.firstMultiple=!1),a=r.firstInput,d=(l=r.firstMultiple)?l.center:a.center,h=i.center=Tc(n),i.timeStamp=CQ(),i.deltaTime=i.timeStamp-a.timeStamp,i.angle=Tf(d,h),i.distance=Tp(d,h),c=i.center,u=r.offsetDelta||{},p=r.prevDelta||{},f=r.prevInput||{},(1===i.eventType||4===f.eventType)&&(p=r.prevDelta={x:f.deltaX||0,y:f.deltaY||0},u=r.offsetDelta={x:c.x,y:c.y}),i.deltaX=p.x+(c.x-u.x),i.deltaY=p.y+(c.y-u.y),i.offsetDirection=Tg(i.deltaX,i.deltaY),g=Tm(i.deltaTime,i.deltaX,i.deltaY),i.overallVelocityX=g.x,i.overallVelocityY=g.y,i.overallVelocity=CZ(g.x)>CZ(g.y)?g.x:g.y,i.scale=l?(m=l.pointers,Tp(n[0],n[1],Tn)/Tp(m[0],m[1],Tn)):1,i.rotation=l?(v=l.pointers,Tf(n[1],n[0],Tn)+Tf(v[1],v[0],Tn)):0,i.maxPointers=r.prevInput?i.pointers.length>r.prevInput.maxPointers?i.pointers.length:r.prevInput.maxPointers:i.pointers.length,function(t,e){var i,o,r,n,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,h=Tm(a,l,d);o=h.x,r=h.y,i=CZ(h.x)>CZ(h.y)?h.x:h.y,n=Tg(l,d),t.lastInterval=e}else i=s.velocity,o=s.velocityX,r=s.velocityY,n=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=r,e.direction=n}(r,i),y=t.element,Th(o=(b=i.srcEvent).composedPath?b.composedPath()[0]:b.path?b.path[0]:b.target,y)&&(y=o),i.target=y,t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Ty(t){return t.trim().split(/\s+/g)}function Tb(t,e,i){Ts(Ty(e),function(e){t.addEventListener(e,i,!1)})}function Tw(t,e,i){Ts(Ty(e),function(e){t.removeEventListener(e,i,!1)})}function Tx(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var T_=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Ta(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Tb(this.element,this.evEl,this.domHandler),this.evTarget&&Tb(this.target,this.evTarget,this.domHandler),this.evWin&&Tb(Tx(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Tw(this.element,this.evEl,this.domHandler),this.evTarget&&Tw(this.target,this.evTarget,this.domHandler),this.evWin&&Tw(Tx(this.element),this.evWin,this.domHandler)},t}();function TE(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return -1}var TO={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Tk={2:Ti,3:"pen",4:To,5:"kinect"},TS="pointerdown",TC="pointermove pointerup pointercancel";mw.MSPointerEvent&&!mw.PointerEvent&&(TS="MSPointerDown",TC="MSPointerMove MSPointerUp MSPointerCancel");var TT=function(t){function e(){var i,o=e.prototype;return o.evEl=TS,o.evWin=TC,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}return CV(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,o=TO[t.type.toLowerCase().replace("ms","")],r=Tk[t.pointerType]||t.pointerType,n=r===Ti,s=TE(e,t.pointerId,"pointerId");1&o&&(0===t.button||n)?s<0&&(e.push(t),s=e.length-1):12&o&&(i=!0),!(s<0)&&(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(s,1))},e}(T_);function TP(t){return Array.prototype.slice.call(t,0)}function TN(t,e,i){for(var o=[],r=[],n=0;n<t.length;){var s=e?t[n][e]:t[n];0>TE(r,s)&&o.push(t[n]),r[n]=s,n++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}var TM={touchstart:1,touchmove:2,touchend:4,touchcancel:8},TI=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",i=t.apply(this,arguments)||this,i.targetIds={},i}return CV(e,t),e.prototype.handler=function(t){var e=TM[t.type],i=TD.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ti,srcEvent:t})},e}(T_);function TD(t,e){var i,o,r=TP(t.touches),n=this.targetIds;if(3&e&&1===r.length)return n[r[0].identifier]=!0,[r,r];var s=TP(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(t){return Th(t.target,l)}),1===e)for(i=0;i<o.length;)n[o[i].identifier]=!0,i++;for(i=0;i<s.length;)n[s[i].identifier]&&a.push(s[i]),12&e&&delete n[s[i].identifier],i++;if(a.length)return[TN(o.concat(a),"identifier",!0),a]}var Tj={mousedown:1,mousemove:2,mouseup:4},Tz=function(t){function e(){var i,o=e.prototype;return o.evEl="mousedown",o.evWin="mousemove mouseup",i=t.apply(this,arguments)||this,i.pressed=!1,i}return CV(e,t),e.prototype.handler=function(t){var e=Tj[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:To,srcEvent:t}))},e}(T_);function TA(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},o=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)},2500)}}function TF(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,TA.call(this,e)):12&t&&TA.call(this,e)}function TB(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var r=this.lastTouches[o],n=Math.abs(e-r.x),s=Math.abs(i-r.y);if(n<=25&&s<=25)return!0}return!1}var TR=function(t){function e(e,i){var o;return(o=t.call(this,e,i)||this).handler=function(t,e,i){var r=i.pointerType===Ti,n=i.pointerType===To;if(!n||!i.sourceCapabilities||!i.sourceCapabilities.firesTouchEvents){if(r)TF.call(CY(CY(o)),e,i);else if(n&&TB.call(CY(CY(o)),i))return;o.callback(t,e,i)}},o.touch=new TI(o.manager,o.handler),o.mouse=new Tz(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return CV(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(T_);function TL(t,e,i){return!!Array.isArray(t)&&(Ts(t,i[e],i),!0)}var TH=1;function TW(t,e){var i=e.manager;return i?i.get(t):t}function TU(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Tq=function(){function t(t){void 0===t&&(t={}),this.options=Cq({enable:!0},t),this.id=TH++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return CX(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(TL(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=TW(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return TL(t,"dropRecognizeWith",this)||(t=TW(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(TL(t,"requireFailure",this))return this;var e=this.requireFail;return -1===TE(e,t=TW(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(TL(t,"dropRequireFailure",this))return this;t=TW(t,this);var e=TE(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function o(i){e.manager.emit(i,t)}i<8&&o(e.options.event+TU(i)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(e.options.event+TU(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=CX({},t);if(!Ta(this.options.enable,[this,e])){this.reset(),this.state=32;return}56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),TV=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Cq({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){return[C3]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,r=t.distance<i.threshold,n=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&n&&o){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||Tp(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0==this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=32},this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Tq),TY=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Cq({pointers:1},e))||this}CV(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,o=6&e,r=this.attrTest(t);return o&&(8&i||!r)?16|e:o||r?4&i?8|e:2&e?4|e:2:32},e}(Tq);function TX(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var TG=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Cq({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(C8),24&t&&e.push(C6),e},i.directionTest=function(t){var e=this.options,i=!0,o=t.distance,r=t.direction,n=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===n?1:n<0?2:4,i=n!==this.pX,o=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,i=s!==this.pY,o=Math.abs(t.deltaY))),t.direction=r,i&&o>e.threshold&&r&e.direction},i.attrTest=function(t){return TY.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=TX(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(TY),TK=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Cq({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){return TG.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,o=this.options.direction;return 30&o?i=e.overallVelocity:6&o?i=e.overallVelocityX:24&o&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&o&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&CZ(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=TX(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(TY),T$=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Cq({event:"pinch",threshold:0,pointers:2},e))||this}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){return[C4]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(TY),TZ=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Cq({event:"rotate",threshold:0,pointers:2},e))||this}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){return[C4]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(TY),TQ=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Cq({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}CV(e,t);var i=e.prototype;return i.getTouchAction=function(){return[C5]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,r=t.distance<i.threshold,n=t.deltaTime>i.time;if(this._input=t,r&&o&&(!(12&t.eventType)||n)){if(1&t.eventType)this.reset(),this._timer=setTimeout(function(){e.state=8,e.tryEmit()},i.time);else if(4&t.eventType)return 8}else this.reset();return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=CQ(),this.manager.emit(this.options.event,this._input)))},e}(Tq),TJ={domEvents:!1,touchAction:C2,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},T0=[[TZ,{enable:!1}],[T$,{enable:!1},["rotate"]],[TK,{direction:6}],[TG,{direction:6},["swipe"]],[TV],[TV,{event:"doubletap",taps:2},["tap"]],[TQ]];function T1(t,e){var i,o=t.element;o.style&&(Ts(t.options.cssProps,function(r,n){i=CJ(o.style,n),e?(t.oldCssProps[i]=o.style[i],o.style[i]=r):o.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}var T2=function(){function t(t,e){var i,o=this;this.options=CX({},TJ,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this.options.inputClass)?i:Tt?TT:Te?TI:C7?TR:Tz)(this,Tv),this.touchAction=new Td(this,this.options.touchAction),T1(this,!0),Ts(this.options.recognizers,function(t){var e=o.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return CX(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var o=this.recognizers,r=i.curRecognizer;(!r||r&&8&r.state)&&(i.curRecognizer=null,r=null);for(var n=0;n<o.length;)e=o[n],2!==i.stopped&&(!r||e===r||e.canRecognizeWith(r))?e.recognize(t):e.reset(),!r&&14&e.state&&(i.curRecognizer=e,r=e),n++}},e.get=function(t){if(t instanceof Tq)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(TL(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(TL(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,o=TE(i,e);-1!==o&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Ts(Ty(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Ts(Ty(t),function(t){e?i[t]&&i[t].splice(TE(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){if(this.options.domEvents){var i;(i=document.createEvent("Event")).initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<o.length;)o[r](e),r++}},e.destroy=function(){this.element&&T1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),T5={touchstart:1,touchmove:2,touchend:4,touchcancel:8},T3=function(t){function e(){var i,o=e.prototype;return o.evTarget="touchstart",o.evWin="touchstart touchmove touchend touchcancel",i=t.apply(this,arguments)||this,i.started=!1,i}return CV(e,t),e.prototype.handler=function(t){var e=T5[t.type];if(1===e&&(this.started=!0),this.started){var i=T4.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ti,srcEvent:t})}},e}(T_);function T4(t,e){var i=TP(t.touches),o=TP(t.changedTouches);return 12&e&&(i=TN(i.concat(o),"identifier",!0)),[i,o]}function T6(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,o,i),t.apply(this,arguments)}}var T8=T6(function(t,e,i){for(var o=Object.keys(e),r=0;r<o.length;)(!i||i&&void 0===t[o[r]])&&(t[o[r]]=e[o[r]]),r++;return t},"extend","Use `assign`."),T9=T6(function(t,e){return T8(t,e,!0)},"merge","Use `assign`.");function T7(t,e,i){var o,r=e.prototype;(o=t.prototype=Object.create(r)).constructor=t,o._super=r,i&&CX(o,i)}function Pt(t,e){return function(){return t.apply(e,arguments)}}var Pe=function(){var t=function(t,e){return void 0===e&&(e={}),new T2(t,Cq({recognizers:T0.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=T2,t.Input=T_,t.TouchAction=Td,t.TouchInput=TI,t.MouseInput=Tz,t.PointerEventInput=TT,t.TouchMouseInput=TR,t.SingleTouchInput=T3,t.Recognizer=Tq,t.AttrRecognizer=TY,t.Tap=TV,t.Pan=TG,t.Swipe=TK,t.Pinch=T$,t.Rotate=TZ,t.Press=TQ,t.on=Tb,t.off=Tw,t.each=Ts,t.merge=T9,t.extend=T8,t.bindFn=Pt,t.assign=CX,t.inherit=T7,t.bindFn=Pt,t.prefixed=CJ,t.toArray=TP,t.inArray=TE,t.uniqueArray=TN,t.splitStr=Ty,t.boolOrFn=Ta,t.hasParent=Th,t.addEventListeners=Tb,t.removeEventListeners=Tw,t.defaults=CX({},TJ,{preset:T0}),t}();function Pi(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){let[e,i,o]=function(){let t;let e=(t=0xefc8249d,function(e){let i=e.toString();for(let e=0;e<i.length;e++){let o=.02519603282416938*(t+=i.charCodeAt(e));t=o>>>0,o-=t,o*=t,t=o>>>0,o-=t,t+=0x100000000*o}return(t>>>0)*23283064365386963e-26}),i=e(" "),o=e(" "),r=e(" ");for(let t=0;t<arguments.length;t++)i-=e(t<0||arguments.length<=t?void 0:arguments[t]),i<0&&(i+=1),o-=e(t<0||arguments.length<=t?void 0:arguments[t]),o<0&&(o+=1),r-=e(t<0||arguments.length<=t?void 0:arguments[t]),r<0&&(r+=1);return[i,o,r]}(t),r=1,n=()=>{let t=2091639*e+23283064365386963e-26*r;return e=i,i=o,o=t-(r=0|t)};return n.uint32=()=>0x100000000*n(),n.fract53=()=>n()+(2097152*n()|0)*11102230246251565e-32,n.algorithm="Alea",n.seed=t,n.version="0.9",n}(e.length?e:[Cx()])}Pe.defaults,Cm("DELETE");let Po="undefined"!=typeof window?window.Hammer||Pe:function(){return function(){let t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function Pr(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});let i=Po(this._dom.overlay);i.on("tap",Sy(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{i.destroy()});let o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];CE(o).call(o,t=>{i.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{!function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}(e.target,t)&&this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}SS(Pr.prototype),Pr.current=null,Pr.prototype.destroy=function(){for(let i of(this.deactivate(),CO(t=CS(e=this._cleanupQueue).call(e,0)).call(t))){var t,e;i()}},Pr.prototype.activate=function(){Pr.current&&Pr.current.deactivate(),Pr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Pr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Pr.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};let Pn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ps=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Pa=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Pl=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Pd(t){if(t)for(;!0===t.hasChildNodes();){let e=t.firstChild;e&&(Pd(e),t.removeChild(e))}}function Ph(t){return t instanceof String||"string"==typeof t}function Pc(t){return"object"==typeof t&&null!==t}function Pu(t,e,i,o){let r=!1;!0===o&&(r=null===e[i]&&void 0!==t[i]),r?delete t[i]:t[i]=e[i]}function Pp(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Cy(i))throw TypeError("Arrays are not supported by deepExtend");for(let r=0;r<t.length;r++){let n=t[r];if(Object.prototype.hasOwnProperty.call(i,n)){if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?Pg(e[n],i[n],!1,o):Pu(e,i,n,o);else if(Cy(i[n]))throw TypeError("Arrays are not supported by deepExtend");else Pu(e,i,n,o)}}return e}function Pf(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Cy(i))throw TypeError("Arrays are not supported by deepExtend");for(let r in i)if(!(!Object.prototype.hasOwnProperty.call(i,r)||CC(t).call(t,r))){if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Pg(e[r],i[r]):Pu(e,i,r,o);else if(Cy(i[r])){e[r]=[];for(let t=0;t<i[r].length;t++)e[r].push(i[r][t])}else Pu(e,i,r,o)}return e}function Pg(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)||!0===i){if("object"==typeof e[n]&&null!==e[n]&&CT(e[n])===Object.prototype)void 0===t[n]?t[n]=Pg({},e[n],i):"object"==typeof t[n]&&null!==t[n]&&CT(t[n])===Object.prototype?Pg(t[n],e[n],i):Pu(t,e,n,o);else if(Cy(e[n])){var r;t[n]=Cv(r=e[n]).call(r)}else Pu(t,e,n,o)}return t}function Pm(t,e){if(Cy(t)){let i=t.length;for(let o=0;o<i;o++)e(t[o],o,t)}else for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function Pv(t){let e;switch(t.length){case 3:case 4:return(e=Ps.exec(t))?{r:Cj(e[1]+e[1],16),g:Cj(e[2]+e[2],16),b:Cj(e[3]+e[3],16)}:null;case 6:case 7:return(e=Pn.exec(t))?{r:Cj(e[1],16),g:Cj(e[2],16),b:Cj(e[3],16)}:null;default:return null}}function Py(t,e){if(CC(t).call(t,"rgba"))return t;if(CC(t).call(t,"rgb")){let i=t.substr(Cz(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}{let i=Pv(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}}function Pb(t,e,i){var o;return"#"+Cv(o=(0x1000000+(t<<16)+(e<<8)+i).toString(16)).call(o,1)}function Pw(t,e){if(!Ph(t))return{background:t.background||void 0,border:t.border||void 0,highlight:Ph(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Ph(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}};{var i,o;let e=t;if(i=e,Pa.test(i)){let t=Cb(o=e.substr(4).substr(0,e.length-5).split(",")).call(o,function(t){return Cj(t)});e=Pb(t[0],t[1],t[2])}if(!0!==PO(e))return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}};{let t=function(t){let e=Pv(t);if(!e)throw TypeError("'".concat(t,"' is not a valid color."));return Px(e.r,e.g,e.b)}(e),i={h:t.h,s:.8*t.s,v:Math.min(1,1.02*t.v)},o={h:t.h,s:Math.min(1,1.25*t.s),v:.8*t.v},r=PE(o.h,o.s,o.v),n=PE(i.h,i.s,i.v);return{background:e,border:r,highlight:{background:n,border:r},hover:{background:n,border:r}}}}}function Px(t,e,i){let o=Math.min(t/=255,Math.min(e/=255,i/=255)),r=Math.max(t,Math.max(e,i));if(o===r)return{h:0,s:0,v:o};let n=t===o?e-i:i===o?t-e:i-t;return{h:60*((t===o?3:i===o?1:5)-n/(r-o))/360,s:(r-o)/r,v:r}}function P_(t,e,i){let o,r,n;let s=Math.floor(6*t),a=6*t-s,l=i*(1-e),d=i*(1-a*e),h=i*(1-(1-a)*e);switch(s%6){case 0:o=i,r=h,n=l;break;case 1:o=d,r=i,n=l;break;case 2:o=l,r=i,n=h;break;case 3:o=l,r=d,n=i;break;case 4:o=h,r=l,n=i;break;case 5:o=i,r=l,n=d}return{r:Math.floor(255*o),g:Math.floor(255*r),b:Math.floor(255*n)}}function PE(t,e,i){let o=P_(t,e,i);return Pb(o.r,o.g,o.b)}function PO(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Pk(t){if(null===t||"object"!=typeof t)return null;if(t instanceof Element)return t;let e=CA(t);for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==typeof t[i]&&(e[i]=Pk(t[i]));return e}function PS(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},n=function(t){return null!==t&&"object"==typeof t};if(!n(t))throw Error("Parameter mergeTarget must be an object");if(!n(e))throw Error("Parameter options must be an object");if(!r(i))throw Error("Parameter option must have a value");if(!n(o))throw Error("Parameter globalOptions must be an object");let s=e[i],a=n(o)&&!function(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(o)?o[i]:void 0,l=a?a.enabled:void 0;if(void 0===s)return;if("boolean"==typeof s){n(t[i])||(t[i]={}),t[i].enabled=s;return}if(null===s&&!n(t[i])){if(!r(a))return;t[i]=CA(a)}if(!n(s))return;let d=!0;void 0!==s.enabled?d=s.enabled:void 0!==l&&(d=a.enabled),function(t,e,i){n(t[i])||(t[i]={});let o=e[i],r=t[i];for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}(t,e,i),t[i].enabled=d}let PC={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};function PT(t,e){let i;for(let o of(Cy(e)||(e=[e]),t))if(o){i=o[e[0]];for(let t=1;t<e.length;t++)i&&(i=i[e[t]]);if(void 0!==i)break}return i}let PP={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},PN=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"==typeof t)this.updateCallback=t;else throw Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(t){if("function"==typeof t)this.closeCallback=t;else throw Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(t){if("string"==typeof t)return PP[t]}setColor(t){let e,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if("none"===t)return;let o=this._isColorString(t);if(void 0!==o&&(t=o),!0===Ph(t)){var r,n;if(!0===(r=t,Pa.test(r))){let i=t.substr(4).substr(0,t.length-5).split(",");e={r:i[0],g:i[1],b:i[2],a:1}}else if(!0===(n=t,Pl.test(n))){let i=t.substr(5).substr(0,t.length-6).split(",");e={r:i[0],g:i[1],b:i[2],a:i[3]}}else if(!0===PO(t)){let i=Pv(t);e={r:i.r,g:i.g,b:i.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){let i=void 0!==t.a?t.a:"1.0";e={r:t.r,g:t.g,b:t.b,a:i}}if(void 0===e)throw Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+CF(t));this._setColor(e,i)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];!0===t&&(this.previousColor=Sg({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",CW(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];!0===e&&(this.initialColor=Sg({},t)),this.color=t;let i=Px(t.r,t.g,t.b),o=2*Math.PI,r=this.r*i.s,n=this.centerCoordinates.x+r*Math.sin(o*i.h),s=this.centerCoordinates.y+r*Math.cos(o*i.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){let e=Px(this.color.r,this.color.g,this.color.b);e.v=t/100;let i=P_(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=Px(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let o=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,r),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),CU(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var t,e,i,o;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);let r=this;this.opacityRange.onchange=function(){r._setOpacity(this.value)},this.opacityRange.oninput=function(){r._setOpacity(this.value)},this.brightnessRange.onchange=function(){r._setBrightness(this.value)},this.brightnessRange.oninput=function(){r._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Sy(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Sy(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Sy(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Sy(o=this._loadLast).call(o,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Po(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",t=>{t.isFirst&&this._moveSelector(t)}),this.hammer.on("tap",t=>{this._moveSelector(t)}),this.hammer.on("panstart",t=>{this._moveSelector(t)}),this.hammer.on("panmove",t=>{this._moveSelector(t)}),this.hammer.on("panend",t=>{this._moveSelector(t)})}_generateHueCircle(){if(!1===this.generated){let t,e,i,o,r;let n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let s=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,s,a),this.centerCoordinates={x:.5*s,y:.5*a},this.r=.49*s;let l=2*Math.PI/360,d=1/360,h=1/this.r;for(i=0;i<360;i++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(l*i),e=this.centerCoordinates.y+o*Math.cos(l*i),r=P_(i*d,o*h,1),n.fillStyle="rgb("+r.r+","+r.g+","+r.b+")",n.fillRect(t-.5,e-.5,2,2);n.strokeStyle="rgba(0,0,0,1)",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.stroke(),this.hueCircle=n.getImageData(0,0,s,a)}this.generated=!0}_moveSelector(t){let e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,s=i-n,a=o-r,l=Math.atan2(s,a),d=.98*Math.min(Math.sqrt(s*s+a*a),n),h=Math.cos(l)*d+r,c=Math.sin(l)*d+n;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";let u=l/(2*Math.PI);u=u<0?u+1:u;let p=d/this.r,f=Px(this.color.r,this.color.g,this.color.b);f.h=u,f.s=p;let g=P_(f.h,f.s,f.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function PM(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);{let t=document.createElement(e[0]);return t.appendChild(PM(...Cv(e).call(e,1))),t}}let PI=class{constructor(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!1;this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=r,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Sg(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new PN(o),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Cy(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==CN(t)&&(this.options.filter=CN(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===CN(this.options)&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let t=CN(this.options),e=0,i=!1;for(let o in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,o)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):(!0===t||-1!==Cz(t).call(t,o))&&(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++)if(void 0!==e[t[i]])e=e[t[i]];else{e=void 0;break}return e}_makeItem(t){if(!0===this.allowCreation){let r=document.createElement("div");r.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return CE(i).call(i,t=>{r.appendChild(t)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(t){let e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");if(o.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(PM("i","b",t))}else o.innerText=t+":";return o}_makeDropdown(t,e,i){let o=document.createElement("select");o.className="vis-configuration vis-config-select";let r=0;void 0!==e&&-1!==Cz(t).call(t,e)&&(r=Cz(t).call(t,e));for(let e=0;e<t.length;e++){let i=document.createElement("option");i.value=t[e],e===r&&(i.selected="selected"),i.innerText=t[e],o.appendChild(i)}let n=this;o.onchange=function(){n._update(this.value,i)};let s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}_makeRange(t,e,i){let o=t[0],r=t[1],n=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=n}catch(t){}a.step=s;let l="",d=0;void 0!==e?(e<0&&1.2*e<r?(a.min=Math.ceil(1.2*e),d=a.min,l="range increased"):e/1.2<r&&(a.min=Math.ceil(e/1.2),d=a.min,l="range increased"),1.2*e>n&&1!==n&&(a.max=Math.ceil(1.2*e),d=a.max,l="range increased"),a.value=e):a.value=o;let h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;let c=this;a.onchange=function(){h.value=this.value,c._update(Number(this.value),i)},a.oninput=function(){h.value=this.value};let u=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,u,a,h);""!==l&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(l,p))}_makeButton(){if(!0===this.options.showButton){let t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=CW(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=CW(()=>{this._removePopup()},1800)}}_makeCheckbox(t,e,i){let o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));let r=this;o.onchange=function(){r._update(this.checked,i)};let n=this._makeLabel(i[i.length-1],i);this._makeItem(i,n,o)}_makeTextInput(t,e,i){let o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});let r=this;o.onchange=function(){r._update(this.value,i)};let n=this._makeLabel(i[i.length-1],i);this._makeItem(i,n,o)}_makeColorField(t,e,i){let o=t[1],r=document.createElement("div");"none"!==(e=void 0===e?o:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=()=>{this._showColorPicker(e,r,i)};let n=this._makeLabel(i[i.length-1],i);this._makeItem(i,n,r)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(t=>{let o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}})}_handleObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,r=CN(this.options),n=!1;for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s)){o=!0;let a=t[s],l=[...e,s];if("function"==typeof r&&!1===(o=r(s,e))&&!Cy(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,l,!0),this.allowCreation=!1===i),!1!==o){n=!0;let t=this._getValue(l);if(Cy(a))this._handleArray(a,t,l);else if("string"==typeof a)this._makeTextInput(a,t,l);else if("boolean"==typeof a)this._makeCheckbox(a,t,l);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions)){if(void 0!==a.enabled){let t=[...l,"enabled"],e=this._getValue(t);if(!0===e){let t=this._makeLabel(s,l,!0);this._makeItem(l,t),n=this._handleObject(a,l)||n}else this._makeCheckbox(a,e,l)}else{let t=this._makeLabel(s,l,!0);this._makeItem(l,t),n=this._handleObject(a,l)||n}}}else console.error("dont know how to handle",a,s,l)}}return n}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){let i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(let i=0;i<e.length;i++)"global"!==e[i]&&(void 0===o[e[i]]&&(o[e[i]]={}),i!==e.length-1?o=o[e[i]]:o[e[i]]=t);return i}_printOptions(){let t=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(PM("pre","const options = "+CF(t,null,2)))}getOptions(){let t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}},PD=class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=Cj(t),this.y=Cj(e)}setText(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){let t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,n=0;if("flip"==this.overflowMethod){let i=!1,s=!0;this.y-t<this.padding&&(s=!1),this.x+e>o-this.padding&&(i=!0),r=i?this.x-e:this.x,n=s?this.y-t:this.y}else(n=this.y-t)+t+this.padding>i&&(n=i-t-this.padding),n<this.padding&&(n=this.padding),(r=this.x)+e+this.padding>o&&(r=o-e-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=n+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Pj=!1,Pz="background: #FFeeee; color: #dd0000",PA=class t{static validate(e,i,o){Pj=!1,r=i;let n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),Pj}static parse(e,i,o){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,i,o)}static check(e,i,o,r){if(void 0===o[e]&&void 0===o.__any__){t.getSuggestion(e,o,r);return}let n=e,s=!0;void 0===o[e]&&void 0!==o.__any__&&(n="__any__",s="object"===t.getType(i[e]));let a=o[n];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,o,n,a,r)}static checkFields(e,i,o,r,n,s){let a=function(i){console.error("%c"+i+t.printLocation(s,e),Pz)},l=t.getType(i[e]),d=n[l];void 0!==d?"array"===t.getType(d)&&-1===Cz(d).call(d,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(d)+' not "'+i[e]+'". '),Pj=!0):"object"===l&&"__any__"!==r&&(s=[...s,e],t.parse(i[e],o[r],s)):void 0===n.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(Cw(n))+". Received ["+l+'] "'+i[e]+'"'),Pj=!0)}static getType(t){let e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Cy(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,i,o){let n;let s=t.findInOptions(e,i,o,!1),a=t.findInOptions(e,r,[],!0);n=void 0!==s.indexMatch?" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':a.distance<=4&&s.distance>a.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print(Cw(i))+t.printLocation(o,e),console.error('%cUnknown option detected: "'+e+'"'+n,Pz),Pj=!0}static findInOptions(e,i,o){let r,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",l=[],d=e.toLowerCase();for(let c in i){let u;if(void 0!==i[c].__type__&&!0===n){let n=t.findInOptions(e,i[c],[...o,c]);s>n.distance&&(a=n.closestMatch,l=n.path,s=n.distance,r=n.indexMatch)}else{var h;-1!==Cz(h=c.toLowerCase()).call(h,d)&&(r=c),s>(u=t.levenshteinDistance(e,c))&&(a=c,l=Cv(o).call(o),s=u)}}return{closestMatch:a,path:l,distance:s,indexMatch:r}}static printLocation(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",o="\n\n"+i+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)o+="  ";o+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)o+="  ";o+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)o+="  ";o+="}\n"}return o+"\n\n"}static print(t){return CF(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){let i,o;if(0===t.length)return e.length;if(0===e.length)return t.length;let r=[];for(i=0;i<=e.length;i++)r[i]=[i];for(o=0;o<=t.length;o++)r[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?r[i][o]=r[i-1][o-1]:r[i][o]=Math.min(r[i-1][o-1]+1,Math.min(r[i][o-1]+1,r[i-1][o]+1));return r[e.length][t.length]}};var PF={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},PB=CA(PF);PB.color="color.color",PB.style="dashes";var PR={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},PL={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},PH="",PW=0,PU="",Pq="",PV=PR.NULL;function PY(){PW++,PU=PH.charAt(PW)}function PX(){return PH.charAt(PW+1)}function PG(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function PK(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function P$(t,e){for(var i=null,o=[t],r=t;r.parent;)o.push(r.parent),r=r.parent;if(r.nodes){for(n=0,s=r.nodes.length;n<s;n++)if(e.id===r.nodes[n].id){i=r.nodes[n];break}}for(!i&&(i={id:e.id},t.node&&(i.attr=PK(i.attr,t.node))),n=o.length-1;n>=0;n--){var n,s,a,l=o[n];l.nodes||(l.nodes=[]),-1===Cz(a=l.nodes).call(a,i)&&l.nodes.push(i)}e.attr&&(i.attr=PK(i.attr,e.attr))}function PZ(t,e,i,o,r){var n={from:e,to:i,type:o};return t.edge&&(n.attr=PK({},t.edge)),n.attr=PK(n.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(n.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),n}function PQ(){for(PV=PR.NULL,Pq="";" "===PU||"	"===PU||"\n"===PU||"\r"===PU;)PY();do{var t=!1;if("#"===PU){for(var e=PW-1;" "===PH.charAt(e)||"	"===PH.charAt(e);)e--;if("\n"===PH.charAt(e)||""===PH.charAt(e)){for(;""!=PU&&"\n"!=PU;)PY();t=!0}}if("/"===PU&&"/"===PX()){for(;""!=PU&&"\n"!=PU;)PY();t=!0}if("/"===PU&&"*"===PX()){for(;""!=PU;){if("*"===PU&&"/"===PX()){PY(),PY();break}PY()}t=!0}for(;" "===PU||"	"===PU||"\n"===PU||"\r"===PU;)PY()}while(t);if(""===PU){PV=PR.DELIMITER;return}var i=PU+PX();if(PL[i]){PV=PR.DELIMITER,Pq=i,PY(),PY();return}if(PL[PU]){PV=PR.DELIMITER,Pq=PU,PY();return}if(PG(PU)||"-"===PU){for(Pq+=PU,PY();PG(PU);)Pq+=PU,PY();"false"===Pq?Pq=!1:"true"===Pq?Pq=!0:isNaN(Number(Pq))||(Pq=Number(Pq)),PV=PR.IDENTIFIER;return}if('"'===PU){for(PY();""!=PU&&('"'!=PU||'"'===PU&&'"'===PX());)'"'===PU?(Pq+=PU,PY()):"\\"===PU&&"n"===PX()?(Pq+="\n",PY()):Pq+=PU,PY();if('"'!=PU)throw P5('End of string " expected');PY(),PV=PR.IDENTIFIER;return}for(PV=PR.UNKNOWN;""!=PU;)Pq+=PU,PY();throw SyntaxError('Syntax error in part "'+P3(Pq,30)+'"')}function PJ(t){for(;""!==Pq&&"}"!=Pq;)(function(t){var e=P0(t);if(e){P1(t,e);return}if("node"===Pq?(PQ(),t.node=P2(),false):"edge"===Pq?(PQ(),t.edge=P2(),false):"graph"!==Pq||(PQ(),t.graph=P2(),false)){if(PV!=PR.IDENTIFIER)throw P5("Identifier expected");var i=Pq;if(PQ(),"="===Pq){if(PQ(),PV!=PR.IDENTIFIER)throw P5("Identifier expected");t[i]=Pq,PQ()}else(function(t,e){var i={id:e},o=P2();o&&(i.attr=o),P$(t,i),P1(t,e)})(t,i)}})(t),";"===Pq&&PQ()}function P0(t){var e=null;if("subgraph"===Pq&&((e={}).type="subgraph",PQ(),PV===PR.IDENTIFIER&&(e.id=Pq,PQ())),"{"===Pq){if(PQ(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,PJ(e),"}"!=Pq)throw P5("Angle bracket } expected");PQ(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function P1(t,e){for(;"->"===Pq||"--"===Pq;){var i,o=Pq;PQ();var r=P0(t);if(r)i=r;else{if(PV!=PR.IDENTIFIER)throw P5("Identifier or subgraph expected");P$(t,{id:i=Pq}),PQ()}var n=PZ(t,e,i,o,P2());(function(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=PK({},t.edge);e.attr=PK(i,e.attr)}})(t,n),e=i}}function P2(){for(var t,e=null,i={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=[],n=[];"["===Pq;){for(PQ(),e={};""!==Pq&&"]"!=Pq;){if(PV!=PR.IDENTIFIER)throw P5("Attribute name expected");var s,a,l=Pq;if(PQ(),"="!=Pq)throw P5("Equal sign = expected");if(PQ(),PV!=PR.IDENTIFIER)throw P5("Attribute value expected");var d=Pq;"style"===l&&(d=i[d]),"arrowhead"===l&&(a=o[d],l="arrows",d={to:{enabled:!0,type:a}}),"arrowtail"===l&&(a=o[d],l="arrows",d={from:{enabled:!0,type:a}}),r.push({attr:e,name:l,value:d}),n.push(l),PQ(),","==Pq&&PQ()}if("]"!=Pq)throw P5("Bracket ] expected");PQ()}if(CC(n).call(n,"dir")){var h,c,u,p={};for(s=0,p.arrows={};s<r.length;s++)if("arrows"===r[s].name){if(null!=r[s].value.to)p.arrows.to=s;else if(null!=r[s].value.from)p.arrows.from=s;else throw P5("Invalid value of arrows")}else"dir"===r[s].name&&(p.dir=s);var f=r[p.dir].value;if(!CC(n).call(n,"arrows")){if("both"===f)r.push({attr:r[p.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),p.arrows.to=r.length-1,r.push({attr:r[p.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),p.arrows.from=r.length-1;else if("forward"===f)r.push({attr:r[p.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),p.arrows.to=r.length-1;else if("back"===f)r.push({attr:r[p.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),p.arrows.from=r.length-1;else if("none"===f)r.push({attr:r[p.dir].attr,name:"arrows",value:""}),p.arrows.to=r.length-1;else throw P5('Invalid dir type "'+f+'"')}if("both"===f)p.arrows.to&&p.arrows.from?(c=r[p.arrows.to].value.to.type,h=r[p.arrows.from].value.from.type,r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}},CS(r).call(r,p.arrows.from,1)):p.arrows.to?(c=r[p.arrows.to].value.to.type,h="arrow",r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):p.arrows.from&&(c="arrow",h=r[p.arrows.from].value.from.type,r[p.arrows.from]={attr:r[p.arrows.from].attr,name:r[p.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}});else if("back"===f)p.arrows.to&&p.arrows.from?(c="",h=r[p.arrows.from].value.from.type,r[p.arrows.from]={attr:r[p.arrows.from].attr,name:r[p.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):p.arrows.to?(c="",h="arrow",p.arrows.from=p.arrows.to,r[p.arrows.from]={attr:r[p.arrows.from].attr,name:r[p.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):p.arrows.from&&(c="",h=r[p.arrows.from].value.from.type,r[p.arrows.to]={attr:r[p.arrows.from].attr,name:r[p.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),r[p.arrows.from]={attr:r[p.arrows.from].attr,name:r[p.arrows.from].name,value:{from:{enabled:!0,type:r[p.arrows.from].value.from.type}}};else if("none"===f)r[u=p.arrows.to?p.arrows.to:p.arrows.from]={attr:r[u].attr,name:r[u].name,value:""};else if("forward"===f)p.arrows.to&&p.arrows.from?(c=r[p.arrows.to].value.to.type,h="",r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):p.arrows.to?(c=r[p.arrows.to].value.to.type,h="",r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}):p.arrows.from&&(c="arrow",h="",p.arrows.to=p.arrows.from,r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:h}}}),r[p.arrows.to]={attr:r[p.arrows.to].attr,name:r[p.arrows.to].name,value:{to:{enabled:!0,type:r[p.arrows.to].value.to.type}}};else throw P5('Invalid dir type "'+f+'"');CS(r).call(r,p.dir,1)}if(CC(n).call(n,"penwidth")){var g=[];for(s=0,t=r.length;s<t;s++)"width"!==r[s].name&&("penwidth"===r[s].name&&(r[s].name="width"),g.push(r[s]));r=g}for(s=0,t=r.length;s<t;s++)!function(t,e,i){for(var o=e.split("."),r=t;o.length;){var n=o.shift();o.length?(r[n]||(r[n]={}),r=r[n]):r[n]=i}}(r[s].attr,r[s].name,r[s].value);return e}function P5(t){return SyntaxError(t+', got "'+P3(Pq,30)+'" (char '+PW+")")}function P3(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function P4(t,e,i){for(var o=e.split("."),r=o.pop(),n=t,s=0;s<o.length;s++){var a=o[s];a in n||(n[a]={}),n=n[a]}return n[r]=i,t}function P6(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var r=e[o];Cy(r)?CE(r).call(r,function(e){P4(i,e,t[o])}):"string"==typeof r?P4(i,r,t[o]):P4(i,o,t[o])}return i}var P8=Object.freeze({__proto__:null,cn:{addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru mete pidat nov\xfd vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zav\xedt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat v\xfdbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaen\xedm z jednoho vrcholu do druh\xe9ho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaen\xedm kontroln\xedho vrcholu hrany ji mete pipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un nud.",editNode:"\xc9diter le nud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},uk:{addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "}});class P9{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;let t=this.image.width,e=this.image.height;this.width=t,this.height=e;let i=Math.floor(e/2),o=Math.floor(e/4),r=Math.floor(e/8),n=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),d=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,o],[s,o,l,r],[5*l,o,d,n]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){let t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(let e=1;e<this.NUM_ITERATIONS;e++){let i=this.coordinates[e-1],o=this.coordinates[e];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],o[0],o[1],o[2],o[3])}}drawImageAtPosition(t,e,i,o,r,n){if(this.initialized()){if(e>2){e*=.5;let s=0;for(;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);let a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,o,r,n)}else t.drawImage(this.image,i,o,r,n)}}}class P7{constructor(t){this.images={},this.imageBroken={},this.callback=t}_tryloadBrokenUrl(t,e,i){if(void 0!==t&&void 0!==i){if(void 0===e){console.warn("No broken url image defined");return}i.image.onerror=()=>{console.error("Could not load brokenImage:",e)},i.image.src=e}}_redrawWithImage(t){this.callback&&this.callback(t)}load(t,e){let i=this.images[t];if(i)return i;let o=new P9;return this.images[t]=o,o.image.onload=()=>{this._fixImageCoordinates(o.image),o.init(),this._redrawWithImage(o)},o.image.onerror=()=>{console.error("Could not load image:",t),this._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}_fixImageCoordinates(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}var Nt={exports:{}};function Ne(){return mS?mk:(mS=1,mk=!kb()(function(){return Object.isExtensible(Object.preventExtensions({}))}))}function Ni(){if(mC)return Nt.exports;mC=1;var t=So(),e=k_(),i=Sd(),o=kA(),r=kJ(),n=Se().f,s=Sq(),a=SY(),l=function(){if(mO)return mE;mO=1;var t=kb(),e=kA(),i=kE(),o=m_?mx:(m_=1,mx=kb()(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),r=Object.isExtensible;return mE=t(function(){})||o?function(t){return!!e(t)&&(!o||"ArrayBuffer"!==i(t))&&(!r||r(t))}:r}(),d=k0(),h=Ne(),c=!1,u=d("meta"),p=0,f=function(t){n(t,u,{value:{objectID:"O"+p++,weakData:{}}})},g=Nt.exports={enable:function(){g.enable=function(){},c=!0;var i=s.f,o=e([].splice),r={};r[u]=1,i(r).length&&(s.f=function(t){for(var e=i(t),r=0,n=e.length;r<n;r++)if(e[r]===u){o(e,r,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,u)){if(!l(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},getWeakData:function(t,e){if(!r(t,u)){if(!l(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},onFreeze:function(t){return h&&c&&l(t)&&!r(t,u)&&f(t),t}};return i[u]=!0,Nt.exports}function No(){if(mM)return mN;mM=1;var t=SI(),e=kX(),i=kD(),o=Ca(),r=k1()("iterator");return mN=function(n){if(!i(n))return e(n,r)||e(n,"@@iterator")||o[t(n)]}}function Nr(){if(mz)return mj;mz=1;var t=kT(),e=St(),i=kX();return mj=function(o,r,n){var s,a;e(o);try{if(!(s=i(o,"return"))){if("throw"===r)throw n;return n}s=t(s,o)}catch(t){a=!0,s=t}if("throw"===r)throw n;if(a)throw s;return e(s),n}}function Nn(){if(mF)return mA;mF=1;var t=k8(),e=kT(),i=St(),o=kV(),r=function(){if(mP)return mT;mP=1;var t=k1(),e=Ca(),i=t("iterator"),o=Array.prototype;return mT=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}}(),n=Sa(),s=kR(),a=function(){if(mD)return mI;mD=1;var t=kT(),e=kY(),i=St(),o=kV(),r=No(),n=TypeError;return mI=function(s,a){var l=arguments.length<2?r(s):a;if(e(l))return i(t(l,s));throw new n(o(s)+" is not iterable")}}(),l=No(),d=Nr(),h=TypeError,c=function(t,e){this.stopped=t,this.result=e},u=c.prototype;return mA=function(p,f,g){var m,v,y,b,w,x,_,E=g&&g.that,O=!!(g&&g.AS_ENTRIES),k=!!(g&&g.IS_RECORD),S=!!(g&&g.IS_ITERATOR),C=!!(g&&g.INTERRUPTED),T=t(f,E),P=function(t){return m&&d(m,"normal"),new c(!0,t)},N=function(t){return O?(i(t),C?T(t[0],t[1],P):T(t[0],t[1])):C?T(t,P):T(t)};if(k)m=p.iterator;else if(S)m=p;else{if(!(v=l(p)))throw new h(o(p)+" is not iterable");if(r(v)){for(y=0,b=n(p);b>y;y++)if((w=N(p[y]))&&s(u,w))return w;return new c(!1)}m=a(p,v)}for(x=k?p.next:m.next;!(_=e(x,m)).done;){try{w=N(_.value)}catch(t){d(m,"throw",t)}if("object"==typeof w&&w&&s(u,w))return w}return new c(!1)}}function Ns(){if(mR)return mB;mR=1;var t=kR(),e=TypeError;return mB=function(i,o){if(t(o,i))return i;throw new e("Incorrect invocation")}}function Na(){if(mH)return mL;mH=1;var t=So(),e=ky(),i=Ni(),o=kb(),r=Si(),n=Nn(),s=Ns(),a=kk(),l=kA(),d=kD(),h=SJ(),c=Se().f,u=S2().forEach,p=kC(),f=S1(),g=f.set,m=f.getterFor;return mL=function(f,v,y){var b,w=-1!==f.indexOf("Map"),x=-1!==f.indexOf("Weak"),_=w?"set":"add",E=e[f],O=E&&E.prototype,k={};if(p&&a(E)&&(x||O.forEach&&!o(function(){new E().entries().next()}))){var S=(b=v(function(t,e){g(s(t,S),{type:f,collection:new E}),d(e)||n(e,t[_],{that:t,AS_ENTRIES:w})})).prototype,C=m(f);u(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;t in O&&!(x&&"clear"===t)&&r(S,t,function(i,o){var r=C(this).collection;if(!e&&x&&!l(i))return"get"===t&&void 0;var n=r[t](0===i?0:i,o);return e?this:n})}),x||c(S,"size",{configurable:!0,get:function(){return C(this).collection.size}})}else b=y.getConstructor(v,f,w,_),i.enable();return h(b,f,!1,!0),k[f]=b,t({global:!0,forced:!0},k),x||y.setStrong(b,f,w),b}}function Nl(){if(mU)return mW;mU=1;var t=SX();return mW=function(e,i,o){for(var r in i)o&&o.unsafe&&e[r]?e[r]=i[r]:t(e,r,i[r],o);return e}}function Nd(){if(mX)return mY;mX=1;var t=SW(),e=SG(),i=Nl(),o=k8(),r=Ns(),n=kD(),s=Nn(),a=Cc(),l=Cu(),d=function(){if(mV)return mq;mV=1;var t=kB(),e=SG(),i=k1(),o=kC(),r=i("species");return mq=function(i){var n=t(i);o&&n&&!n[r]&&e(n,r,{configurable:!0,get:function(){return this}})}}(),h=kC(),c=Ni().fastKey,u=S1(),p=u.set,f=u.getterFor;return mY={getConstructor:function(a,l,d,u){var g=a(function(e,i){r(e,m),p(e,{type:l,index:t(null),first:null,last:null,size:0}),h||(e.size=0),n(i)||s(i,e[u],{that:e,AS_ENTRIES:d})}),m=g.prototype,v=f(l),y=function(t,e,i){var o,r,n=v(t),s=b(t,e);return s?s.value=i:(n.last=s={index:r=c(e,!0),key:e,value:i,previous:o=n.last,next:null,removed:!1},n.first||(n.first=s),o&&(o.next=s),h?n.size++:t.size++,"F"!==r&&(n.index[r]=s)),t},b=function(t,e){var i,o=v(t),r=c(e);if("F"!==r)return o.index[r];for(i=o.first;i;i=i.next)if(i.key===e)return i};return i(m,{clear:function(){for(var e=v(this),i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=null),i=i.next;e.first=e.last=null,e.index=t(null),h?e.size=0:this.size=0},delete:function(t){var e=v(this),i=b(this,t);if(i){var o=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),e.first===i&&(e.first=o),e.last===i&&(e.last=r),h?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=v(this),r=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(m,d?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&e(m,"size",{configurable:!0,get:function(){return v(this).size}}),g},setStrong:function(t,e,i){var o=e+" Iterator",r=f(e),n=f(o);a(t,e,function(t,e){p(this,{type:o,target:t,state:r(t),kind:e,last:null})},function(){for(var t=n(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"===e?l(i.key,!1):"values"===e?l(i.value,!1):l([i.key,i.value],!1):(t.target=null,l(void 0,!0))},i?"entries":"values",!i,!0),d(e)}}}function Nh(){return mZ?m$:(mZ=1,m$=function(t,e){return 1===e?function(e,i){return e[t](i)}:function(e,i,o){return e[t](i,o)}})}var Nc={};function Nu(){if(m5)return Nc;m5=1;var t=function(){if(m2)return m1;m2=1;var t=k_(),e=Sr(),i=SB(),o=kj(),r=t("".charAt),n=t("".charCodeAt),s=t("".slice),a=function(t){return function(a,l){var d,h,c=i(o(a)),u=e(l),p=c.length;return u<0||u>=p?t?"":void 0:(d=n(c,u))<55296||d>56319||u+1===p||(h=n(c,u+1))<56320||h>57343?t?r(c,u):d:t?s(c,u,u+2):(d-55296<<10)+(h-56320)+65536}};return m1={codeAt:a(!1),charAt:a(!0)}}().charAt,e=SB(),i=S1(),o=Cc(),r=Cu(),n="String Iterator",s=i.set,a=i.getterFor(n);return o(String,"String",function(t){s(this,{type:n,string:e(t),index:0})},function(){var e,i=a(this),o=i.string,n=i.index;return n>=o.length?r(void 0,!0):(e=t(o,n),i.index+=e.length,r(e,!1))}),Nc}var Np=kv(m7?m9:(m7=1,m9=function(){if(m8)return m6;m8=1;var t=m4?m3:(m4=1,Cp(),mK||(mK=1,mG||(mG=1,Na()("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Nd()))),function(){if(!m0){m0=1;var t=So(),e=k_(),i=kY(),o=kj(),r=Nn(),n=function(){if(mJ)return mQ;mJ=1;var t=kB(),e=Nh(),i=t("Map");return mQ={Map:i,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:i.prototype}}(),s=kK(),a=kb(),l=n.Map,d=n.has,h=n.get,c=n.set,u=e([].push),p=s||a(function(){return 1!==l.groupBy("ab",function(t){return t}).get("a").length});t({target:"Map",stat:!0,forced:s||p},{groupBy:function(t,e){o(t),i(e);var n=new l,s=0;return r(t,function(t){var i=e(t,s++);d(n,i)?u(h(n,i),t):c(n,i,[t])}),n}})}}(),Nu(),m3=kF().Map);return Cf(),m6=t}()));class Nf{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Sg(this.options,this.defaultOptions)}setOptions(t){let e=["useDefaultGroups"];if(void 0!==t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===Cz(e).call(e,i)){let e=t[i];this.add(i,e)}}}clear(){this._groups=new Np,this._groupNames=[]}get(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this._groups.get(t);if(void 0===i&&e){if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){let e=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[e]),this._groups.set(t,i)}else{let e=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[e],this._groups.set(t,i)}}return i}add(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}var Ng=kv(vs?vn:(vs=1,vn=vr?vo:(vr=1,vo=vi?ve:(vi=1,vt||(vt=1,So()({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})),ve=kF().Number.isNaN)))),Nm=kv(vg?vf:(vg=1,vf=vp?vu:(vp=1,vu=vc?vh:(vc=1,vd||(vd=1,So()({target:"Number",stat:!0},{isFinite:function(){if(vl)return va;vl=1;var t=ky().isFinite;return va=Number.isFinite||function(e){return"number"==typeof e&&t(e)}}()})),vh=kF().Number.isFinite)))),Nv=kv(vO?vE:(vO=1,vE=v_?vx:(v_=1,vx=function(){if(vw)return vb;vw=1;var t=kR(),e=vy?vv:(vy=1,function(){if(!vm){vm=1;var t=So(),e=S2().some;t({target:"Array",proto:!0,forced:!C_()("some")},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),vv=Sv()("Array","some")),i=Array.prototype;return vb=function(o){var r=o.some;return o===i||t(i,o)&&r===i.some?e:r}}()))),Ny={exports:{}};function Nb(){return vT?vC:(vT=1,vC=function(){if(vS)return Ny.exports;vS=1,function(){if(!vk){vk=1;var t=So(),e=kC(),i=Se().f;t({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!e},{defineProperty:i})}}();var t=kF().Object,e=Ny.exports=function(e,i,o){return t.defineProperty(e,i,o)};return t.defineProperty.sham&&(e.sham=!0),Ny.exports}())}var Nw=kv(vj?vD:(vj=1,vD=vI?vM:(vI=1,vM=vN?vP:(vN=1,vP=Nb()))));function Nx(){if(vW)return vH;vW=1;var t=kB(),e=k_(),i=t("Symbol"),o=i.keyFor,r=e(i.prototype.valueOf);return vH=i.isRegisteredSymbol||function(t){try{return void 0!==o(r(t))}catch(t){return!1}}}function N_(){if(vV)return vq;vV=1;for(var t=kZ(),e=kB(),i=k_(),o=kq(),r=k1(),n=e("Symbol"),s=n.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=i(n.prototype.valueOf),d=t("wks"),h=0,c=a(n),u=c.length;h<u;h++)try{var p=c[h];o(n[p])&&r(p)}catch(t){}return vq=function(t){if(s&&s(t))return!0;try{for(var e=l(t),i=0,o=a(d),r=o.length;i<r;i++)if(d[o[i]]==e)return!0}catch(t){}return!1}}var NE=kv(v3?v5:(v3=1,v5=function(){if(v2)return v1;v2=1;var t=function(){if(vL)return vR;vL=1;var t=Cg();return function(){if(!vz){vz=1;var t=k1(),e=Se().f,i=t("metadata"),o=Function.prototype;void 0===o[i]&&e(o,i,{value:null})}}(),vA||(vA=1,S9()),vF||(vF=1,Ct()),vB||(vB=1,SZ()("metadata")),vR=t}();return vU||(vU=1,So()({target:"Symbol",stat:!0},{isRegisteredSymbol:Nx()})),vY||(vY=1,So()({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:N_()})),vX||(vX=1,SZ()("customMatcher")),vG||(vG=1,SZ()("observable")),vK||(vK=1,So()({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Nx()})),v$||(v$=1,So()({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:N_()})),vZ||(vZ=1,SZ()("matcher")),vQ||(vQ=1,SZ()("metadataKey")),vJ||(vJ=1,SZ()("patternMatch")),v0||(v0=1,SZ()("replaceAll")),v1=t}())),NO=kv(yr?yo:(yr=1,yo=yi?ye:(yi=1,ye=yt?v7:(yt=1,v7=function(){if(v9)return v8;v9=1;var t=v6?v4:(v6=1,Cp(),Nu(),Ci(),v4=S$().f("iterator"));return Cf(),v8=t}()))));function Nk(t){return(Nk="function"==typeof NE&&"symbol"==typeof NO?function(t){return typeof t}:function(t){return t&&"function"==typeof NE&&t.constructor===NE&&t!==NE.prototype?"symbol":typeof t})(t)}var NS=kv(yf?yp:(yf=1,yp=yu?yc:(yu=1,yc=yh?yd:(yh=1,yd=yl?ya:(yl=1,ya=ys?yn:(ys=1,Cr(),yn=S$().f("toPrimitive")))))));function NC(t,e,i){var o;return(o=function(t,e){if("object"!=Nk(t)||!t)return t;var i=t[NS];if(void 0!==i){var o=i.call(t,e);if("object"!=Nk(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Nk(o)?o:o+"")in t)?Nw(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var NT=kv(yE?y_:(yE=1,y_=yx?yw:(yx=1,yw=yb?yy:(yb=1,function(){if(!yv){yv=1;var t=So(),e=function(){if(ym)return yg;ym=1;var t=ky(),e=kb(),i=k_(),o=SB(),r=CD().trim,n=CI(),s=i("".charAt),a=t.parseFloat,l=t.Symbol,d=l&&l.iterator;return yg=1/a(n+"-0")!=-1/0||d&&!e(function(){a(Object(d))})?function(t){var e=r(o(t)),i=a(e);return 0===i&&"-"===s(e,0)?-0:i}:a}();t({global:!0,forced:parseFloat!==e},{parseFloat:e})}}(),yy=kF().parseFloat)))),NP=kv(yN?yP:(yN=1,yP=yT?yC:(yT=1,yC=function(){if(yS)return yk;yS=1,function(){if(!yO){yO=1;var t=So(),e=kb(),i=SY().f;t({target:"Object",stat:!0,forced:e(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})}}();var t=kF().Object;return yk=function(e){return t.getOwnPropertyNames(e)}}()))),NN=kv(yA?yz:(yA=1,yz=yj?yD:(yj=1,yD=yI?yM:(yI=1,S6(),yM=kF().Object.getOwnPropertySymbols)))),NM={exports:{}},NI=kv(yW?yH:(yW=1,yH=yL?yR:(yL=1,yR=function(){if(yB)return NM.exports;yB=1,function(){if(!yF){yF=1;var t=So(),e=kb(),i=kz(),o=k6().f,r=kC();t({target:"Object",stat:!0,forced:!r||e(function(){o(1)}),sham:!r},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})}}();var t=kF().Object,e=NM.exports=function(e,i){return t.getOwnPropertyDescriptor(e,i)};return t.getOwnPropertyDescriptor.sham&&(e.sham=!0),NM.exports}()))),ND=kv(yK?yG:(yK=1,yG=yX?yY:(yX=1,yY=yV?yq:(yV=1,function(){if(!yU){yU=1;var t=So(),e=kC(),i=function(){if(pP)return pT;pP=1;var t=kB(),e=k_(),i=Sq(),o=Sf(),r=St(),n=e([].concat);return pT=t("Reflect","ownKeys")||function(t){var e=i.f(r(t)),s=o.f;return s?n(e,s(t)):e}}(),o=kz(),r=k6(),n=SN();t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){for(var e,s,a=o(t),l=r.f,d=i(a),h={},c=0;d.length>c;)void 0!==(s=l(a,e=d[c++]))&&n(h,e,s);return h}})}}(),yq=kF().Object.getOwnPropertyDescriptors)))),Nj={exports:{}},Nz=kv(y1?y0:(y1=1,y0=yJ?yQ:(yJ=1,yQ=function(){if(yZ)return Nj.exports;yZ=1,function(){if(!y$){y$=1;var t=So(),e=kC(),i=SL().f;t({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!e},{defineProperties:i})}}();var t=kF().Object,e=Nj.exports=function(e,i){return t.defineProperties(e,i)};return t.defineProperties.sham&&(e.sham=!0),Nj.exports}()))),NA=kv(y5?y2:(y5=1,y2=Nb()));function NF(t,e){let i=["node","edge","label"],o=!0,r=PT(e,"chosen");if("boolean"==typeof r)o=r;else if("object"==typeof r){if(-1===Cz(i).call(i,t))throw Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");let r=PT(e,["chosen",t]);("boolean"==typeof r||"function"==typeof r)&&(o=r)}return o}function NB(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){let t={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){let o=-i.angle;e={x:Math.cos(o)*t.x-Math.sin(o)*t.y,y:Math.sin(o)*t.x+Math.cos(o)*t.y}}else e=t}let o=t.x+t.width,r=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&r>e.y}function NR(t){return"string"==typeof t&&""!==t}function NL(t,e,i,o){let r=o.x,n=o.y;if("function"==typeof o.distanceToBorder){let i=o.distanceToBorder(t,e),s=Math.sin(e)*i,a=Math.cos(e)*i;a===i?(r+=i,n=o.y):s===i?(r=o.x,n-=i):(r+=a,n-=s)}else o.shape.width>o.shape.height?(r=o.x+.5*o.shape.width,n=o.y-i):(r=o.x+i,n=o.y-.5*o.shape.height);return{x:r,y:n}}var NH=kv(be?bt:(be=1,bt=function(){if(y7)return y9;y7=1,Cf();var t=SI(),e=kJ(),i=kR(),o=y8?y6:(y8=1,y6=y4?y3:(y4=1,Cp(),y3=Sv()("Array","values"))),r=Array.prototype,n={DOMTokenList:!0,NodeList:!0};return y9=function(s){var a=s.values;return s===r||i(r,s)&&a===r.values||e(n,t(s))?o:a}}()));class NW{constructor(t){this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});let o=e;(void 0===e||""===e)&&(o=" ");let r=this.measureText(o,i),n=Sg({},NH(r));n.text=e,n.width=r.width,n.mod=i,(void 0===e||""===e)&&(n.width=0),this.lines[t].blocks.push(n),this.lines[t].width+=n.width}curWidth(){let t=this.lines[this.current];return void 0===t?0:t.width}append(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}newLine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}determineLineHeights(){for(let t=0;t<this.lines.length;t++){let e=this.lines[t],i=0;if(void 0!==e.blocks)for(let t=0;t<e.blocks.length;t++){let o=e.blocks[t];i<o.height&&(i=o.height)}e.height=i}}determineLabelSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){let o=this.lines[i];o.width>t&&(t=o.width),e+=o.height}this.width=t,this.height=e}removeEmptyBlocks(){let t=[];for(let e=0;e<this.lines.length;e++){let i;let o=this.lines[e];if(0===o.blocks.length||e===this.lines.length-1&&0===o.width)continue;let r={};Sg(r,o),r.blocks=[];let n=[];for(let t=0;t<o.blocks.length;t++){let e=o.blocks[t];0!==e.width?n.push(e):void 0===i&&(i=e)}0===n.length&&void 0!==i&&n.push(i),r.blocks=n,t.push(r)}return t}finalize(){this.determineLineHeights(),this.determineLabelSize();let t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}let NU={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class Nq{constructor(t){this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}parseWS(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}setTag(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}unsetTag(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}parseStartTag(t,e){return!!(!this.mono&&!this[t]&&this.match(e))&&(this.setTag(t),!0)}match(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[i,o]=this.prepareRegExp(t),r=i.test(this.text.substr(this.position,o));return r&&e&&(this.position+=o-1),r}parseEndTag(t,e,i){let o=this.mod()===t;return!!((o="mono"===t?o&&this.mono:o&&!this.mono)&&this.match(e))&&(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}replace(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}prepareRegExp(t){let e,i;if(t instanceof RegExp)i=t,e=1;else{let o=NU[t];i=void 0!==o?o:new RegExp(t),e=t.length}return[i,e]}}class NV{constructor(t,e,i,o){this.ctx=t,this.parent=e,this.selected=i,this.hover=o,this.lines=new NW((e,r)=>{if(void 0===e)return 0;let n=this.parent.getFormattingValues(t,i,o,r),s=0;return""!==e&&(s=this.ctx.measureText(e).width),{width:s,values:n}})}process(t){if(!NR(t))return this.lines.finalize();let e=this.parent.fontOptions,i=String(t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n"),o=i.length;if(e.multi)for(let t=0;t<o;t++){let o=this.splitBlocks(i[t],e.multi);if(void 0!==o){if(0===o.length){this.lines.newLine("");continue}if(e.maxWdt>0)for(let t=0;t<o.length;t++){let e=o[t].mod,i=o[t].text;this.splitStringIntoLines(i,e,!0)}else for(let t=0;t<o.length;t++){let e=o[t].mod,i=o[t].text;this.lines.append(i,e)}this.lines.newLine()}}else if(e.maxWdt>0)for(let t=0;t<o;t++)this.splitStringIntoLines(i[t]);else for(let t=0;t<o;t++)this.lines.newLine(i[t]);return this.lines.finalize()}decodeMarkupSystem(t){let e="none";return"markdown"===t||"md"===t?e="markdown":(!0===t||"html"===t)&&(e="html"),e}splitHtmlBlocks(t){let e=new Nq(t),i=t=>!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0);for(;e.position<e.text.length;){let t=e.text.charAt(e.position);e.parseWS(t)||/</.test(t)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(t)||e.add(t),e.position++}return e.emitBlock(),e.blocks}splitMarkdownBlocks(t){let e=new Nq(t),i=!0,o=t=>!!/\\/.test(t)&&(e.position<this.text.length+1&&(e.position++,t=this.text.charAt(e.position),/ \t/.test(t)?e.spacing=!0:(e.add(t),i=!1)),!0);for(;e.position<e.text.length;){let t=e.text.charAt(e.position);e.parseWS(t)||o(t)||(i||e.spacing)&&(e.parseStartTag("bold","*")||e.parseStartTag("ital","_")||e.parseStartTag("mono","`"))||e.parseEndTag("bold","*","afterBold")||e.parseEndTag("ital","_","afterItal")||e.parseEndTag("mono","`","afterMono")||(e.add(t),i=!1),e.position++}return e.emitBlock(),e.blocks}splitBlocks(t,e){let i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}overMaxWidth(t){let e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}getLongestFit(t){let e="",i=0;for(;i<t.length;){let o=""===e?"":" ",r=e+o+t[i];if(this.overMaxWidth(r))break;e=r,i++}return i}getLongestFitWord(t){let e=0;for(;e<t.length&&!this.overMaxWidth(Cv(t).call(t,0,e));)e++;return e}splitStringIntoLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);let o=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;o.length>0;){let t=this.getLongestFit(o);if(0===t){let t=o[0],i=this.getLongestFitWord(t);this.lines.newLine(Cv(t).call(t,0,i),e),o[0]=Cv(t).call(t,i)}else{let r=t;" "===o[t-1]?t--:" "===o[r]&&r++;let n=Cv(o).call(o,0,t).join("");t==o.length&&i?this.lines.append(n,e):this.lines.newLine(n,e),o=Cv(o).call(o,r)}}}}let NY=["bold","ital","boldital","mono"];class NX{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(t){if(this.elementOptions=t,this.initFontOptions(t.font),NR(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font){if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"==typeof t.font){let e=t.font.size;void 0!==e&&(this.baseSize=e)}}}initFontOptions(t){if(Pm(NY,t=>{this.fontOptions[t]={}}),NX.parseFontString(this.fontOptions,t)){this.fontOptions.vadjust=0;return}Pm(t,(t,e)=>{null!=t&&"object"!=typeof t&&(this.fontOptions[e]=t)})}static parseFontString(t,e){if(!e||"string"!=typeof e)return!1;let i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}constrain(t){let e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=PT(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"==typeof i){let i=PT(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));let o=PT(t,["widthConstraint","minimum"]);"number"==typeof o&&(e.minWdt=Number(o))}let o=PT(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"==typeof o){let i=PT(t,["heightConstraint","minimum"]);"number"==typeof i&&(e.minHgt=Number(i));let o=PT(t,["heightConstraint","valign"]);"string"==typeof o&&("top"===o||"bottom"===o)&&(e.valign=o)}return e}update(t,e){this.setOptions(t,!0),this.propagateFonts(e),Pg(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=NF("label",e)}adjustSizes(t){let e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);let i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(t,e){for(let i=0;i<e.length;++i)this.addFontToPile(t,e[i])}addFontToPile(t,e){if(void 0===e||void 0===e.font||null===e.font)return;let i=e.font;t.push(i)}getBasicOptions(t){let e={};for(let i=0;i<t.length;++i){let o=t[i],r={};NX.parseFontString(r,o)&&(o=r),Pm(o,(t,i)=>{void 0!==t&&(Object.prototype.hasOwnProperty.call(e,i)||(-1!==Cz(NY).call(NY,i)?e[i]={}:e[i]=t))})}return e}getFontOption(t,e,i){let o;for(let r=0;r<t.length;++r){let n=t[r];if(Object.prototype.hasOwnProperty.call(n,e)){if(null==(o=n[e]))continue;let t={};if(NX.parseFontString(t,o)&&(o=t),Object.prototype.hasOwnProperty.call(o,i))return o[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(t,e){let i={},o=["color","size","face","mod","vadjust"];for(let r=0;r<o.length;++r){let n=o[r];i[n]=this.getFontOption(t,e,n)}return i}propagateFonts(t){let e=[];this.addFontOptionsToPile(e,t),this.fontOptions=this.getBasicOptions(e);for(let t=0;t<NY.length;++t){let i=NY[t],o=this.fontOptions[i];Pm(this.getFontOptions(e,i),(t,e)=>{o[e]=t}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}}draw(t,e,i,o,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;let s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,o,r,e,i,n),this._drawBackground(t),this._drawText(t,e,this.size.yLine,n,s))}_drawBackground(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;let e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}_drawText(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0;[e,i]=this._setAlignment(t,e,i,o),t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){let n=this.lines[o];if(n&&n.blocks){let o=0;this.isEdgeLabel||"center"===this.fontOptions.align?o+=(this.size.width-n.width)/2:"right"===this.fontOptions.align&&(o+=this.size.width-n.width);for(let s=0;s<n.blocks.length;s++){let a=n.blocks[s];t.font=a.font;let[l,d]=this._getColor(a.color,r,a.strokeColor);a.strokeWidth>0&&(t.lineWidth=a.strokeWidth,t.strokeStyle=d,t.lineJoin="round"),t.fillStyle=l,a.strokeWidth>0&&t.strokeText(a.text,e+o,i+a.vadjust),t.fillText(a.text,e+o,i+a.vadjust),o+=a.width}i+=n.height}}}_setAlignment(t,e,i,o){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=o,[e,i]}_getColor(t,e,i){let o=t||"#000000",r=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){let t=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));o=Py(o,t),r=Py(r,t)}return[o,r]}getTextSize(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){let i=-(.5*this.size.width);switch(this.fontOptions.align){case"middle":t=i,e=-(.5*this.size.height);break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}calculateLabelSize(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=o-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+(1-this.lineCount)*.5*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(t,e,i,o){let r=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},n={color:r(this.fontOptions,o,"color"),size:r(this.fontOptions,o,"size"),face:r(this.fontOptions,o,"face"),mod:r(this.fontOptions,o,"mod"),vadjust:r(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===o&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?n.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(n,this.elementOptions.id,e,i));let s="";return void 0!==n.mod&&""!==n.mod&&(s+=n.mod+" "),s+=n.size+"px "+n.face,t.font=s.replace(/"/g,""),n.font=t.font,n.height=n.size,n}differentState(t,e){return t!==this.selectedState||e!==this.hoverState}_processLabelText(t,e,i,o){return new NV(t,this,e,i).process(o)}_processLabel(t,e,i){if(!1===this.labelDirty&&!this.differentState(e,i))return;let o=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}visible(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class NG{constructor(t,e,i){this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(t){this.options=t}_setMargins(t){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}_distanceToBorder(t,e){let i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}enableShadow(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}enableBorderDashes(t,e){if(!1!==e.borderDashes){if(void 0!==t.setLineDash){let i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}}disableBorderDashes(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}needsRefresh(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}initContextForDraw(t,e){let i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}performStroke(t,e){let i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}performFill(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),CU(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}_addBoundingBoxMargin(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}_updateBoundingBox(t,e,i,o,r){void 0!==i&&this.resize(i,o,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(t,e,i,o,r){this._updateBoundingBox(t,e,i,o,r)}getDimensionsFromLabel(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);let o=this.textSize.width,r=this.textSize.height;return 0===o&&(o=14,r=14),{width:o,height:r}}}let NK=class extends NG{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){let o=this.getDimensionsFromLabel(t,e,i);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(t,e,i,o,r,n){this.resize(t,o,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,n),Sw(t,this.left,this.top,this.width,this.height,n.borderRadius),this.performFill(t,n),this.updateBoundingBox(e,i,t,o,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,r)}updateBoundingBox(t,e,i,o,r){this._updateBoundingBox(t,e,i,o,r);let n=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(n)}distanceToBorder(t,e){t&&this.resize(t);let i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}};class N$ extends NG{constructor(t,e,i){super(t,e,i),this.labelOffset=0,this.selected=!1}setOptions(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}setImages(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}switchImages(t){let e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){let t=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=t}}_getImagePadding(){let t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){let e=this.options.imagePadding;"object"==typeof e?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}_resizeImage(){let t,e;if(!1===this.options.shapeProperties.useImageSize){let i=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*o}else{let i=this._getImagePadding();t=this.imageObj.width+i.left+i.right,e=this.imageObj.height+i.top+i.bottom}this.width=t,this.height=e,this.radius=.5*this.width}_drawRawCircle(t,e,i,o){this.initContextForDraw(t,o),Sb(t,e,i,o.size),this.performFill(t,o)}_drawImageAtPosition(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);let i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);let o=this._getImagePadding(),r=this.left+o.left,n=this.top+o.top,s=this.width-o.left-o.right,a=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(t,i,r,n,s,a),this.disableShadow(t,e)}}_drawImageLabel(t,e,i,o,r){let n=0;if(void 0!==this.height){n=.5*this.height;let e=this.labelModule.getTextSize(t,o,r);e.lineCount>=1&&(n+=e.height/2)}let s=i+n;this.options.label&&(this.labelOffset=n),this.labelModule.draw(t,e,s,o,r,"hanging")}}let NZ=class extends N${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){let o=this.getDimensionsFromLabel(t,e,i),r=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}draw(t,e,i,o,r,n){this.resize(t,o,r),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,n),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,o,r)}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(t){return t&&this.resize(t),.5*this.width}};class NQ extends N${constructor(t,e,i,o,r){super(t,e,i),this.setImages(o,r)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){let t=2*this.options.size;this.width=t,this.height=t,this.radius=.5*this.width;return}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,o,r,n){this.switchImages(o),this.resize();let s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,n),t.save(),t.clip(),this._drawImageAtPosition(t,n),t.restore(),this._drawImageLabel(t,s,a,o,r),this.updateBoundingBox(e,i)}updateBoundingBox(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class NJ extends NG{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var r,n;this.labelModule.getTextSize(t,e,i);let s=2*o.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(n=this.customSizeHeight)&&void 0!==n?n:s,this.radius=.5*this.width}}_drawShape(t,e,i,o,r,n,s,a){return this.resize(t,n,s,a),this.left=o-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(Object.prototype.hasOwnProperty.call(SO,e)?SO[e]:function(t){for(var i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];CanvasRenderingContext2D.prototype[e].call(t,o)})(t,o,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(n?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,o,r)),{drawExternalLabel:()=>{if(void 0!==this.options.label){this.labelModule.calculateLabelSize(t,n,s,o,r,"hanging");let e=r+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,o,e,n,s,"hanging")}this.updateBoundingBox(o,r)}}}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function N0(t,e){var i=Cw(t);if(NN){var o=NN(t);e&&(o=CN(o).call(o,function(e){return NI(t,e).enumerable})),i.push.apply(i,o)}return i}class N1 extends NJ{constructor(t,e,i,o){super(t,e,i,o),this.ctxRenderer=o}draw(t,e,i,o,r,n){this.resize(t,o,r,n),this.left=e-this.width/2,this.top=i-this.height/2,t.save();let s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:o,hover:r},style:function(t){for(var e=1;e<arguments.length;e++){var i,o,r=null!=arguments[e]?arguments[e]:{};e%2?CE(i=N0(Object(r),!0)).call(i,function(e){NC(t,e,r[e])}):ND?Nz(t,ND(r)):CE(o=N0(Object(r))).call(o,function(e){NA(t,e,NI(r,e))})}return t}({},n),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){let e=s.drawExternalLabel;s.drawExternalLabel=()=>{t.save(),e(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class N2 extends NG{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){if(this.needsRefresh(e,i)){let o=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(t,e,i,o,r,n){this.resize(t,o,r),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,n),S_(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,n),this.updateBoundingBox(e,i,t,o,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let N5=class extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"diamond",4,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class N3 extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"circle",2,e,i,o,r,n)}distanceToBorder(t){return t&&this.resize(t),this.options.size}}class N4 extends NG{constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){let o=this.getDimensionsFromLabel(t,e,i);this.height=2*o.height,this.width=o.width+o.height,this.radius=.5*this.width}}draw(t,e,i,o,r,n){this.resize(t,o,r),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,n),Sx(t,this.left,this.top,this.width,this.height),this.performFill(t,n),this.updateBoundingBox(e,i,t,o,r),this.labelModule.draw(t,e,i,o,r)}distanceToBorder(t,e){t&&this.resize(t);let i=.5*this.width,o=.5*this.height,r=Math.sin(e)*i,n=Math.cos(e)*o;return i*o/Math.sqrt(r*r+n*n)}}class N6 extends NG{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,o,r,n){return this.resize(t,o,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,o,r,n),{drawExternalLabel:()=>{void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,o),this.updateBoundingBox(e,i)}}}updateBoundingBox(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(t,e,i,o,r,n){let s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:o?"bold":"",(null!=this.options.icon.weight&&o?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,n),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,n)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let N8=class extends N${constructor(t,e,i,o,r){super(t,e,i),this.setImages(o,r)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){let t=2*this.options.size;this.width=t,this.height=t;return}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,o,r,n){t.save(),this.switchImages(o),this.resize();let s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){let e=this.options.borderWidth,i=this.options.borderWidthSelected||2*this.options.borderWidth,s=(o?i:e)/this.body.view.scale;t.lineWidth=Math.min(this.width,s),t.beginPath();let a=o?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,l=o?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==n.opacity&&(a=Py(a,n.opacity),l=Py(l,n.opacity)),t.strokeStyle=a,t.fillStyle=l,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),CU(t).call(t),this.performStroke(t,n),t.closePath()}this._drawImageAtPosition(t,n),this._drawImageLabel(t,s,a,o,r),this.updateBoundingBox(e,i),t.restore()}updateBoundingBox(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class N9 extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"square",2,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class N7 extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"hexagon",4,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Mt extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"star",4,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Me extends NG{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,o,r,n){this.resize(t,o,r),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,r),this.disableShadow(t,n),this.updateBoundingBox(e,i,t,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let Mi=class extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"triangle",3,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class Mo extends NJ{constructor(t,e,i){super(t,e,i)}draw(t,e,i,o,r,n){return this._drawShape(t,"triangleDown",3,e,i,o,r,n)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}function Mr(t,e){var i=Cw(t);if(NN){var o=NN(t);e&&(o=CN(o).call(o,function(e){return NI(t,e).enumerable})),i.push.apply(i,o)}return i}function Mn(t){for(var e=1;e<arguments.length;e++){var i,o,r=null!=arguments[e]?arguments[e]:{};e%2?CE(i=Mr(Object(r),!0)).call(i,function(e){NC(t,e,r[e])}):ND?Nz(t,ND(r)):CE(o=Mr(Object(r))).call(o,function(e){NA(t,e,NI(r,e))})}return t}class Ms{constructor(t,e,i,o,r,n){this.options=Pk(r),this.globalOptions=r,this.defaultOptions=n,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new NX(this.body,this.options,!1),this.setOptions(t)}attachEdge(t){var e;-1===Cz(e=this.edges).call(e,t)&&this.edges.push(t)}detachEdge(t){var e,i;let o=Cz(e=this.edges).call(e,t);-1!=o&&CS(i=this.edges).call(i,o,1)}setOptions(t){let e=this.options.shape;if(!t)return;if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw Error("Node must have an id");Ms.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Cj(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Cj(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=NT(t.value)),Ms.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);let i=[t,this.options,this.defaultOptions];return this.chooser=NF("node",i),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&Ms.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(t){return 0<=t&&t<=1}static checkCoordinateOrigin(t){return void 0===t||"center"===t||"top-left"===t}static updateGroupOptions(t,e,i){var o;if(void 0===i)return;let r=t.group;if(void 0!==e&&void 0!==e.group&&r!==e.group)throw Error("updateGroupOptions: group values in options don't match.");if(!("number"==typeof r||"string"==typeof r&&""!=r))return;let n=i.get(r);void 0===n.opacity||void 0!==e.opacity||Ms.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0);let s=CN(o=NP(e)).call(o,t=>null!=e[t]);s.push("font"),Pf(s,t,n),t.color=Pw(t.color)}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0;if(Pf(["color","fixed","shadow"],t,e,i),Ms.checkMass(e),void 0===t.opacity||Ms.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0),void 0===e.opacity||Ms.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0),e.shapeProperties&&!Ms.checkCoordinateOrigin(e.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+e.shapeProperties.coordinateOrigin),PS(t,e,"shadow",o),void 0!==e.color&&null!==e.color){let i=Pw(e.color);!function t(e,i){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r in e)if(void 0!==i[r]){if(null===i[r]||"object"!=typeof i[r])Pu(e,i,r,o);else{let n=e[r],s=i[r];Pc(n)&&Pc(s)&&t(n,s,o)}}}(t.color,i)}else!0===i&&null===e.color&&(t.color=Pk(o.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===i&&null===e.font&&(t.font=Pk(o.font)),Ms.updateGroupOptions(t,e,r),void 0!==e.scaling&&PS(t.scaling,e.scaling,"label",o.scaling)}getFormattingValues(){let t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){let e=this.options.opacity;t.borderColor=Py(t.borderColor,e),t.color=Py(t.color,e),t.shadowColor=Py(t.shadowColor,e)}return t}updateLabelModule(t){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),Ms.updateGroupOptions(this.options,Mn(Mn({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);let e=this.grouplist.get(this.options.group,!1),i=[t,this.options,e,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new NK(this.options,this.body,this.labelModule);break;case"circle":this.shape=new NZ(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new NQ(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new N1(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new N2(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new N5(this.options,this.body,this.labelModule);break;case"dot":this.shape=new N3(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new N4(this.options,this.body,this.labelModule);break;case"icon":this.shape=new N6(this.options,this.body,this.labelModule);break;case"image":this.shape=new N8(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new N9(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new N7(this.options,this.body,this.labelModule);break;case"star":this.shape=new Mt(this.options,this.body,this.labelModule);break;case"text":this.shape=new Me(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Mi(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Mo(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(t,e){return this.shape.distanceToBorder(t,e)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(t,e,i){if(void 0!==this.options.value){let o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){let t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*t}this.options.size=this.options.scaling.min+o*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(t){let e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}updateBoundingBox(t){this.shape.updateBoundingBox(this.x,this.y,t)}resize(t){let e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}getItemsOnPoint(t){let e=[];return this.labelModule.visible()&&NB(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),NB(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}isOverlappingWith(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}isBoundingBoxOverlappingWith(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}static checkMass(t,e){if(void 0!==t.mass&&t.mass<=0){let i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Pz),t.mass=1}}}class Ma{constructor(t,e,i,o){var r;if(this.body=t,this.images=e,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=Sy(r=this.create).call(r,this),this.nodesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items,e.data,e.oldData)},remove:(t,e)=>{this.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,1/(e-t)*(o-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Pk(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e;this.body.emitter.on("refreshNodes",Sy(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Sy(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{Pm(this.nodesListeners,(t,e)=>{this.body.data.nodes&&this.body.data.nodes.off(e,t)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(t){if(void 0!==t){if(Ms.parseOptions(this.options,t),void 0!==t.opacity&&(Ng(t.opacity)||!Nm(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(let t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(let t of Cw(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(void 0!==t.size)for(let t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(kg("id",t))this.body.data.nodes=t;else if(Cy(t))this.body.data.nodes=new kf,this.body.data.nodes.add(t);else if(t)throw TypeError("Array or DataSet expected");else this.body.data.nodes=new kf;if(i&&Pm(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){let t=this;Pm(this.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});let e=this.body.data.nodes.getIds();this.add(e,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];for(let i=0;i<t.length;i++){e=t[i];let r=this.body.data.nodes.get(e),n=this.create(r);o.push(n),this.body.nodes[e]=n}this.layoutEngine.positionInitially(o),!1===i&&this.body.emitter.emit("_dataChanged")}update(t,e,i){let o=this.body.nodes,r=!1;for(let i=0;i<t.length;i++){let n=t[i],s=o[n],a=e[i];void 0!==s?s.setOptions(a)&&(r=!0):(r=!0,s=this.create(a),o[n]=s)}r||void 0===i||(r=Nv(e).call(e,function(t,e){let o=i[e];return o&&o.level!==t.level})),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(t){let e=this.body.nodes;for(let i=0;i<t.length;i++){let o=t[i];delete e[o]}this.body.emitter.emit("_dataChanged")}create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ms;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Pm(this.body.nodes,(e,i)=>{let o=this.body.data.nodes.get(i);void 0!==o&&(!0===t&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(o))})}getPositions(t){let e={};if(void 0!==t){if(!0===Cy(t)){for(let i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){let o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){let i=this.body.nodes[t];e[t]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let t=0;t<this.body.nodeIndices.length;t++){let i=this.body.nodes[this.body.nodeIndices[t]];e[this.body.nodeIndices[t]]={x:Math.round(i.x),y:Math.round(i.y)}}return e}getPosition(t){if(void 0==t)throw TypeError("No id was specified for getPosition method.");if(void 0!=this.body.nodes[t])return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)};throw ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t))}storePositions(){let t=[],e=this.body.data.nodes.getDataSet();for(let i of e.get()){let e=i.id,o=this.body.nodes[e],r=Math.round(o.x),n=Math.round(o.y);(i.x!==r||i.y!==n)&&t.push({id:e,x:r,y:n})}e.update(t)}getBoundingBox(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}getConnectedNodes(t,e){let i=[];if(void 0!==this.body.nodes[t]){let o=this.body.nodes[t],r={};for(let t=0;t<o.edges.length;t++){let n=o.edges[t];"to"!==e&&n.toId==o.id?void 0===r[n.fromId]&&(i.push(n.fromId),r[n.fromId]=!0):"from"!==e&&n.fromId==o.id&&void 0===r[n.toId]&&(i.push(n.toId),r[n.toId]=!0)}}return i}getConnectedEdges(t){let e=[];if(void 0!==this.body.nodes[t]){let i=this.body.nodes[t];for(let t=0;t<i.edges.length;t++)e.push(i.edges[t].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}moveNode(t,e,i){void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),CW(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}var Ml=kv(bl?ba:(bl=1,ba=bs?bn:(bs=1,bn=br?bo:(br=1,function(){if(!bi){bi=1;var t=So(),e=Math.hypot,i=Math.abs,o=Math.sqrt;t({target:"Math",stat:!0,arity:2,forced:!!e&&e(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,s=0,a=0,l=arguments.length,d=0;a<l;)r=i(arguments[a++]),d<r?(s=s*(n=d/r)*n+1,d=r):r>0?s+=(n=r/d)*n:s+=r;return d===1/0?1/0:d*o(s)}})}}(),bo=kF().Math.hypot))));class Md{static transform(t,e){Cy(t)||(t=[t]);let i=e.point.x,o=e.point.y,r=e.angle,n=e.length;for(let e=0;e<t.length;++e){let s=t[e],a=s.x*Math.cos(r)-s.y*Math.sin(r),l=s.x*Math.sin(r)+s.y*Math.cos(r);s.x=i+n*a,s.y=o+n*l}}static drawPath(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}let Mh=class extends Md{static draw(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);let i=null!=e.imageWidth?e.imageWidth:e.image.width,o=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,o),t.restore()}return!1}};class Mc extends Md{static draw(t,e){let i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mu{static draw(t,e){let i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mp{static draw(t,e){let i={x:-.4,y:0};Md.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";let o=Math.PI,r=e.angle-o/2,n=e.angle+o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,n,!1),t.stroke(),!0}}class Mf{static draw(t,e){let i={x:-.3,y:0};Md.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";let o=Math.PI,r=e.angle+o/2,n=e.angle+3*o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,r,n,!1),t.stroke(),!0}}class Mg{static draw(t,e){let i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mm{static draw(t,e){let i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mv{static draw(t,e){let i={x:-.4,y:0};return Md.transform(i,e),Sb(t,i.x,i.y,.4*e.length),!0}}class My{static draw(t,e){let i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mb{static draw(t,e){let i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mw{static draw(t,e){let i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class Mx{static draw(t,e){let i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Md.transform(i,e),Md.drawPath(t,i),!0}}class M_{static draw(t,e){let i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return Mh.draw(t,e);case"circle":return Mv.draw(t,e);case"box":return Mb.draw(t,e);case"crow":return Mu.draw(t,e);case"curve":return Mp.draw(t,e);case"diamond":return Mw.draw(t,e);case"inv_curve":return Mf.draw(t,e);case"triangle":return Mg.draw(t,e);case"inv_triangle":return Mm.draw(t,e);case"bar":return My.draw(t,e);case"vee":return Mx.draw(t,e);default:return Mc.draw(t,e)}}}function ME(t,e){var i=Cw(t);if(NN){var o=NN(t);e&&(o=CN(o).call(o,function(e){return NI(t,e).enumerable})),i.push.apply(i,o)}return i}function MO(t){for(var e=1;e<arguments.length;e++){var i,o,r=null!=arguments[e]?arguments[e]:{};e%2?CE(i=ME(Object(r),!0)).call(i,function(e){NC(t,e,r[e])}):ND?Nz(t,ND(r)):CE(o=ME(Object(r))).call(o,function(e){NA(t,e,NI(r,e))})}return t}class Mk{constructor(t,e,i){NC(this,"color",{}),NC(this,"colorDirty",!0),NC(this,"hoverWidth",1.5),NC(this,"selectionWidth",2),this._body=e,this._labelModule=i,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(t,e,i,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}_drawLine(t,e,i,o,r){if(this.from!=this.to)this._line(t,e,i,o,r);else{let[i,o,r]=this._getCircleData(t);this._circle(t,e,i,o,r)}}_drawDashedLine(t,e,i,o,r){t.lineCap="round";let n=Cy(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(n),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{let[i,o,r]=this._getCircleData(t);this._circle(t,e,i,o,r)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)SE(t,this.from.x,this.from.y,this.to.x,this.to.y,n);else{let[i,o,r]=this._getCircleData(t);this._circle(t,e,i,o,r)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}findBorderPosition(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}findBorderPositions(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};{var e;let[i,o]=Cv(e=this._getCircleData(t)).call(e,0,2);return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:.6,high:.8,direction:1})}}}_getCircleData(t){let e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);let i=NL(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}_pointOnCircle(t,e,i,o){let r=2*o*Math.PI;return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}_findBorderPositionCircle(t,e,i){let o;let r=i.x,n=i.y,s=i.low,a=i.high,l=i.direction,d=this.options.selfReference.size,h=(s+a)*.5,c=0;!0===this.options.arrowStrikethrough&&(-1===l?c=this.options.endPointOffset.from:1===l&&(c=this.options.endPointOffset.to));let u=0;do{h=(s+a)*.5,o=this._pointOnCircle(r,n,d,h);let i=Math.atan2(t.y-o.y,t.x-o.x),p=t.distanceToBorder(e,i)+c-Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2));if(.05>Math.abs(p))break;p>0?l>0?s=h:a=h:l>0?a=h:s=h,++u}while(s<=a&&u<10);return MO(MO({},o),{},{t:h})}getLineWidth(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(t,e){if(!1===e.inheritsColor)return Py(e.color,e.opacity);if("both"===e.inheritsColor&&this.from.id!==this.to.id){let i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(o=Py(this.from.options.color.border,e.opacity),r=Py(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),i.addColorStop(0,o),i.addColorStop(1,r),i}return"to"===e.inheritsColor?Py(this.to.options.color.border,e.opacity):Py(this.from.options.color.border,e.opacity)}_circle(t,e,i,o,r){this.enableShadow(t,e);let n=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){let e=this.options.selfReference.angle,r=this.options.selfReference.angle+Math.PI,a=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:e,high:r,direction:-1}),l=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:e,high:r,direction:1});n=Math.atan2(a.y-o,a.x-i),s=Math.atan2(l.y-o,l.x-i)}t.beginPath(),t.arc(i,o,r,n,s,!1),t.stroke(),this.disableShadow(t,e)}getDistanceToEdge(t,e,i,o,r,n){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,o,r,n);{let[t,e,i]=this._getCircleData(void 0),o=t-r,s=e-n;return Math.abs(Math.sqrt(o*o+s*s)-i)}}_getDistanceToLine(t,e,i,o,r,n){let s=i-t,a=o-e,l=((r-t)*s+(n-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);let d=t+l*s-r,h=e+l*a-n;return Math.sqrt(d*d+h*h)}getArrowData(t,e,i,o,r,n){let s,a,l,d,h,c,u;let p=n.width;"from"===e?(l=this.from,d=this.to,h=n.fromArrowScale<0,c=Math.abs(n.fromArrowScale),u=n.fromArrowType):"to"===e?(l=this.to,d=this.from,h=n.toArrowScale<0,c=Math.abs(n.toArrowScale),u=n.toArrowType):(l=this.to,d=this.from,h=n.middleArrowScale<0,c=Math.abs(n.middleArrowScale),u=n.middleArrowType);let f=15*c+3*p;if(l!=d){let o=f/Ml(l.x-d.x,l.y-d.y);if("middle"!==e){if(!0===this.options.smooth.enabled){let r=this._findBorderPosition(l,t,{via:i}),n=this.getPoint(r.t+o*("from"===e?1:-1),i);s=Math.atan2(r.y-n.y,r.x-n.x),a=r}else s=Math.atan2(l.y-d.y,l.x-d.x),a=this._findBorderPosition(l,t)}else{let t=(h?-o:o)/2,e=this.getPoint(.5+t,i),r=this.getPoint(.5-t,i);s=Math.atan2(e.y-r.y,e.x-r.x),a=this.getPoint(.5,i)}}else{let[i,o,r]=this._getCircleData(t);if("from"===e){let e=this.options.selfReference.angle,r=this.options.selfReference.angle+Math.PI,n=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:e,high:r,direction:-1});s=-2*n.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=n}else if("to"===e){let e=this.options.selfReference.angle,r=this.options.selfReference.angle+Math.PI,n=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:e,high:r,direction:1});s=-2*n.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=n}else{let t=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(i,o,r,t),s=-2*t*Math.PI+1.5*Math.PI+.1*Math.PI}}let g=a.x-.9*f*Math.cos(s),m=a.y-.9*f*Math.sin(s);return{point:a,core:{x:g,y:m},angle:s,length:f,type:u}}drawArrowHead(t,e,i,o,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,M_.draw(t,r)&&(this.enableShadow(t,e),CU(t).call(t),this.disableShadow(t,e))}enableShadow(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}drawBackground(t,e){if(!1!==e.background){let i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}setStrokeDashed(t,e){if(!1!==e){if(void 0!==t.setLineDash){let i=Cy(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function MS(t,e){var i=Cw(t);if(NN){var o=NN(t);e&&(o=CN(o).call(o,function(e){return NI(t,e).enumerable})),i.push.apply(i,o)}return i}function MC(t){for(var e=1;e<arguments.length;e++){var i,o,r=null!=arguments[e]?arguments[e]:{};e%2?CE(i=MS(Object(r),!0)).call(i,function(e){NC(t,e,r[e])}):ND?Nz(t,ND(r)):CE(o=MS(Object(r))).call(o,function(e){NA(t,e,NI(r,e))})}return t}class MT extends Mk{constructor(t,e,i){super(t,e,i)}_findBorderPositionBezier(t,e){let i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),n=!1,s=1,a=0,l=this.to,d=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(l=this.from,n=!0,d=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(d=0);let h=0;do{o=(a+s)*.5,i=this.getPoint(o,r);let t=Math.atan2(l.y-i.y,l.x-i.x),c=l.distanceToBorder(e,t)+d-Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2));if(.2>Math.abs(c))break;c<0?!1===n?a=o:s=o:!1===n?s=o:a=o,++h}while(a<=s&&h<10);return MC(MC({},i),{},{t:o})}_getDistanceToBezierEdge(t,e,i,o,r,n,s){let a,l,d,h,c,u=1e9,p=t,f=e;for(l=1;l<10;l++)h=Math.pow(1-(d=.1*l),2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*o,l>0&&(u=(a=this._getDistanceToLine(p,f,h,c,r,n))<u?a:u),p=h,f=c;return u}_bezierCurve(t,e,i,o){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=o&&null!=o.x?t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){return this._getViaCoordinates()}}class MP extends MT{constructor(t,e,i){super(t,e,i),NC(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(t){super.setOptions(t);let e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){let t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(t,e,i){this._bezierCurve(t,e,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from!==this.to)return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y};{let[e,i,o]=this._getCircleData(),r=2*Math.PI*(1-t);return{x:e+o*Math.sin(r),y:i+o-o*(1-Math.cos(r))}}}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e,this.via)}_getDistanceToEdge(t,e,i,o,r,n){return this._getDistanceToBezierEdge(t,e,i,o,r,n,this.via)}}class MN extends MT{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){let t=this.options.smooth.roundness,e=this.options.smooth.type,i=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){let r,n;r=n=i<=o?t*o:t*i,this.from.x>this.to.x&&(r=-r),this.from.y>=this.to.y&&(n=-n);let s=this.from.x+r,a=this.from.y+n;return"discrete"===e&&(i<=o?s=i<t*o?this.from.x:s:a=o<t*i?this.from.y:a),{x:s,y:a}}if("straightCross"===e){let e=(1-t)*i,r=(1-t)*o;return i<=o?(e=0,this.from.y<this.to.y&&(r=-r)):(this.from.x<this.to.x&&(e=-e),r=0),{x:this.to.x+e,y:this.to.y+r}}if("horizontal"===e){let e=(1-t)*i;return this.from.x<this.to.x&&(e=-e),{x:this.to.x+e,y:this.from.y}}if("vertical"===e){let e=(1-t)*o;return this.from.y<this.to.y&&(e=-e),{x:this.from.x,y:this.to.y+e}}if("curvedCW"===e){let e=Math.sqrt((i=this.to.x-this.from.x)*i+(o=this.from.y-this.to.y)*o),r=Math.PI,n=(Math.atan2(o,i)+(.5*t+.5)*r)%(2*r);return{x:this.from.x+(.5*t+.5)*e*Math.sin(n),y:this.from.y+(.5*t+.5)*e*Math.cos(n)}}if("curvedCCW"===e){let e=Math.sqrt((i=this.to.x-this.from.x)*i+(o=this.from.y-this.to.y)*o),r=Math.PI,n=(Math.atan2(o,i)+(-(.5*t)+.5)*r)%(2*r);return{x:this.from.x+(.5*t+.5)*e*Math.sin(n),y:this.from.y+(.5*t+.5)*e*Math.cos(n)}}{let e,r;e=r=i<=o?t*o:t*i,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(r=-r);let n=this.from.x+e,s=this.from.y+r;return i<=o?n=this.from.x<=this.to.x?this.to.x<n?this.to.x:n:this.to.x>n?this.to.x:n:s=this.from.y>=this.to.y?this.to.y>s?this.to.y:s:this.to.y<s?this.to.y:s,{x:n,y:s}}}_findBorderPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}_getDistanceToEdge(t,e,i,o,r,n){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,r,n,s)}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}}class MM extends MT{constructor(t,e,i){super(t,e,i)}_getDistanceToBezierEdge2(t,e,i,o,r,n,s,a){let l=1e9,d=t,h=e,c=[0,0,0,0];for(let u=1;u<10;u++){let p=.1*u;c[0]=Math.pow(1-p,3),c[1]=3*p*Math.pow(1-p,2),c[2]=3*Math.pow(p,2)*(1-p),c[3]=Math.pow(p,3);let f=c[0]*t+c[1]*s.x+c[2]*a.x+c[3]*i,g=c[0]*e+c[1]*s.y+c[2]*a.y+c[3]*o;if(u>0){let t=this._getDistanceToLine(d,h,f,g,r,n);l=t<l?t:l}d=f,h=g}return l}}class MI extends MM{constructor(t,e,i){super(t,e,i)}_line(t,e,i){let o=i[0],r=i[1];this._bezierCurve(t,e,o,r)}_getViaCoordinates(){let t,e,i,o;let r=this.from.x-this.to.x,n=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(n)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,o=this.to.y,t=this.from.x-s*r,i=this.to.x+s*r):(e=this.from.y-s*n,o=this.to.y+s*n,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e)}_getDistanceToEdge(t,e,i,o,r,n){let[s,a]=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(t,e,i,o,r,n,s,a)}getPoint(t){let[e,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=[Math.pow(1-t,3),3*t*Math.pow(1-t,2),3*Math.pow(t,2)*(1-t),Math.pow(t,3)];return{x:o[0]*this.fromPoint.x+o[1]*e.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*e.y+o[2]*i.y+o[3]*this.toPoint.y}}}class MD extends Mk{constructor(t,e,i){super(t,e,i)}_line(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){}getPoint(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}_findBorderPosition(t,e){let i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);let r=Math.atan2(i.y-o.y,i.x-o.x),n=i.x-o.x,s=i.y-o.y,a=Math.sqrt(n*n+s*s),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*o.x+l*i.x,y:(1-l)*o.y+l*i.y,t:0}}_getDistanceToEdge(t,e,i,o,r,n){return this._getDistanceToLine(t,e,i,o,r,n)}}class Mj{constructor(t,e,i,o,r){if(void 0===e)throw Error("No body provided");this.options=Pk(o),this.globalOptions=o,this.defaultOptions=r,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new NX(this.body,this.options,!0),this.setOptions(t)}setOptions(t){if(!t)return;let e=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;Mj.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=NT(t.value));let i=[t,this.options,this.defaultOptions];return this.chooser=NF("edge",i),this.updateLabelModule(t),e=this.updateEdgeType()||e,this._setInteractionWidths(),this.connect(),e}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Pp(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Nm(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==o.endPointOffset.from?o.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Nm(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==o.endPointOffset.to?o.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),NR(e.label)?t.label=e.label:NR(t.label)||(t.label=void 0),PS(t,e,"smooth",o),PS(t,e,"shadow",o),PS(t,e,"background",o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=CA(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),PS(t.scaling,e.scaling,"label",o.scaling)):!0===i&&null===e.scaling&&(t.scaling=CA(o.scaling)),void 0!==e.arrows&&null!==e.arrows){if("string"==typeof e.arrows){let i=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Cz(i).call(i,"to"),t.arrows.middle.enabled=-1!=Cz(i).call(i,"middle"),t.arrows.from.enabled=-1!=Cz(i).call(i,"from")}else if("object"==typeof e.arrows)PS(t.arrows,e.arrows,"to",o.arrows),PS(t.arrows,e.arrows,"middle",o.arrows),PS(t.arrows,e.arrows,"from",o.arrows);else throw Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+CF(e.arrows))}else!0===i&&null===e.arrows&&(t.arrows=CA(o.arrows));if(void 0!==e.color&&null!==e.color){let n=Ph(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,s=t.color;if(r)Pg(s,o.color,!1,i);else for(let t in s)Object.prototype.hasOwnProperty.call(s,t)&&delete s[t];if(Ph(s))s.color=s,s.highlight=s,s.hover=s,s.inherit=!1,void 0===n.opacity&&(s.opacity=1);else{let t=!1;void 0!==n.color&&(s.color=n.color,t=!0),void 0!==n.highlight&&(s.highlight=n.highlight,t=!0),void 0!==n.hover&&(s.hover=n.hover,t=!0),void 0!==n.inherit&&(s.inherit=n.inherit),void 0!==n.opacity&&(s.opacity=Math.min(1,Math.max(0,n.opacity))),!0===t?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===i&&null===e.color&&(t.color=Pk(o.color));!0===i&&null===e.font&&(t.font=Pk(o.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}getFormattingValues(){let t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,o=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0===this.chooser){if(this.selected){let t=this.options.selectionWidth;"function"==typeof t?r.width=t(r.width):"number"==typeof t&&(r.width+=t),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){let t=this.options.hoverWidth;"function"==typeof t?r.width=t(r.width):"number"==typeof t&&(r.width+=t),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor!==this.options.shadow.color||r.shadowSize!==this.options.shadow.size||r.shadowX!==this.options.shadow.x||r.shadowY!==this.options.shadow.y)&&(r.shadow=!0))}else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}updateLabelModule(t){let e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){let t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof MP&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof MI&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof MN&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof MD&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new MP(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new MI(this.options,this.body,this.labelModule):this.edgeType=new MN(this.options,this.body,this.labelModule):this.edgeType=new MD(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(t,e,i){if(void 0!==this.options.value){let o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){let t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*t}this.options.width=this.options.scaling.min+o*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(t){let e=this.getFormattingValues();if(e.hidden)return;let i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}drawArrows(t){let e=this.getFormattingValues();if(e.hidden)return;let i=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(o.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=o.from.core),e.fromArrowSrc&&(o.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(o.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(o.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(o.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=o.to.core),e.toArrowSrc&&(o.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(o.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(o.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(o.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(o.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(o.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(o.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.to)}drawLabel(t,e){if(void 0!==this.options.label){let i;let o=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),o.id!=r.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,e),t.save();let o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;let e=NL(t,this.options.selfReference.angle,this.options.selfReference.size,o);i=this._pointOnCircle(e.x,e.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}getItemsOnPoint(t){let e=[];if(this.labelModule.visible()){let i=this._getRotation();NB(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}let i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}isOverlappingWith(t){if(!this.connected)return!1;{let e=this.from.x,i=this.from.y,o=this.to.x,r=this.to.y,n=t.left,s=t.top;return 10>this.edgeType.getDistanceToEdge(e,i,o,r,n,s)}}_getRotation(t){let e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);let o={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return o;let r=this.from.y-this.to.y,n=this.from.x-this.to.x,s=Math.atan2(r,n);return(s<-1&&n<0||s>0&&n<0)&&(s+=Math.PI),o.angle=s,o}_pointOnCircle(t,e,i,o){return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class Mz{constructor(t,e,i){var o;this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=Sy(o=this.create).call(o,this),this.edgesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items)},remove:(t,e)=>{this.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){return e===t?.5:Math.max(0,1/(e-t)*(o-t))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Pg(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];"dynamic"===t&&(t="continuous");let o=!1;for(let e in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,e)){let r=i.body.edges[e],n=i.body.data.edges.get(e);if(null!=n){let e=n.smooth;void 0!==e&&!0===e.enabled&&"dynamic"===e.type&&(void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}}),o=!0)}}!0===e&&!0===o&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Sy(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Sy(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{Pm(this.edgesListeners,(t,e)=>{this.body.data.edges&&this.body.data.edges.off(e,t)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(t){if(void 0!==t){Mj.parseOptions(this.options,t,!0,this.defaultOptions,!0);let e=!1;if(void 0!==t.smooth)for(let t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&(e=this.body.edges[t].updateEdgeType()||e);if(void 0!==t.font)for(let t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&this.body.edges[t].updateLabelModule();(void 0!==t.hidden||void 0!==t.physics||!0===e)&&this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(kg("id",t))this.body.data.edges=t;else if(Cy(t))this.body.data.edges=new kf,this.body.data.edges.add(t);else if(t)throw TypeError("Array or DataSet expected");else this.body.data.edges=new kf;if(i&&Pm(this.edgesListeners,(t,e)=>{i.off(e,t)}),this.body.edges={},this.body.data.edges){Pm(this.edgesListeners,(t,e)=>{this.body.data.edges.on(e,t)});let t=this.body.data.edges.getIds();this.add(t,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges;for(let e=0;e<t.length;e++){let r=t[e],n=i[r];n&&n.disconnect();let s=o.get(r,{showInternalIds:!0});i[r]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}update(t){let e=this.body.edges,i=this.body.data.edges,o=!1;for(let r=0;r<t.length;r++){let n=t[r],s=i.get(n),a=e[n];void 0!==a?(a.disconnect(),o=a.setOptions(s)||o,a.connect()):(this.body.edges[n]=this.create(s),o=!0)}!0===o?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(0===t.length)return;let i=this.body.edges;Pm(t,t=>{let e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}refresh(){Pm(this.body.edges,(t,e)=>{let i=this.body.data.edges.get(e);void 0!==i&&t.setOptions(i)})}create(t){return new Mj(t,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let t;let e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){let e=i[t];e.from=null,e.to=null,e.connect()}}getConnectedNodes(t){let e=[];if(void 0!==this.body.edges[t]){let i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){let t=[];Pm(this.body.edges,(e,i)=>{let o=this.body.nodes[e.toId],r=this.body.nodes[e.fromId];(void 0===o||!0!==o.isCluster)&&(void 0===r||!0!==r.isCluster)&&(void 0===o||void 0===r)&&t.push(i)}),this.remove(t,!1)}_addMissingEdges(){let t=this.body.data.edges;if(null==t)return;let e=this.body.edges,i=[];CE(t).call(t,(t,o)=>{void 0===e[o]&&i.push(o)}),this.add(i,!0)}}class MA{constructor(t,e,i){this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=Pi("BARNES HUT SOLVER")}setOptions(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let t;let e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,r=this._formBarnesHutTree(e,i);this.barnesHutTree=r;for(let n=0;n<o;n++)(t=e[i[n]]).options.mass>0&&this._getForceContributions(r.root,t)}}_getForceContributions(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}_getForceContribution(t,e){if(t.childrenCount>0){let i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,r=Math.sqrt(i*i+o*o);r*t.calcSize>this.thetaInversed?this._calculateForces(r,i,o,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,i,o,e,t)}}_calculateForces(t,e,i,o,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));let n=this.options.gravitationalConstant*r.mass*o.options.mass/Math.pow(t,3),s=e*n;this.physicsBody.forces[o.id].x+=s,this.physicsBody.forces[o.id].y+=i*n}_formBarnesHutTree(t,e){let i;let o=e.length,r=t[e[0]].x,n=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y;for(let i=1;i<o;i++){let o=t[e[i]],l=o.x,d=o.y;o.options.mass>0&&(l<r&&(r=l),l>s&&(s=l),d<n&&(n=d),d>a&&(a=d))}let l=Math.abs(s-r)-Math.abs(a-n);l>0?(n-=.5*l,a+=.5*l):(r+=.5*l,s-=.5*l);let d=Math.max(1e-5,Math.abs(s-r)),h=.5*d,c=.5*(r+s),u=.5*(n+a),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:c-h,maxX:c+h,minY:u-h,maxY:u+h},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let r=0;r<o;r++)(i=t[e[r]]).options.mass>0&&this._placeInTree(p.root,i);return p}_updateBranchMass(t,e){let i=t.centerOfMass,o=t.mass+e.options.mass,r=1/o;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=r,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=r,t.mass=o;let n=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<n?n:t.maxWidth}_placeInTree(t,e,i){let o;(!0!=i||void 0===i)&&this._updateBranchMass(t,e);let r=t.children.NW.range;o=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}_placeInRegion(t,e,i){let o=t.children[i];switch(o.childrenCount){case 0:o.children.data=e,o.childrenCount=1,this._updateBranchMass(o,e);break;case 1:o.children.data.x===e.x&&o.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(o),this._placeInTree(o,e));break;case 4:this._placeInTree(o,e)}}_splitBranch(t){let e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}_insertRegion(t,e){let i,o,r,n;let s=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+s,r=t.range.minY,n=t.range.minY+s;break;case"NE":i=t.range.minX+s,o=t.range.maxX,r=t.range.minY,n=t.range.minY+s;break;case"SW":i=t.range.minX,o=t.range.minX+s,r=t.range.minY+s,n=t.range.maxY;break;case"SE":i=t.range.minX+s,o=t.range.maxX,r=t.range.minY+s,n=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:r,maxY:n},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}_debug(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}_drawBranch(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}class MF{constructor(t,e,i){this._rng=Pi("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,o,r,n,s,a;let l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,p=4/3;for(let f=0;f<d.length-1;f++){s=l[d[f]];for(let g=f+1;g<d.length;g++)0===(i=Math.sqrt((t=(a=l[d[g]]).x-s.x)*t+(e=a.y-s.y)*e))&&(t=i=.1*this._rng()),i<2*c&&(o=t*(n=(i<.5*c?1:u*i+p)/i),r=e*n,h[s.id].x-=o,h[s.id].y-=r,h[a.id].x+=o,h[a.id].y+=r)}}}class MB{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){let t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,o=this.options.nodeDistance;for(let r=0;r<e.length-1;r++){let n=t[e[r]];for(let s=r+1;s<e.length;s++){let r=t[e[s]];if(n.level===r.level){let t;let e=o+this.overlapAvoidanceFactor*((n.shape.radius||0)/2+(r.shape.radius||0)/2),s=r.x-n.x,a=r.y-n.y,l=Math.sqrt(s*s+a*a);t=l<e?-Math.pow(.05*l,2)+Math.pow(.05*e,2):0,0!==l&&(t/=l);let d=s*t,h=a*t;i[n.id].x-=d,i[n.id].y-=h,i[r.id].x+=d,i[r.id].y+=h}}}}}class MR{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,o,r;let n=this.physicsBody.physicsEdgeIndices,s=this.body.edges;for(let a=0;a<n.length;a++)!0===(e=s[n[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.to,o=e.edgeType.via,r=e.from,this._calculateSpringForce(i,o,.5*t),this._calculateSpringForce(o,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}_calculateSpringForce(t,e,i){let o=t.x-e.x,r=t.y-e.y,n=Math.max(Math.sqrt(o*o+r*r),.01),s=this.options.springConstant*(i-n)/n,a=o*s,l=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}class ML{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,o,r,n,s,a,l,d;let h=this.body.edges,c=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let t=0;t<u.length;t++){let e=u[t];p[e].springFx=0,p[e].springFy=0}for(let l=0;l<c.length;l++)!0===(e=h[c[l]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,a=0===(a=Math.sqrt((i=e.from.x-e.to.x)*i+(o=e.from.y-e.to.y)*o))?.01:a,r=i*(s=this.options.springConstant*(t-a)/a),n=o*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=r,p[e.toId].springFy-=n),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=r,p[e.fromId].springFy+=n)):(void 0!==p[e.toId]&&(p[e.toId].x-=.5*r,p[e.toId].y-=.5*n),void 0!==p[e.fromId]&&(p[e.fromId].x+=.5*r,p[e.fromId].y+=.5*n)));s=1;for(let t=0;t<u.length;t++){let e=u[t];l=Math.min(s,Math.max(-s,p[e].springFx)),d=Math.min(s,Math.max(-s,p[e].springFy)),p[e].x+=l,p[e].y+=d}let f=0,g=0;for(let t=0;t<u.length;t++){let e=u[t];f+=p[e].x,g+=p[e].y}let m=f/u.length,v=g/u.length;for(let t=0;t<u.length;t++){let e=u[t];p[e].x-=m,p[e].y-=v}}}class MH{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,o;let r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces;for(let a=0;a<n.length;a++)i=Math.sqrt((t=-(o=r[n[a]]).x)*t+(e=-o.y)*e),this._calculateForces(i,t,e,s,o)}_calculateForces(t,e,i,o,r){let n=0===t?0:this.options.centralGravity/t;o[r.id].x=e*n,o[r.id].y=i*n}}class MW extends MA{constructor(t,e,i){super(t,e,i),this._rng=Pi("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(t,e,i,o,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));let n=o.edges.length+1,s=this.options.gravitationalConstant*r.mass*o.options.mass*n/Math.pow(t,2),a=e*s;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=i*s}}class MU extends MH{constructor(t,e,i){super(t,e,i)}_calculateForces(t,e,i,o,r){if(t>0){let t=r.edges.length+1,n=this.options.centralGravity*t*r.options.mass;o[r.id].x=e*n,o[r.id].y=i*n}}}class Mq{constructor(t){this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Sg(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(t){if(void 0!==t){if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Pf(["stabilization"],this.options,t),PS(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());let e=this.options.wind;e&&(("number"!=typeof e.x||Ng(e.x))&&(e.x=0),("number"!=typeof e.y||Ng(e.y))&&(e.y=0)),this.timestep=this.options.timestep}}this.init()}init(){let t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new MW(this.body,this.physicsBody,t),this.edgesSolver=new MR(this.body,this.physicsBody,t),this.gravitySolver=new MU(this.body,this.physicsBody,t)):("repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new MF(this.body,this.physicsBody,t),this.edgesSolver=new MR(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new MB(this.body,this.physicsBody,t),this.edgesSolver=new ML(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new MA(this.body,this.physicsBody,t),this.edgesSolver=new MR(this.body,this.physicsBody,t)),this.gravitySolver=new MH(this.body,this.physicsBody,t)),this.modelOptions=t}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(!0===this.physicsEnabled&&!0===this.options.enabled){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction){var t;this.viewFunction=Sy(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}simulationStep(){let t=Cx();this.physicsTick(),(Cx()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&CW(()=>{this.body.emitter.emit("stabilized",{iterations:t}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];let t=this.body.nodes,e=this.body.edges;for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&!0===t[e].options.physics&&this.physicsBody.physicsNodeIndices.push(t[e].id);for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&!0===e[t].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[t].id);for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){let e=this.physicsBody.physicsNodeIndices[t];this.physicsBody.forces[e]={x:0,y:0},void 0===this.physicsBody.velocities[e]&&(this.physicsBody.velocities[e]={x:0,y:0})}for(let e in this.physicsBody.velocities)void 0===t[e]&&delete this.physicsBody.velocities[e]}revert(){let t=Cw(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let o=0;o<t.length;o++){let r=t[o];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}_evaluateStepQuality(){let t=this.body.nodes,e=this.referenceState;for(let i in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,i)&&void 0!==t[i]&&Math.sqrt(Math.pow(t[i].x-e[i].positions.x,2)+Math.pow(t[i].y-e[i].positions.y,2))>.3)return!1;return!0}moveNodes(){let t=this.physicsBody.physicsNodeIndices,e=0,i=0;for(let o=0;o<t.length;o++){let r=t[o],n=this._performStep(r);e=Math.max(e,n),i+=n}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}calculateComponentVelocity(t,e,i){let o=this.modelOptions.damping*t;t+=(e-o)/i*this.timestep;let r=this.options.maxVelocity||1e9;return Math.abs(t)>r&&(t=t>0?r:-r),t}_performStep(t){let e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);let o=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:o.x,vy:o.y},!1===e.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,i.x,e.options.mass),e.x+=o.x*this.timestep):(i.x=0,o.x=0),!1===e.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,i.y,e.options.mass),e.y+=o.y*this.timestep):(i.y=0,o.y=0),Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}_freezeNodes(){let t=this.body.nodes;for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){let i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){let t=this.body.nodes;for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}stabilize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;if("number"!=typeof t&&console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,CW(()=>this._stabilizationBatch(),0)}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){let t=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,e=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&e();let i=0;for(;t()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;if(e(),t()){var o;CW(Sy(o=this._stabilizationBatch).call(o,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(t){for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){let i=this.physicsBody.physicsNodeIndices[e],o=this.body.nodes[i],r=this.physicsBody.forces[i],n=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,n),15),a=3*s,l=PE((180-180*Math.min(1,Math.max(0,.03*n)))/360,1,1),d={x:o.x+20*r.x,y:o.y+20*r.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(d.x,d.y),t.stroke();let h=Math.atan2(r.y,r.x);t.fillStyle=l,M_.draw(t,{type:"arrow",point:d,angle:h,length:a}),CU(t).call(t)}}}let MV=[];for(let t=0;t<256;++t)MV.push((t+256).toString(16).slice(1));let MY=new Uint8Array(16);var MX={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function MG(t,e,i){return MX.randomUUID&&!t?MX.randomUUID():function(t,e,i){let o=(t=t||{}).random??t.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(MY)}();if(o.length<16)throw Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(t,e=0){return(MV[t[e+0]]+MV[t[e+1]]+MV[t[e+2]]+MV[t[e+3]]+"-"+MV[t[e+4]]+MV[t[e+5]]+"-"+MV[t[e+6]]+MV[t[e+7]]+"-"+MV[t[e+8]]+MV[t[e+9]]+"-"+MV[t[e+10]]+MV[t[e+11]]+MV[t[e+12]]+MV[t[e+13]]+MV[t[e+14]]+MV[t[e+15]]).toLowerCase()}(o)}(t)}class MK{constructor(){}static getRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,n=-1e9,s;if(e.length>0)for(let a=0;a<e.length;a++)r>(s=t[e[a]]).shape.boundingBox.left&&(r=s.shape.boundingBox.left),n<s.shape.boundingBox.right&&(n=s.shape.boundingBox.right),i>s.shape.boundingBox.top&&(i=s.shape.boundingBox.top),o<s.shape.boundingBox.bottom&&(o=s.shape.boundingBox.bottom);return 1e9===r&&-1e9===n&&1e9===i&&-1e9===o&&(i=0,o=0,r=0,n=0),{minX:r,maxX:n,minY:i,maxY:o}}static getRangeCore(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,n=-1e9,s;if(e.length>0)for(let a=0;a<e.length;a++)r>(s=t[e[a]]).x&&(r=s.x),n<s.x&&(n=s.x),i>s.y&&(i=s.y),o<s.y&&(o=s.y);return 1e9===r&&-1e9===n&&1e9===i&&-1e9===o&&(i=0,o=0,r=0,n=0),{minX:r,maxX:n,minY:i,maxY:o}}static findCenter(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}static cloneOptions(t,e){let i={};return void 0===e||"node"===e?(Pg(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):Pg(i,t.options,!0),i}}class M$ extends Ms{constructor(t,e,i,o,r,n){super(t,e,i,o,r,n),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(t){let e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Pm(e.edges,t=>{delete this.containedEdges[t.id]}),Pm(e.containedNodes,(t,e)=>{this.containedNodes[e]=t}),e.containedNodes={},Pm(e.containedEdges,(t,e)=>{this.containedEdges[e]=t}),e.containedEdges={},Pm(e.edges,t=>{Pm(this.edges,e=>{var i,o;let r=Cz(i=e.clusteringEdgeReplacingIds).call(i,t.id);-1!==r&&(Pm(t.clusteringEdgeReplacingIds,t=>{e.clusteringEdgeReplacingIds.push(t),this.body.edges[t].edgeReplacedById=e.id}),CS(o=e.clusteringEdgeReplacingIds).call(o,r,1))})}),e.edges=[]}}class MZ{constructor(t){this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Sg(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());let i=[];for(let e=0;e<this.body.nodeIndices.length;e++){let o=this.body.nodes[this.body.nodeIndices[e]];o.edges.length>=t&&i.push(o.id)}for(let t=0;t<i.length;t++)this.clusterByConnection(i[t],e,!0);this.body.emitter.emit("_dataChanged")}cluster(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0===t.joinCondition)throw Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);let i={},o={};Pm(this.body.nodes,(e,r)=>{e.options&&!0===t.joinCondition(e.options)&&(i[r]=e,Pm(e.edges,t=>{void 0===this.clusteredEdges[t.id]&&(o[t.id]=t)}))}),this._cluster(i,o,t,e)}clusterByEdgeCount(t,e){let i,o,r,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];e=this._checkOptions(e);let s=[],a={};for(let n=0;n<this.body.nodeIndices.length;n++){let l={},d={},h=this.body.nodeIndices[n],c=this.body.nodes[h];if(void 0===a[h]){r=0,o=[];for(let t=0;t<c.edges.length;t++)i=c.edges[t],void 0===this.clusteredEdges[i.id]&&(i.toId!==i.fromId&&r++,o.push(i));if(r===t){let t=!0;for(let r=0;r<o.length;r++){i=o[r];let n=this._getConnectedId(i,h);if(function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;let i=MK.cloneOptions(t);return e.joinCondition(i)}(c))d[i.id]=i,l[h]=c,l[n]=this.body.nodes[n],a[h]=!0;else{t=!1;break}}if(Cw(l).length>0&&Cw(d).length>0&&!0===t){let t=function(){for(let t=0;t<s.length;++t)for(let e in l)if(void 0!==s[t].nodes[e])return s[t]}();if(void 0!==t){for(let e in l)void 0===t.nodes[e]&&(t.nodes[e]=l[e]);for(let e in d)void 0===t.edges[e]&&(t.edges[e]=d[e])}else s.push({nodes:l,edges:d})}}}}for(let t=0;t<s.length;t++)this._cluster(s[t].nodes,s[t].edges,e,!1);!0===n&&this.body.emitter.emit("_dataChanged")}clusterOutliers(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(1,t,e)}clusterBridges(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(2,t,e)}clusterByConnection(t,e){var i;let o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0===t)throw Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw Error("The nodeId given to clusterByConnection does not exist!");let r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);let n={},s={},a=r.id,l=MK.cloneOptions(r);n[a]=r;for(let t=0;t<r.edges.length;t++){let i=r.edges[t];if(void 0===this.clusteredEdges[i.id]){let t=this._getConnectedId(i,a);if(void 0===this.clusteredNodes[t]){if(t!==a){if(void 0===e.joinCondition)s[i.id]=i,n[t]=this.body.nodes[t];else{let o=MK.cloneOptions(this.body.nodes[t]);!0===e.joinCondition(l,o)&&(s[i.id]=i,n[t]=this.body.nodes[t])}}else s[i.id]=i}}}let d=Cb(i=Cw(n)).call(i,function(t){return n[t].id});for(let t in n){if(!Object.prototype.hasOwnProperty.call(n,t))continue;let e=n[t];for(let t=0;t<e.edges.length;t++){let i=e.edges[t];Cz(d).call(d,this._getConnectedId(i,e.id))>-1&&(s[i.id]=i)}}this._cluster(n,s,e,o)}_createClusterEdges(t,e,i,o){let r,n,s,a,l,d;let h=Cw(t),c=[];for(let o=0;o<h.length;o++){s=t[n=h[o]];for(let o=0;o<s.edges.length;o++)r=s.edges[o],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==n?(a=i.id,d=l=r.fromId):(a=r.toId,l=i.id,d=a),void 0===t[d]&&c.push({edge:r,fromId:l,toId:a}))}let u=[];for(let t=0;t<c.length;t++){let e=c[t],i=e.edge,r=function(t){for(let e=0;e<u.length;e++){let i=u[e],o=t.fromId===i.fromId&&t.toId===i.toId,r=t.fromId===i.toId&&t.toId===i.fromId;if(o||r)return i}return null}(e);null===r?(r=this._createClusteredEdge(e.fromId,e.toId,i,o),u.push(r)):r.clusteringEdgeReplacingIds.push(i.id),this.body.edges[i.id].edgeReplacedById=r.id,this._backupEdgeOptions(i),i.setOptions({physics:!1})}}_checkOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}_cluster(t,e,i){let o,r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],n=[];for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.clusteredNodes[e]&&n.push(e);for(let e=0;e<n.length;++e)delete t[n[e]];if(0==Cw(t).length||1==Cw(t).length&&!0!=i.clusterNodeProperties.allowSingleNodeCluster)return;let s=Pg({},i.clusterNodeProperties);if(void 0!==i.processProperties){let o=[];for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let i=MK.cloneOptions(t[e]);o.push(i)}let r=[];for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"clusterEdge:"!==t.substr(0,12)){let i=MK.cloneOptions(e[t],"edge");r.push(i)}if(!(s=i.processProperties(s,o,r)))throw Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+MG());let a=s.id;void 0===s.label&&(s.label="cluster"),void 0===s.x&&(o=this._getClusterPosition(t),s.x=o.x),void 0===s.y&&(void 0===o&&(o=this._getClusterPosition(t)),s.y=o.y),s.id=a;let l=this.body.functions.createNode(s,M$);l.containedNodes=t,l.containedEdges=e,l.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=l,this._clusterEdges(t,e,s,i.clusterEdgeProperties),s.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}_restoreEdge(t){let e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}isCluster(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}_getClusterPosition(t){let e;let i=Cw(t),o=t[i[0]].x,r=t[i[0]].x,n=t[i[0]].y,s=t[i[0]].y;for(let a=1;a<i.length;a++)o=(e=t[i[a]]).x<o?e.x:o,r=e.x>r?e.x:r,n=e.y<n?e.y:n,s=e.y>s?e.y:s;return{x:.5*(o+r),y:.5*(n+s)}}openCluster(t,e){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0===t)throw Error("No clusterNodeId supplied to openCluster.");let o=this.body.nodes[t];if(void 0===o)throw Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==o.isCluster||void 0===o.containedNodes||void 0===o.containedEdges)throw Error("The node:"+t+" is not a valid cluster.");let r=this.findNode(t),n=Cz(r).call(r,t)-1;if(n>=0){let e=r[n];this.body.nodes[e]._openChildCluster(t),delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged");return}let s=o.containedNodes,a=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){let t={},i={x:o.x,y:o.y};for(let e in s)if(Object.prototype.hasOwnProperty.call(s,e)){let i=this.body.nodes[e];t[e]={x:i.x,y:i.y}}let r=e.releaseFunction(i,t);for(let t in s)if(Object.prototype.hasOwnProperty.call(s,t)){let e=this.body.nodes[t];void 0!==r[t]&&(e.x=void 0===r[t].x?o.x:r[t].x,e.y=void 0===r[t].y?o.y:r[t].y)}}else Pm(s,function(t){!1===t.options.fixed.x&&(t.x=o.x),!1===t.options.fixed.y&&(t.y=o.y)});for(let t in s)if(Object.prototype.hasOwnProperty.call(s,t)){let e=this.body.nodes[t];e.vx=o.vx,e.vy=o.vy,e.setOptions({physics:!0}),delete this.clusteredNodes[t]}let l=[];for(let t=0;t<o.edges.length;t++)l.push(o.edges[t]);for(let e=0;e<l.length;e++){let i=l[e],o=this._getConnectedId(i,t),r=this.clusteredNodes[o];for(let t=0;t<i.clusteringEdgeReplacingIds.length;t++){let e=i.clusteringEdgeReplacingIds[t],n=this.body.edges[e];if(void 0!==n){if(void 0!==r){let t=this.body.nodes[r.clusterId];t.containedEdges[n.id]=n,delete a[n.id];let e=n.fromId,i=n.toId;n.toId==o?i=r.clusterId:e=r.clusterId,this._createClusteredEdge(e,i,n,t.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(n)}}i.remove()}for(let t in a)Object.prototype.hasOwnProperty.call(a,t)&&this._restoreEdge(a[t]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(t){let e=[];if(!0===this.isCluster(t)){let i=this.body.nodes[t].containedNodes;for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(this.body.nodes[t].id)}return e}findNode(t){let e;let i=[],o=0;for(;void 0!==this.clusteredNodes[t]&&o<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,o++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),CO(i).call(i),i)}updateClusteredNode(t,e){if(void 0===t)throw Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}updateEdge(t,e){if(void 0===t)throw Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw Error("The startEdgeId supplied to updateEdge does not exist.");let i=this.getClusteredEdges(t);for(let t=0;t<i.length;t++)this.body.edges[i[t]].setOptions(e);this.body.emitter.emit("_dataChanged")}getClusteredEdges(t){let e=[],i=0;for(;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return CO(e).call(e),e}getBaseEdge(t){return this.getBaseEdges(t)[0]}getBaseEdges(t){let e=[t],i=[],o=[],r=0;for(;e.length>0&&r<100;){let t=e.pop();if(void 0===t)continue;let n=this.body.edges[t];if(void 0===n)continue;r++;let s=n.clusteringEdgeReplacingIds;if(void 0===s)o.push(t);else for(let t=0;t<s.length;++t){let o=s[t];-1===Cz(e).call(e,s)&&-1===Cz(i).call(i,s)&&e.push(o)}i.push(t)}return o}_getConnectedId(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}_getHubSize(){let t=0,e=0,i=0,o=0;for(let r=0;r<this.body.nodeIndices.length;r++){let n=this.body.nodes[this.body.nodeIndices[r]];n.edges.length>o&&(o=n.edges.length),t+=n.edges.length,e+=Math.pow(n.edges.length,2),i+=1}t/=i;let r=Math.sqrt((e/=i)-Math.pow(t,2)),n=Math.floor(t+2*r);return n>o&&(n=o),n}_createClusteredEdge(t,e,i,o,r){let n=MK.cloneOptions(i,"edge");Pg(n,o),n.from=t,n.to=e,n.id="clusterEdge:"+MG(),void 0!==r&&Pg(n,r);let s=this.body.functions.createEdge(n);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}_clusterEdges(t,e,i,o){if(e instanceof Mj){let t=e,i={};i[t.id]=t,e=i}if(t instanceof Ms){let e=t,i={};i[e.id]=e,t=i}if(null==i)throw Error("_clusterEdges: parameter clusterNode required");for(let r in void 0===o&&(o=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,o),e)if(Object.prototype.hasOwnProperty.call(e,r)&&void 0!==this.body.edges[r]){let t=this.body.edges[r];this._backupEdgeOptions(t),t.setOptions({physics:!1})}for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.clusteredNodes[e]={clusterId:i.id,node:this.body.nodes[e]},this.body.nodes[e].setOptions({physics:!1}))}_getClusterNodeForNode(t){if(void 0===t)return;let e=this.clusteredNodes[t];if(void 0===e)return;let i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}_filter(t,e){let i=[];return Pm(t,t=>{e(t)&&i.push(t)}),i}_updateState(){let t;let e=[],i={},o=t=>{Pm(this.body.nodes,e=>{!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&e.push(t);o(function(t){for(let i=0;i<e.length;i++)delete t.containedNodes[e[i]]});for(let t=0;t<e.length;t++)delete this.clusteredNodes[e[t]];Pm(this.clusteredEdges,t=>{let e=this.body.edges[t];void 0!==e&&e.endPointsValid()||(i[t]=t)}),o(function(t){Pm(t.containedEdges,(t,e)=>{t.endPointsValid()||i[e]||(i[e]=e)})}),Pm(this.body.edges,(t,e)=>{let o=!0,r=t.clusteringEdgeReplacingIds;if(void 0!==r){let t=0;Pm(r,e=>{let i=this.body.edges[e];void 0!==i&&i.endPointsValid()&&(t+=1)}),o=t>0}t.endPointsValid()&&o||(i[e]=e)}),o(t=>{Pm(i,e=>{delete t.containedEdges[e],Pm(t.edges,(o,r)=>{if(o.id===e){t.edges[r]=null;return}o.clusteringEdgeReplacingIds=this._filter(o.clusteringEdgeReplacingIds,function(t){return!i[t]})}),t.edges=this._filter(t.edges,function(t){return null!==t})})}),Pm(i,t=>{delete this.clusteredEdges[t]}),Pm(i,t=>{delete this.body.edges[t]}),Pm(Cw(this.body.edges),t=>{let e=this.body.edges[t],i=this._isClusteredNode(e.fromId)||this._isClusteredNode(e.toId);if(i!==this._isClusteredEdge(e.id)){if(i){let t=this._getClusterNodeForNode(e.fromId);void 0!==t&&this._clusterEdges(this.body.nodes[e.fromId],e,t);let i=this._getClusterNodeForNode(e.toId);void 0!==i&&this._clusterEdges(this.body.nodes[e.toId],e,i)}else delete this._clusterEdges[t],this._restoreEdge(e)}});let r=!1,n=!0;for(;n;){let t=[];o(function(e){let i=Cw(e.containedNodes).length,o=!0===e.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&t.push(e.id)});for(let e=0;e<t.length;++e)this.openCluster(t[e],{},!1);n=t.length>0,r=r||n}r&&this._updateState()}_isClusteredNode(t){return void 0!==this.clusteredNodes[t]}_isClusteredEdge(t){return void 0!==this.clusteredEdges[t]}}class MQ{constructor(t,e){this.body=t,this.canvas=e,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Sg(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=CW(()=>{var t;this.zooming=!1,Sy(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Sy(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(t){void 0!==t&&Pp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}_startRendering(){if(!0===this.renderingActive&&void 0===this.requestAnimationFrameRequestId){var t;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Sy(t=this._renderStep).call(t,this),this.simulationInterval)}}_renderStep(){!0===this.renderingActive&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;let e={drawExternalLabels:null};(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();let i=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,o,r),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){let{drawExternalLabels:o}=this._drawNodes(i,t);e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,o,r)}}_resizeNodes(){let t;this.canvas.setTransform();let e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);let i=this.body.nodes;for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&((t=i[o]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}_drawNodes(t){let e,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,n=this.body.nodeIndices,s=[],a=[],l=this.canvas.DOMtoCanvas({x:-20,y:-20}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),h={top:l.y,left:l.x,bottom:d.y,right:d.x},c=[];for(let i=0;i<n.length;i++)if((e=r[n[i]]).hover)a.push(n[i]);else if(e.isSelected())s.push(n[i]);else if(!0===o){let i=e.draw(t);null!=i.drawExternalLabel&&c.push(i.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(h)){let i=e.draw(t);null!=i.drawExternalLabel&&c.push(i.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);let u=s.length,p=a.length;for(i=0;i<u;i++){let o=(e=r[s[i]]).draw(t);null!=o.drawExternalLabel&&c.push(o.drawExternalLabel)}for(i=0;i<p;i++){let o=(e=r[a[i]]).draw(t);null!=o.drawExternalLabel&&c.push(o.drawExternalLabel)}return{drawExternalLabels:()=>{for(let t of c)t()}}}_drawEdges(t){let e=this.body.edges,i=this.body.edgeIndices;for(let o=0;o<i.length;o++){let r=e[i[o]];!0===r.connected&&r.draw(t)}}_drawArrows(t){let e=this.body.edges,i=this.body.edgeIndices;for(let o=0;o<i.length;o++){let r=e[i[o]];!0===r.connected&&r.drawArrows(t)}}_drawSelectionBox(t){if(this.body.selectionBox.show){t.beginPath();let e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}var MJ=kv(bu?bc:(bu=1,bc=bh?bd:(bh=1,CH(),bd=kF().setInterval)));function M0(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function M1(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}class M2{constructor(t){this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Sg(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.once("resize",t=>{0!==t.width&&(this.body.view.translation.x=.5*t.width),0!==t.height&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",Sy(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(t){if(void 0!==t&&Pp(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var e;if(window.ResizeObserver){let t=new ResizeObserver(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")}),{frame:e}=this;t.observe(e),this._cleanupCallbacks.push(()=>{t.unobserve(e)})}else{let t=MJ(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(t)})}let t=Sy(e=this._onResize).call(e,this);window.addEventListener("resize",t),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",t)})}}_cleanUp(){var t,e,i;CE(t=CO(e=CS(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,t=>{try{t()}catch(t){console.error(t)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){let t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;let o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}_prepareValue(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Cz(t).call(t,"%")||-1!==Cz(t).call(t,"px"))return t;if(-1===Cz(t).call(t,"%"))return t+"px"}throw Error("Could not use the value supplied for width or height:"+t)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Po(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Po.DIRECTION_ALL}),M0(this.hammer,t=>{this.body.eventListeners.onTouch(t)}),this.hammer.on("tap",t=>{this.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",t=>{this.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",t=>{this.body.eventListeners.onHold(t)}),this.hammer.on("panstart",t=>{this.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",t=>{this.body.eventListeners.onDrag(t)}),this.hammer.on("panend",t=>{this.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",t=>{this.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",t=>{this.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",t=>{this.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",t=>{this.body.eventListeners.onContext(t)}),this.hammerFrame=new Po(this.frame),M1(this.hammerFrame,t=>{this.body.eventListeners.onRelease(t)})}setSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);let i=!1,o=this.frame.canvas.width,r=this.frame.canvas.height,n=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(n),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{let t=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),e=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==t||this.frame.canvas.height!==e)&&this._getCameraState(n),this.frame.canvas.width!==t&&(this.frame.canvas.width=t,i=!0),this.frame.canvas.height!==e&&(this.frame.canvas.height=e,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){let t=this.getContext();if(void 0===t)throw Error("Could not get canvax context");let e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){let t=this.getContext();if(void 0===t)throw Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(t){return(t-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(t){return(t-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.y}canvasToDOM(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}DOMtoCanvas(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}class M5{constructor(t,e){var i,o;this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Sy(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Sy(o=this.releaseNode).call(o,this))}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}fit(t){let e,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){let i=Sg({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Cy(i.nodes))throw TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);let r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(0===r||0===n)i=1,e=MK.getRange(this.body.nodes,t.nodes);else if(!0===o){let o=0;for(let t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&!0===this.body.nodes[t].predefinedPosition&&(o+=1);if(o>.5*this.body.nodeIndices.length){this.fit(t,!1);return}e=MK.getRange(this.body.nodes,t.nodes),i=(12.662/(this.body.nodeIndices.length+7.4147)+.0964822)*Math.min(r/600,n/600)}else{this.body.emitter.emit("_resizeNodes");let o=1.1*Math.abs((e=MK.getRange(this.body.nodes,t.nodes)).maxX-e.minX),s=1.1*Math.abs(e.maxY-e.minY),a=r/o,l=n/s;i=a<=l?a:l}i>t.maxZoomLevel?i=t.maxZoomLevel:i<t.minZoomLevel&&(i=t.minZoomLevel);let s={position:MK.findCenter(e),scale:i,animation:t.animation};this.moveTo(s)}focus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){let i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}moveTo(t){if(void 0===t){t={};return}if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Nm(t.offset.x))throw TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Nm(t.offset.y))throw TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Nm(t.position.x))throw TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Nm(t.position.y))throw TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}animateView(t){var e,i;if(void 0===t)return;this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;let o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:o.x-t.position.x,y:o.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=Sy(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Sy(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){let t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},o=this.body.view.translation,r={x:o.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=r}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;let e=PC[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId){var i;this.viewFunction=Sy(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function M3(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,r={},n={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:65+(e-97),shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},l=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==n[e][t.keyCode]){for(var o=n[e][t.keyCode],r=0;r<o.length;r++)void 0===o[r].shift?o[r].fn(t):!0==o[r].shift&&!0==t.shiftKey?o[r].fn(t):!1==o[r].shift&&!1==t.shiftKey&&o[r].fn(t);!0==i&&t.preventDefault()}};return r.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw Error("unsupported key: "+t);void 0===n[i][s[t].code]&&(n[i][s[t].code]=[]),n[i][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&r.bind(i,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)&&(!0==t.shiftKey&&!0==s[e].shift&&t.keyCode==s[e].code||!1==t.shiftKey&&!1==s[e].shift&&t.keyCode==s[e].code||t.keyCode==s[e].code&&"shift"==e))return e;return"unknown key, currently not supported"},r.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw Error("unsupported key: "+t);if(void 0!==e){var o=[],r=n[i][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||o.push(n[i][s[t].code][a]);n[i][s[t].code]=o}else n[i][s[t].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",l,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",l,!0),r}class M4{constructor(t,e){this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(t){void 0!==t&&(this.options=t,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};let t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let r=0;r<t.length;r++){var i,o;this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);let n=new Po(this.navigationDOM[t[r]]);"_fit"===e[r]?M0(n,Sy(i=this._fit).call(i,this)):M0(n,Sy(o=this.bindToRedraw).call(o,this,e[r])),this.navigationHammers.push(n)}let r=new Po(this.canvas.frame);M1(r,()=>{this._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}bindToRedraw(t){if(void 0===this.boundFunctions[t]){var e;this.boundFunctions[t]=Sy(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(let t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){let t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,r=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,n=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:r,y:n},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){let t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,r=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,n=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:r,y:n},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=M3({container:window,preventDefault:!0}):this.keycharm=M3({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated)){var t,e,i,o,r,n,s,a,l,d,h,c,u,p,f,g,m,v,y,b,w,x,_,E;Sy(t=this.keycharm).call(t,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Sy(e=this.keycharm).call(e,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Sy(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Sy(o=this.keycharm).call(o,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Sy(r=this.keycharm).call(r,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Sy(n=this.keycharm).call(n,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Sy(s=this.keycharm).call(s,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Sy(a=this.keycharm).call(a,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Sy(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Sy(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Sy(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Sy(c=this.keycharm).call(c,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Sy(u=this.keycharm).call(u,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Sy(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Sy(f=this.keycharm).call(f,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Sy(g=this.keycharm).call(g,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Sy(m=this.keycharm).call(m,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Sy(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Sy(y=this.keycharm).call(y,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Sy(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Sy(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Sy(x=this.keycharm).call(x,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Sy(_=this.keycharm).call(_,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Sy(E=this.keycharm).call(E,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class M6{constructor(t,e,i){var o,r,n,s,a,l,d,h,c,u,p,f,g;this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new M4(t,e),this.body.eventListeners.onTap=Sy(o=this.onTap).call(o,this),this.body.eventListeners.onTouch=Sy(r=this.onTouch).call(r,this),this.body.eventListeners.onDoubleTap=Sy(n=this.onDoubleTap).call(n,this),this.body.eventListeners.onHold=Sy(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=Sy(a=this.onDragStart).call(a,this),this.body.eventListeners.onDrag=Sy(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=Sy(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=Sy(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Sy(c=this.onPinch).call(c,this),this.body.eventListeners.onMouseMove=Sy(u=this.onMouseMove).call(u,this),this.body.eventListeners.onRelease=Sy(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Sy(f=this.onContext).call(f,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Sy(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Sg(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(t){void 0!==t&&(Pf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),PS(this.options,t,"keyboard"),t.tooltip&&(Sg(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Pw(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(t){return{x:t.x-this.canvas.frame.canvas.getBoundingClientRect().left,y:t.y-this.canvas.frame.canvas.getBoundingClientRect().top}}onTouch(t){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(t){let e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}onDoubleTap(t){let e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}onHold(t){let e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}onRelease(t){if(new Date().valueOf()-this.touchTime>10){let e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=new Date().valueOf()}}onContext(t){let e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}checkSelectionChanges(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===e?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}_determineDifference(t,e){let i=function(t,e){let i=[];for(let o=0;o<t.length;o++){let r=t[o];-1===Cz(e).call(e,r)&&i.push(r)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}onDragStart(t){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(t);let e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Sg({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;let e=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)}}else if(void 0!==e&&!0===this.options.dragNodes)for(let i of(this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer),this.selectionHandler.getSelectedNodes())){let t={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(t)}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}onDrag(t){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");let e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,e);let o=e.x-this.drag.pointer.x,r=e.y-this.drag.pointer.y;CE(i).call(i,t=>{let e=t.node;!1===t.xFixed&&(e.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(e.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer){this.onDragStart(t);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer){this.onDragStart(t);return}let i=e.x-this.drag.pointer.x,o=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+o},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(t){if(this.drag.dragging=!1,this.body.selectionBox.show){var e;this.body.selectionBox.show=!1;let i=this.body.selectionBox.position,o={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},r=CN(e=this.body.nodeIndices).call(e,t=>{let e=this.body.nodes[t];return e.x>=o.minX&&e.x<=o.maxX&&e.y>=o.minY&&e.y<=o.maxY});CE(r).call(r,t=>this.selectionHandler.selectObject(this.body.nodes[t]));let n=this.getPointer(t.center);this.selectionHandler.commitAndEmit(n,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{let e=this.drag.selection;e&&e.length?(CE(e).call(e,function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(t){let e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);let i=this.pinch.scale*t.scale;this.zoom(i,e)}zoom(t,e){if(!0===this.options.zoomView){let i;let o=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));let r=this.body.view.translation,n=t/o,s=(1-n)*e.x+r.x*n,a=(1-n)*e.y+r.y*n;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},void 0!=i){let t=this.canvas.canvasToDOM(i);this.drag.pointer.x=t.x,this.drag.pointer.y=t.y}this.body.emitter.emit("_requestRedraw"),o<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}onMouseWheel(t){if(!0===this.options.zoomView){if(0!==t.deltaY){let e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);let i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}onMouseMove(t){let e=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(e),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(e.x+3,e.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1!==i||(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=CW(()=>this._checkShowPopup(e),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,e)}_checkShowPopup(t){let e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},r=void 0===this.popupObj?void 0:this.popupObj.id,n=!1,s="node";if(void 0===this.popupObj){let t;let e=this.body.nodeIndices,i=this.body.nodes,r=[];for(let s=0;s<e.length;s++)!0===(t=i[e[s]]).isOverlappingWith(o)&&(n=!0,void 0!==t.getTitle()&&r.push(e[s]));r.length>0&&(this.popupObj=i[r[r.length-1]],n=!0)}if(void 0===this.popupObj&&!1===n){let t;let e=this.body.edgeIndices,i=this.body.edges,r=[];for(let n=0;n<e.length;n++)!0===(t=i[e[n]]).isOverlappingWith(o)&&!0===t.connected&&void 0!==t.getTitle()&&r.push(e[n]);r.length>0&&(this.popupObj=i[r[r.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new PD(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(t){let e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){let e=this.selectionHandler.getNodeAt(t);i=void 0!==e&&e.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}function M8(){if(bm)return bg;bm=1;var t=kV(),e=TypeError;return bg=function(i){if("object"==typeof i&&"size"in i&&"has"in i&&"add"in i&&"delete"in i&&"keys"in i)return i;throw new e(t(i)+" is not a set")}}function M9(){if(by)return bv;by=1;var t=kB(),e=Nh(),i=t("Set"),o=i.prototype;return bv={Set:i,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:o}}function M7(){if(bw)return bb;bw=1;var t=kT();return bb=function(e,i,o){for(var r,n,s=o?e:e.iterator,a=e.next;!(r=t(a,s)).done;)if(void 0!==(n=i(r.value)))return n}}function It(){if(b_)return bx;b_=1;var t=M7();return bx=function(e,i,o){return o?t(e.keys(),i,!0):e.forEach(i)}}function Ie(){if(bO)return bE;bO=1;var t=M9(),e=It(),i=t.Set,o=t.add;return bE=function(t){var r=new i;return e(t,function(t){o(r,t)}),r}}function Ii(){return bS?bk:(bS=1,bk=function(t){return t.size})}function Io(){if(bN)return bP;bN=1;var t=kY(),e=St(),i=kT(),o=Sr(),r=bT?bC:(bT=1,bC=function(t){return{iterator:t,next:t.next,done:!1}}),n="Invalid size",s=RangeError,a=TypeError,l=Math.max,d=function(e,i){this.set=e,this.size=l(i,0),this.has=t(e.has),this.keys=t(e.keys)};return d.prototype={getIterator:function(){return r(e(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},bP=function(t){e(t);var i=+t.size;if(i!=i)throw new a(n);var r=o(i);if(r<0)throw new s(n);return new d(t,r)}}function Ir(){return bj?bD:(bj=1,bD=function(){return!1})}function In(){return bZ?b$:(bZ=1,b$=function(t){try{var e=new Set,i=e[t]({size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}});return 1===i.size&&4===i.values().next().value}catch(t){return!1}})}var Is=kv(b8?b6:(b8=1,b6=function(){if(b4)return b3;b4=1;var t=b5?b2:(b5=1,Cp(),bf||(bf=1,bp||(bp=1,Na()("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Nd()))),function(){if(!bz){bz=1;var t=So(),e=function(){if(bI)return bM;bI=1;var t=M8(),e=M9(),i=Ie(),o=Ii(),r=Io(),n=It(),s=M7(),a=e.has,l=e.remove;return bM=function(e){var d=t(this),h=r(e),c=i(d);return o(d)<=h.size?n(d,function(t){h.includes(t)&&l(c,t)}):s(h.getIterator(),function(t){a(c,t)&&l(c,t)}),c}}(),i=kb();t({target:"Set",proto:!0,real:!0,forced:!Ir()("difference",function(t){return 0===t.size})||i(function(){var t=new Set([1,2,3,4]);return 3!==t.difference({size:1,has:function(){return!0},keys:function(){var e=0;return{next:function(){var i=e++>1;return t.has(1)&&t.clear(),{done:i,value:2}}}}}).size})},{difference:e})}}(),function(){if(!bB){bB=1;var t=So(),e=kb(),i=function(){if(bF)return bA;bF=1;var t=M8(),e=M9(),i=Ii(),o=Io(),r=It(),n=M7(),s=e.Set,a=e.add,l=e.has;return bA=function(e){var d=t(this),h=o(e),c=new s;return i(d)>h.size?n(h.getIterator(),function(t){l(d,t)&&a(c,t)}):r(d,function(t){h.includes(t)&&a(c,t)}),c}}();t({target:"Set",proto:!0,real:!0,forced:!Ir()("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:i})}}(),function(){if(!bH){bH=1;var t=So(),e=function(){if(bL)return bR;bL=1;var t=M8(),e=M9().has,i=Ii(),o=Io(),r=It(),n=M7(),s=Nr();return bR=function(a){var l=t(this),d=o(a);if(i(l)<=d.size)return!1!==r(l,function(t){if(d.includes(t))return!1},!0);var h=d.getIterator();return!1!==n(h,function(t){if(e(l,t))return s(h,"normal",!1)})}}();t({target:"Set",proto:!0,real:!0,forced:!Ir()("isDisjointFrom",function(t){return!t})},{isDisjointFrom:e})}}(),function(){if(!bq){bq=1;var t=So(),e=function(){if(bU)return bW;bU=1;var t=M8(),e=Ii(),i=It(),o=Io();return bW=function(r){var n=t(this),s=o(r);return!(e(n)>s.size)&&!1!==i(n,function(t){if(!s.includes(t))return!1},!0)}}();t({target:"Set",proto:!0,real:!0,forced:!Ir()("isSubsetOf",function(t){return t})},{isSubsetOf:e})}}(),function(){if(!bX){bX=1;var t=So(),e=function(){if(bY)return bV;bY=1;var t=M8(),e=M9().has,i=Ii(),o=Io(),r=M7(),n=Nr();return bV=function(s){var a=t(this),l=o(s);if(i(a)<l.size)return!1;var d=l.getIterator();return!1!==r(d,function(t){if(!e(a,t))return n(d,"normal",!1)})}}();t({target:"Set",proto:!0,real:!0,forced:!Ir()("isSupersetOf",function(t){return!t})},{isSupersetOf:e})}}(),function(){if(!bQ){bQ=1;var t=So(),e=function(){if(bK)return bG;bK=1;var t=M8(),e=M9(),i=Ie(),o=Io(),r=M7(),n=e.add,s=e.has,a=e.remove;return bG=function(e){var l=t(this),d=o(e).getIterator(),h=i(l);return r(d,function(t){s(l,t)?a(h,t):n(h,t)}),h}}(),i=In();t({target:"Set",proto:!0,real:!0,forced:!Ir()("symmetricDifference")||!i("symmetricDifference")},{symmetricDifference:e})}}(),function(){if(!b1){b1=1;var t=So(),e=function(){if(b0)return bJ;b0=1;var t=M8(),e=M9().add,i=Ie(),o=Io(),r=M7();return bJ=function(n){var s=t(this),a=o(n).getIterator(),l=i(s);return r(a,function(t){e(l,t)}),l}}(),i=In();t({target:"Set",proto:!0,real:!0,forced:!Ir()("union")||!i("union")},{union:e})}}(),Nu(),b2=kF().Set);return Cf(),b3=t}())),Ia=kv(wa?ws:(wa=1,ws=function(){if(wn)return wr;wn=1;var t=wo?wi:(wo=1,Cp(),we||(we=1,function(){if(!wt){wt=1;var t,e=Ne(),i=ky(),o=k_(),r=Nl(),n=Ni(),s=Na(),a=function(){if(b7)return b9;b7=1;var t=k_(),e=Nl(),i=Ni().getWeakData,o=Ns(),r=St(),n=kD(),s=kA(),a=Nn(),l=S2(),d=kJ(),h=S1(),c=h.set,u=h.getterFor,p=l.find,f=l.findIndex,g=t([].splice),m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return p(t.entries,function(t){return t[0]===e})};return y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var i=b(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=f(this.entries,function(e){return e[0]===t});return~e&&g(this.entries,e,1),!!~e}},b9={getConstructor:function(t,l,h,p){var f=t(function(t,e){o(t,g),c(t,{type:l,id:m++,frozen:null}),n(e)||a(e,t[p],{that:t,AS_ENTRIES:h})}),g=f.prototype,y=u(l),b=function(t,e,o){var n=y(t),s=i(r(e),!0);return!0===s?v(n).set(e,o):s[n.id]=o,t};return e(g,{delete:function(t){var e=y(this);if(!s(t))return!1;var o=i(t);return!0===o?v(e).delete(t):o&&d(o,e.id)&&delete o[e.id]},has:function(t){var e=y(this);if(!s(t))return!1;var o=i(t);return!0===o?v(e).has(t):o&&d(o,e.id)}}),e(g,h?{get:function(t){var e=y(this);if(s(t)){var o=i(t);if(!0===o)return v(e).get(t);if(o)return o[e.id]}},set:function(t,e){return b(this,t,e)}}:{add:function(t){return b(this,t,!0)}}),f}}}(),l=kA(),d=S1().enforce,h=kb(),c=S0(),u=Object,p=Array.isArray,f=u.isExtensible,g=u.isFrozen,m=u.isSealed,v=u.freeze,y=u.seal,b=!i.ActiveXObject&&"ActiveXObject"in i,w=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},x=s("WeakMap",w,a),_=x.prototype,E=o(_.set);if(c){if(b){t=a.getConstructor(w,"WeakMap",!0),n.enable();var O=o(_.delete),k=o(_.has),S=o(_.get);r(_,{delete:function(e){if(l(e)&&!f(e)){var i=d(this);return i.frozen||(i.frozen=new t),O(this,e)||i.frozen.delete(e)}return O(this,e)},has:function(e){if(l(e)&&!f(e)){var i=d(this);return i.frozen||(i.frozen=new t),k(this,e)||i.frozen.has(e)}return k(this,e)},get:function(e){if(l(e)&&!f(e)){var i=d(this);return i.frozen||(i.frozen=new t),k(this,e)?S(this,e):i.frozen.get(e)}return S(this,e)},set:function(e,i){if(l(e)&&!f(e)){var o=d(this);o.frozen||(o.frozen=new t),k(this,e)?E(this,e,i):o.frozen.set(e,i)}else E(this,e,i);return this}})}else e&&h(function(){var t=v([]);return E(new x,t,1),!g(t)})&&r(_,{set:function(t,e){var i;return p(t)&&(g(t)?i=v:m(t)&&(i=y)),E(this,t,e),i&&i(t),this}})}}}()),wi=kF().WeakMap);return Cf(),wr=t}()));function Il(t,e,i){(function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,i)}function Id(t,e,i){return t.set(Ic(t,e),i),i}function Ih(t,e){return t.get(Ic(t,e))}function Ic(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw TypeError("Private element is not present on this object")}function Iu(t,e){let i=new Is;for(let o of e)t.has(o)||i.add(o);return i}var Ip=new Ia,If=new Ia;class Ig{constructor(){Il(this,Ip,new Is),Il(this,If,new Is)}get size(){return Ih(If,this).size}add(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)Ih(If,this).add(t)}delete(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(let t of e)Ih(If,this).delete(t)}clear(){Ih(If,this).clear()}getSelection(){return[...Ih(If,this)]}getChanges(){return{added:[...Iu(Ih(Ip,this),Ih(If,this))],deleted:[...Iu(Ih(If,this),Ih(Ip,this))],previous:[...new Is(Ih(Ip,this))],current:[...new Is(Ih(If,this))]}}commit(){let t=this.getChanges();for(let e of(Id(Ip,this,Ih(If,this)),Id(If,this,new Is(Ih(Ip,this))),t.added))e.select();for(let e of t.deleted)e.unselect();return t}}var Im=new Ia,Iv=new Ia,Iy=new Ia;class Ib{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Il(this,Im,new Ig),Il(this,Iv,new Ig),Il(this,Iy,void 0),Id(Iy,this,t)}get sizeNodes(){return Ih(Im,this).size}get sizeEdges(){return Ih(Iv,this).size}getNodes(){return Ih(Im,this).getSelection()}getEdges(){return Ih(Iv,this).getSelection()}addNodes(){Ih(Im,this).add(...arguments)}addEdges(){Ih(Iv,this).add(...arguments)}deleteNodes(t){Ih(Im,this).delete(t)}deleteEdges(t){Ih(Iv,this).delete(t)}clear(){Ih(Im,this).clear(),Ih(Iv,this).clear()}commit(){let t={nodes:Ih(Im,this).commit(),edges:Ih(Iv,this).commit()};for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return Ih(Iy,this).call(this,t,...i),t}}class Iw{constructor(t,e){this.body=t,this.canvas=e,this._selectionAccumulator=new Ib,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Sg(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(t){void 0!==t&&Pp(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}selectOnPoint(t){let e=!1;if(!0===this.options.selectable){let i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}selectAdditionalOnPoint(t){let e=!1;if(!0===this.options.selectable){let i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}_initBaseEvent(t,e){let i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}generateClickEvent(t,e,i,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=this._initBaseEvent(e,i);if(!0===r)n.nodes=[],n.edges=[];else{let t=this.getSelection();n.nodes=t.nodes,n.edges=t.edges}void 0!==o&&(n.previousSelection=o),"click"==t&&(n.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(n.controlEdge=e.controlEdge),this.body.emitter.emit(t,n)}selectObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof Ms?(!0===e&&this._selectionAccumulator.addEdges(...t.edges),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}deselectObject(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}_getAllNodesOverlappingWith(t){let e=[],i=this.body.nodes;for(let o=0;o<this.body.nodeIndices.length;o++){let r=this.body.nodeIndices[o];i[r].isOverlappingWith(t)&&e.push(r)}return e}_pointerToPositionObject(t){let e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}getNodeAt(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?!0===e?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}_getEdgesOverlappingWith(t,e){let i=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){let r=this.body.edgeIndices[o];i[r].isOverlappingWith(t)&&e.push(r)}}_getAllEdgesOverlappingWith(t){let e=[];return this._getEdgesOverlappingWith(t,e),e}getEdgeAt(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=this.canvas.DOMtoCanvas(t),o=10,r=null,n=this.body.edges;for(let t=0;t<this.body.edgeIndices.length;t++){let e=this.body.edgeIndices[t],s=n[e];if(s.connected){let t=s.from.x,n=s.from.y,a=s.to.x,l=s.to.y,d=s.edgeType.getDistanceToEdge(t,n,a,l,i.x,i.y);d<o&&(r=e,o=d)}}return null===r?void 0:!0===e?this.body.edges[r]:r}_addToHover(t){t instanceof Ms?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}_removeFromSelection(t){t instanceof Ms?(this._selectionAccumulator.deleteNodes(t),this._selectionAccumulator.deleteEdges(...t.edges)):this._selectionAccumulator.deleteEdges(t)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(t){for(let e=0;e<t.edges.length;e++){let i=t.edges[e];i.hover=!0,this._addToHover(i)}}emitBlurEvent(t,e,i){let o=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof Ms?(o.node=i.id,this.body.emitter.emit("blurNode",o)):(o.edge=i.id,this.body.emitter.emit("blurEdge",o)))}emitHoverEvent(t,e,i){let o=this._initBaseEvent(t,e),r=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),r=!0,i instanceof Ms?(o.node=i.id,this.body.emitter.emit("hoverNode",o)):(o.edge=i.id,this.body.emitter.emit("hoverEdge",o))),r}hoverObject(t,e){let i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));let o=!1;for(let r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===i||i instanceof Ms&&i.id!=r||i instanceof Mj)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],o=!0);for(let r in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,r)&&(!0===o?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof Mj&&i.id!=r||i instanceof Ms&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],o=!0));if(void 0!==i){let r=Cw(this.hoverObj.edges).length,n=Cw(this.hoverObj.nodes).length,s=i instanceof Mj&&0===r&&0===n,a=i instanceof Ms&&0===r&&0===n;(o||s||a)&&(o=this.emitHoverEvent(t,e,i)),i instanceof Ms&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===o&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(t,e){let i=!1,o=this._selectionAccumulator.commit(),r={nodes:o.nodes.previous,edges:o.edges.previous};o.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),i=!0),o.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),i=!0),o.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),o.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var t;return Cb(t=this._selectionAccumulator.getNodes()).call(t,t=>t.id)}getSelectedEdgeIds(){var t;return Cb(t=this._selectionAccumulator.getEdges()).call(t,t=>t.id)}setSelection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(let i of t.nodes){let t=this.body.nodes[i];if(!t)throw RangeError('Node with id "'+i+'" not found');this.selectObject(t,e.highlightEdges)}if(t.edges)for(let e of t.edges){let t=this.body.edges[e];if(!t)throw RangeError('Edge with id "'+e+'" not found');this.selectObject(t)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}selectEdges(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}updateSelection(){for(let t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(let t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}getClickedItems(t){let e=this.canvas.DOMtoCanvas(t),i=[],o=this.body.nodeIndices,r=this.body.nodes;for(let t=o.length-1;t>=0;t--){let n=r[o[t]].getItemsOnPoint(e);i.push.apply(i,n)}let n=this.body.edgeIndices,s=this.body.edges;for(let t=n.length-1;t>=0;t--){let o=s[n[t]].getItemsOnPoint(e);i.push.apply(i,o)}return i}}var Ix=kv(wO?wE:(wO=1,wE=w_?wx:(w_=1,wx=function(){if(ww)return wb;ww=1;var t=kR(),e=wy?wv:(wy=1,function(){if(!wm){wm=1;var t=So(),e=k_(),i=kY(),o=kQ(),r=Sa(),n=Ck(),s=SB(),a=kb(),l=function(){if(wd)return wl;wd=1;var t=Sm(),e=Math.floor,i=function(o,r){var n=o.length;if(n<8)for(var s,a,l=1;l<n;){for(a=l,s=o[l];a&&r(o[a-1],s)>0;)o[a]=o[--a];a!==l++&&(o[a]=s)}else for(var d=e(n/2),h=i(t(o,0,d),r),c=i(t(o,d),r),u=h.length,p=c.length,f=0,g=0;f<u||g<p;)o[f+g]=f<u&&g<p?0>=r(h[f],c[g])?h[f++]:c[g++]:f<u?h[f++]:c[g++];return o};return wl=i}(),d=C_(),h=function(){if(wc)return wh;wc=1;var t=kL().match(/firefox\/(\d+)/i);return wh=!!t&&+t[1]}(),c=function(){if(wp)return wu;wp=1;var t=kL();return wu=/MSIE|Trident/.test(t)}(),u=kH(),p=function(){if(wg)return wf;wg=1;var t=kL().match(/AppleWebKit\/(\d+)\./);return wf=!!t&&+t[1]}(),f=[],g=e(f.sort),m=e(f.push),v=a(function(){f.sort(void 0)}),y=a(function(){f.sort(null)}),b=d("sort"),w=!a(function(){if(u)return u<70;if(!h||!(h>3)){if(c)return!0;if(p)return p<603;var t,e,i,o,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(o=0;o<47;o++)f.push({k:e+o,v:i})}for(f.sort(function(t,e){return e.v-t.v}),o=0;o<f.length;o++)e=f[o].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});t({target:"Array",proto:!0,forced:v||!y||!b||!w},{sort:function(t){void 0!==t&&i(t);var e,a,d=o(this);if(w)return void 0===t?g(d):g(d,t);var h=[],c=r(d);for(a=0;a<c;a++)a in d&&m(h,d[a]);for(l(h,function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:s(e)>s(i)?1:-1}),e=r(h),a=0;a<e;)d[a]=h[a++];for(;a<c;)n(d,a++);return d}})}}(),wv=Sv()("Array","sort")),i=Array.prototype;return wb=function(o){var r=o.sort;return o===i||t(i,o)&&r===i.sort?e:r}}()))),I_=kv(wF?wA:(wF=1,wA=wz?wj:(wz=1,wj=function(){if(wD)return wI;wD=1;var t=kR(),e=wM?wN:(wM=1,function(){if(!wP){wP=1;var t=So(),e=function(){if(wS)return wk;wS=1;var t=kY(),e=kQ(),i=kI(),o=Sa(),r=TypeError,n="Reduce of empty array with no initial value",s=function(s){return function(a,l,d,h){var c=e(a),u=i(c),p=o(c);if(t(l),0===p&&d<2)throw new r(n);var f=s?p-1:0,g=s?-1:1;if(d<2)for(;;){if(f in u){h=u[f],f+=g;break}if(f+=g,s?f<0:p<=f)throw new r(n)}for(;s?f>=0:p>f;f+=g)f in u&&(h=l(h,u[f],f,c));return h}};return wk={left:s(!1),right:s(!0)}}().left,i=C_(),o=kH();t({target:"Array",proto:!0,forced:!(wT?wC:(wT=1,wC="NODE"===CR()))&&o>79&&o<83||!i("reduce")},{reduce:function(t){var i=arguments.length;return e(this,t,i,i>1?arguments[1]:void 0)}})}}(),wN=Sv()("Array","reduce")),i=Array.prototype;return wI=function(o){var r=o.reduce;return o===i||t(i,o)&&r===i.reduce?e:r}}())));class IE{abstract(){throw Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(t){return this.fake_use(t),this.abstract()}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}getTreeSize(t){return this.fake_use(t),this.abstract()}sort(t){this.fake_use(t),this.abstract()}fix(t,e){this.fake_use(t,e),this.abstract()}shift(t,e){this.fake_use(t,e),this.abstract()}}class IO extends IE{constructor(t){super(),this.layout=t}curveType(){return"horizontal"}getPosition(t){return t.x}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}getTreeSize(t){let e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}sort(t){Ix(t).call(t,function(t,e){return t.x-e.x})}fix(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}shift(t,e){this.layout.body.nodes[t].x+=e}}class Ik extends IE{constructor(t){super(),this.layout=t}curveType(){return"vertical"}getPosition(t){return t.y}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}getTreeSize(t){let e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}sort(t){Ix(t).call(t,function(t,e){return t.y-e.y})}fix(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}shift(t,e){this.layout.body.nodes[t].y+=e}}var IS=kv(wY?wV:(wY=1,wV=wq?wU:(wq=1,wU=function(){if(wW)return wH;wW=1;var t=kR(),e=wL?wR:(wL=1,function(){if(!wB){wB=1;var t=So(),e=S2().every;t({target:"Array",proto:!0,forced:!C_()("every")},{every:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}(),wR=Sv()("Array","every")),i=Array.prototype;return wH=function(o){var r=o.every;return o===i||t(i,o)&&r===i.every?e:r}}())));function IC(t,e,i,o){var r,n,s;let a=CA(null),l=I_(r=[...NH(o).call(o)]).call(r,(t,e)=>t+1+e.edges.length,0),d=i+"Id",h="to"===i?1:-1;for(let[r,c]of o){let u;if(!o.has(r)||!t(c))continue;a[r]=0;let p=[c],f=0;for(;u=p.pop();){if(!o.has(r))continue;let t=a[u.id]+h;if(CE(n=CN(s=u.edges).call(s,t=>t.connected&&t.to!==t.from&&t[i]!==u&&o.has(t.toId)&&o.has(t.fromId))).call(n,o=>{let r=o[d],n=a[r];(null==n||e(t,n))&&(a[r]=t,p.push(o[i]))}),f>l)return function(t,e){let i=new Is;return CE(t).call(t,t=>{var e;CE(e=t.edges).call(e,t=>{t.connected&&i.add(t)})}),CE(i).call(i,t=>{let i=t.from.id,o=t.to.id;null==e[i]&&(e[i]=0),(null==e[o]||e[i]>=e[o])&&(e[o]=e[i]+1)}),e}(o,a);++f}}return a}class IT{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}checkIfTree(){for(let t in this.parentReference)if(this.parentReference[t].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}ensureLevel(t){void 0===this.levels[t]&&(this.levels[t]=0)}getMaxLevel(t){let e={},i=t=>{if(void 0!==e[t])return e[t];let o=this.levels[t];if(this.childrenReference[t]){let e=this.childrenReference[t];if(e.length>0)for(let t=0;t<e.length;t++)o=Math.max(o,i(e[t]))}return e[t]=o,o};return i(t)}levelDownstream(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}setMinLevelToZero(){var t;let e=new Np,i=0;for(let o of Ix(t=[...new Is(CM(this.levels))]).call(t,(t,e)=>t-e))e.set(o,i++);for(let t in this.levels)Object.prototype.hasOwnProperty.call(this.levels,t)&&(this.levels[t]=e.get(this.levels[t]))}getTreeSize(t,e){let i=1e9,o=-1e9,r=1e9,n=-1e9;for(let s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){let e=t[s];i=Math.min(e.x,i),o=Math.max(e.x,o),r=Math.min(e.y,r),n=Math.max(e.y,n)}return{min_x:i,max_x:o,min_y:r,max_y:n}}hasSameParent(t,e){let i=this.parentReference[t.id],o=this.parentReference[e.id];if(void 0===i||void 0===o)return!1;for(let t=0;t<i.length;t++)for(let e=0;e<o.length;e++)if(i[t]==o[e])return!0;return!1}inSameSubNetwork(t,e){return this.trees[t.id]===this.trees[e.id]}getLevels(){return Cw(this.distributionOrdering)}addToOrdering(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);let i=!1,o=this.distributionOrdering[e];for(let e in o)if(o[e]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}class IP{constructor(t){this.body=t,this._resetRNG(Math.random()+":"+Cx()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Sg(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;let t=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}setOptions(t,e){if(void 0!==t){let i=this.options.hierarchical,o=i.enabled;if(Pp(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),PS(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===o&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===o)return this.body.emitter.emit("refresh"),Pg(e,this.optionsBackup)}return e}_resetRNG(t){this.initialRandomSeed=t,this._rng=Pi(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(t){if(!0===this.options.hierarchical.enabled){let e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"==typeof t.physics?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{let e=t.edges.smooth;void 0!==e.type&&"dynamic"!==e.type&&(i=e.type),this.optionsBackup.edges={smooth:{enabled:void 0===e.enabled||e.enabled,type:void 0===e.type?"dynamic":e.type,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}},t.edges.smooth={enabled:void 0===e.enabled||e.enabled,type:i,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}positionInitially(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);let e=t.length+50;for(let i=0;i<t.length;i++){let o=t[i],r=2*Math.PI*this._rng();void 0===o.x&&(o.x=e*Math.cos(r)),void 0===o.y&&(o.y=e*Math.sin(r))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){let t=this.body.nodeIndices,e=0;for(let i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){let e=0,i=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>i){let r=t.length;for(;t.length>i&&e<=10;){e+=1;let i=t.length;if(e%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),i==t.length&&e%3!=0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}e>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(let e=0;e<t.length;e++){let i=this.body.nodes[t[e]];!1===i.predefinedPosition&&(i.x+=(.5-this._rng())*70,i.y+=(.5-this._rng())*70)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){let t=MK.getRangeCore(this.body.nodes,this.body.nodeIndices),e=MK.findCenter(t);for(let t=0;t<this.body.nodeIndices.length;t++){let i=this.body.nodes[this.body.nodeIndices[t]];i.x-=e.x,i.y-=e.y}}_declusterAll(){let t=!0;for(;!0===t;){t=!1;for(let e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let t,e;let i=!1,o=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new IT,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):o=!0);if(!0===o&&!0===i)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===o){let t=this.options.hierarchical.sortMethod;"hubsize"===t?this._determineLevelsByHubsize():"directed"===t?this._determineLevelsDirected():"custom"===t&&this._determineLevelsCustomCallback()}for(let t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.hierarchical.ensureLevel(t);let t=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(t),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var t=this;let e=!1,i={},o=(t,e)=>{let i=this.hierarchical.trees;for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&i[o]===t&&this.direction.shift(o,e)},r=()=>{let t=[];for(let e=0;e<this.hierarchical.numTrees();e++)t.push(this.direction.getTreeSize(e));return t},n=(t,e)=>{if(!e[t.id]&&(e[t.id]=!0,this.hierarchical.childrenReference[t.id])){let i=this.hierarchical.childrenReference[t.id];if(i.length>0)for(let t=0;t<i.length;t++)n(this.body.nodes[i[t]],e)}},s=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,r=1e9,n=1e9,s=-1e9;for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)){let l=t.body.nodes[a],d=t.hierarchical.levels[l.id],h=t.direction.getPosition(l),[c,u]=t._getSpaceAroundNode(l,e);o=Math.min(c,o),r=Math.min(u,r),d<=i&&(n=Math.min(h,n),s=Math.max(h,s))}return[n,s,o,r]},a=(t,e)=>Math.min(this.hierarchical.getMaxLevel(t.id),this.hierarchical.getMaxLevel(e.id)),l=(t,e,i)=>{let o=this.hierarchical;for(let r=0;r<e.length;r++){let n=e[r],s=o.distributionOrdering[n];if(s.length>1)for(let e=0;e<s.length-1;e++){let r=s[e],n=s[e+1];o.hasSameParent(r,n)&&o.inSameSubNetwork(r,n)&&t(r,n,i)}}},d=function(i,o){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(i),d=Math.abs(t.direction.getPosition(o)-l),h=t.options.hierarchical.nodeSpacing;if(d>h){let l={},d={};n(i,l),n(o,d);let c=a(i,o),u=s(l,c),p=s(d,c),f=u[1],g=p[0],m=p[2];if(Math.abs(f-g)>h){let i=f-g+h;i<-m+h&&(i=-m+h),i<0&&(t._shiftBlock(o.id,i),e=!0,!0===r&&t._centerParent(o))}}},h=(t,o)=>{let r=o.id,a=o.edges,l=this.hierarchical.levels[o.id],d=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,h={},c=[];for(let t=0;t<a.length;t++){let e=a[t];if(e.toId!=e.fromId){let i=e.toId==r?e.from:e.to;h[a[t].id]=i,this.hierarchical.levels[i.id]<l&&c.push(e)}}let u=(t,e)=>{let i=0;for(let o=0;o<e.length;o++)if(void 0!==h[e[o].id]){let r=this.direction.getPosition(h[e[o].id])-t;i+=r/Math.sqrt(r*r+d)}return i},p=(t,e)=>{let i=0;for(let o=0;o<e.length;o++)if(void 0!==h[e[o].id]){let r=this.direction.getPosition(h[e[o].id])-t;i-=d*Math.pow(r*r+d,-1.5)}return i},f=(t,e)=>{let i=this.direction.getPosition(o),r={};for(let o=0;o<t;o++){let t=u(i,e),n=p(i,e);if(void 0!==r[i-=Math.max(-40,Math.min(40,Math.round(t/n)))])break;r[i]=o}return i},g=f(t,c);(t=>{let r=this.direction.getPosition(o);if(void 0===i[o.id]){let t={};n(o,t),i[o.id]=t}let a=s(i[o.id]),l=a[2],d=a[3],h=t-r,c=0;h>0?c=Math.min(h,d-this.options.hierarchical.nodeSpacing):h<0&&(c=-Math.min(-h,l-this.options.hierarchical.nodeSpacing)),0!=c&&(this._shiftBlock(o.id,c),e=!0)})(g),(t=>{let i=this.direction.getPosition(o),[r,n]=this._getSpaceAroundNode(o),s=t-i,a=i;s>0?a=Math.min(i+(n-this.options.hierarchical.nodeSpacing),t):s<0&&(a=Math.max(i-(r-this.options.hierarchical.nodeSpacing),t)),a!==i&&(this.direction.setPosition(o,a),e=!0)})(g=f(t,a))};!0===this.options.hierarchical.blockShifting&&((t=>{let i=this.hierarchical.getLevels();i=CO(i).call(i);for(let o=0;o<t&&(e=!1,l(d,i,!0),!0===e);o++);})(5),(()=>{for(let t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this._centerParent(this.body.nodes[t])})()),!0===this.options.hierarchical.edgeMinimization&&(t=>{let i=this.hierarchical.getLevels();i=CO(i).call(i);for(let o=0;o<t;o++){e=!1;for(let t=0;t<i.length;t++){let e=i[t],o=this.hierarchical.distributionOrdering[e];for(let t=0;t<o.length;t++)h(1e3,o[t])}if(!0!==e)break}})(20),!0===this.options.hierarchical.parentCentralization&&(()=>{let t=this.hierarchical.getLevels();t=CO(t).call(t);for(let e=0;e<t.length;e++){let i=t[e],o=this.hierarchical.distributionOrdering[i];for(let t=0;t<o.length;t++)this._centerParent(o[t])}})(),(()=>{let t=r(),e=0;for(let i=0;i<t.length-1;i++)e+=t[i].max-t[i+1].min+this.options.hierarchical.treeSpacing,o(i+1,e)})()}_getSpaceAroundNode(t,e){let i=!0;void 0===e&&(i=!1);let o=this.hierarchical.levels[t.id];if(void 0===o)return[0,0];{let r=this.hierarchical.distributionIndex[t.id],n=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[o],a=1e9,l=1e9;if(0!==r){let t=s[r-1];(!0===i&&void 0===e[t.id]||!1===i)&&(a=n-this.direction.getPosition(t))}if(r!=s.length-1){let t=s[r+1];(!0===i&&void 0===e[t.id]||!1===i)&&(l=Math.min(l,this.direction.getPosition(t)-n))}return[a,l]}}_centerParent(t){if(this.hierarchical.parentReference[t.id]){let e=this.hierarchical.parentReference[t.id];for(let t=0;t<e.length;t++){let i=e[t],o=this.body.nodes[i],r=this.hierarchical.childrenReference[i];if(void 0!==r){let t=this._getCenterPosition(r),e=this.direction.getPosition(o),[i,n]=this._getSpaceAroundNode(o),s=e-t;(s<0&&Math.abs(s)<n-this.options.hierarchical.nodeSpacing||s>0&&Math.abs(s)<i-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,t)}}}}_placeNodesByHierarchy(t){for(let i in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var e;let o=Cw(t[i]);o=this._indexArrayToNodes(o),Ix(e=this.direction).call(e,o);let r=0;for(let t=0;t<o.length;t++){let e=o[t];if(void 0===this.positionedNodes[e.id]){let n=this.options.hierarchical.nodeSpacing,s=n*r;r>0&&(s=this.direction.getPosition(o[t-1])+n),this.direction.setPosition(e,s,i),this._validatePositionAndContinue(e,i,s),r++}}}}_placeBranchNodes(t,e){var i;let o=this.hierarchical.childrenReference[t];if(void 0===o)return;let r=[];for(let t=0;t<o.length;t++)r.push(this.body.nodes[o[t]]);Ix(i=this.direction).call(i,r);for(let i=0;i<r.length;i++){let o=r[i],n=this.hierarchical.levels[o.id];if(!(n>e)||void 0!==this.positionedNodes[o.id])return;{let e;let s=this.options.hierarchical.nodeSpacing;e=0===i?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[i-1])+s,this.direction.setPosition(o,e,n),this._validatePositionAndContinue(o,n,e)}}let n=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],n,e)}_validatePositionAndContinue(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){let o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){let r=o+this.options.hierarchical.nodeSpacing-i,n=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(n.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}_indexArrayToNodes(t){let e=[];for(let i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}_getDistribution(){let t,e;let i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];let o=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,o),void 0===i[o]&&(i[o]={}),i[o][t]=e}return i}_getActiveEdges(t){let e=[];return Pm(t.edges,t=>{var i;-1!==Cz(i=this.body.edgeIndices).call(i,t.id)&&e.push(t)}),e}_getHubSizes(){let t={};Pm(this.body.nodeIndices,e=>{let i=this.body.nodes[e];t[this._getActiveEdges(i).length]=!0});let e=[];return Pm(t,t=>{e.push(Number(t))}),Ix(e).call(e,function(t,e){return e-t}),e}_determineLevelsByHubsize(){let t=(t,e)=>{this.hierarchical.levelDownstream(t,e)},e=this._getHubSizes();for(let i=0;i<e.length;++i){let o=e[i];if(0===o)break;Pm(this.body.nodeIndices,e=>{let i=this.body.nodes[e];o===this._getActiveEdges(i).length&&this._crawlNetwork(t,e)})}}_determineLevelsCustomCallback(){let t=function(t,e,i){};this._crawlNetwork((e,i,o)=>{let r=this.hierarchical.levels[e.id];void 0===r&&(r=this.hierarchical.levels[e.id]=1e5);let n=t(MK.cloneOptions(e,"node"),MK.cloneOptions(i,"node"),MK.cloneOptions(o,"edge"));this.hierarchical.levels[i.id]=r+n}),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var t,e,i;let o=I_(t=this.body.nodeIndices).call(t,(t,e)=>(t.set(e,this.body.nodes[e]),t),new Np);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=IC(t=>{var i,o;return IS(i=CN(o=t.edges).call(o,t=>e.has(t.toId))).call(i,e=>e.from===t)},(t,e)=>e<t,"to",e=o):this.hierarchical.levels=IC(t=>{var e,o;return IS(e=CN(o=t.edges).call(o,t=>i.has(t.toId))).call(e,e=>e.to===t)},(t,e)=>e>t,"from",i=o),this.hierarchical.setMinLevelToZero()}_generateMap(){this._crawlNetwork((t,e)=>{this.hierarchical.levels[e.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,e.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0,i={},o=(e,r)=>{if(void 0===i[e.id]){let n;this.hierarchical.setTreeIndex(e,r),i[e.id]=!0;let s=this._getActiveEdges(e);for(let i=0;i<s.length;i++){let a=s[i];!0===a.connected&&(n=a.toId==e.id?a.from:a.to,e.id!=n.id&&(t(e,n,a),o(n,r)))}}};if(void 0===e){let t=0;for(let e=0;e<this.body.nodeIndices.length;e++){let r=this.body.nodeIndices[e];void 0===i[r]&&(o(this.body.nodes[r],t),t+=1)}}else{let t=this.body.nodes[e];if(void 0===t){console.error("Node not found:",e);return}o(t)}}_shiftBlock(t,e){let i={},o=t=>{if(i[t])return;i[t]=!0,this.direction.shift(t,e);let r=this.hierarchical.childrenReference[t];if(void 0!==r)for(let t=0;t<r.length;t++)o(r[t])};o(t)}_findCommonParent(t,e){let i={},o=(t,e)=>{let i=this.hierarchical.parentReference[e];if(void 0!==i)for(let e=0;e<i.length;e++){let r=i[e];t[r]=!0,o(t,r)}},r=(t,e)=>{let i=this.hierarchical.parentReference[e];if(void 0!==i)for(let o=0;o<i.length;o++){let n=i[o];if(void 0!==t[n])return{foundParent:n,withChild:e};let s=r(t,n);if(null!==s.foundParent)return s}return{foundParent:null,withChild:e}};return o(i,t),r(i,e)}setDirectionStrategy(){"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.direction=new IO(this):this.direction=new Ik(this)}_getCenterPosition(t){let e=1e9,i=-1e9;for(let o=0;o<t.length;o++){let r;if(void 0!==t[o].id)r=t[o];else{let e=t[o];r=this.body.nodes[e]}let n=this.direction.getPosition(r);e=Math.min(e,n),i=Math.max(i,n)}return .5*(e+i)}}class IN{constructor(t,e,i,o){var r,n;this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=o,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Sg(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Sy(r=this._restore).call(r,this)),this.body.emitter.on("_resetData",Sy(n=this._restore).call(n,this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Pg(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";let i=this.selectionHandler.getSelectedNodeCount(),o=this.selectionHandler.getSelectedEdgeCount(),r=this.options.locales[this.options.locale],n=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),n=!0),!1!==this.options.addEdge&&(!0===n?this._createSeperator(1):n=!0,this._createAddEdgeButton(r)),1===i&&"function"==typeof this.options.editNode?(!0===n?this._createSeperator(2):n=!0,this._createEditNodeButton(r)):1===o&&0===i&&!1!==this.options.editEdge&&(!0===n?this._createSeperator(3):n=!0,this._createEditEdgeButton(r)),0!==i+o&&(i>0&&!1!==this.options.deleteNode?(!0===n&&this._createSeperator(4),this._createDeleteButton(r)):0===i&&!1!==this.options.deleteEdge&&(!0===n&&this._createSeperator(4),this._createDeleteButton(r))),this._bindElementEvents(this.closeDiv,Sy(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Sy(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var t,e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){let t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Sy(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Sy(t=this._performAddNode).call(t,this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();let t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"==typeof this.options.editNode){if(!0!==t.isCluster){let e=Pg({},t.options,!1);if(e.x=t.x,e.y=t.y,2===this.options.editNode.length)this.options.editNode(e,t=>{null!=t&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(t),this.showManipulatorToolbar()});else throw Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else throw Error("No function has been configured to handle the editing of nodes.")}else this.showManipulatorToolbar()}addEdgeMode(){var t,e,i,o,r,n;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){let t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Sy(n=this.toggleEditMode).call(n,this))}this._temporaryBindUI("onTouch",Sy(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Sy(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Sy(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Sy(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDragStart",Sy(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){var t,e,i,o,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"==typeof this.options.editEdge&&"function"==typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId)){let t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from.id,t.to.id);return}if(!0===this.guiEnabled){let e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Sy(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){let t=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(t.from.x,t.from.y),s=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",Sy(e=this._controlNodeTouch).call(e,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Sy(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Sy(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",Sy(r=this._controlNodeDragEnd).call(r,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",e=>{let i=t.edgeType.findBorderPositions(e);!1===n.selected&&(n.x=i.from.x,n.y=i.from.y),!1===s.selected&&(s.x=i.to.x,s.y=i.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){let t;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";let e=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds();if(e.length>0){for(let t=0;t<e.length;t++)if(!0===this.body.nodes[e[t]].isCluster){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}"function"==typeof this.options.deleteNode&&(t=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(t=this.options.deleteEdge);if("function"==typeof t){if(2===t.length)t({nodes:e,edges:i},t=>{null!=t&&"delete"===this.inMode&&(this.body.data.edges.getDataSet().remove(t.edges),this.body.data.nodes.getDataSet().remove(t.nodes)),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()});else throw Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv){var t,e;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(t,e){let i=Pg({},this.options.controlNodeStyle);i.id="targetNode"+MG(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;let o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}_createEditButton(){var t;this._clean(),this.manipulationDOM={},Pd(this.editModeDiv);let e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Sy(t=this.toggleEditMode).call(t,this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(Pd(this.editModeDiv),Pd(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(let e of CS(t=this._domEventListenerCleanupQueue).call(t,0)){var t;e()}}_removeManipulationDOM(){this._clean(),Pd(this.manipulationDiv),Pd(this.editModeDiv),Pd(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}_createAddNodeButton(t){var e;let i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Sy(e=this.addNodeMode).call(e,this))}_createAddEdgeButton(t){var e;let i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Sy(e=this.addEdgeMode).call(e,this))}_createEditNodeButton(t){var e;let i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Sy(e=this.editNode).call(e,this))}_createEditEdgeButton(t){var e;let i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Sy(e=this.editEdgeMode).call(e,this))}_createDeleteButton(t){var e;let i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";let o=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,Sy(e=this.deleteSelected).call(e,this))}_createBackButton(t){var e;let i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Sy(e=this.showManipulatorToolbar).call(e,this))}_createButton(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}_createDescription(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}_temporaryBindUI(t,e){if(void 0!==this.body.eventListeners[t])this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e;else throw Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+CF(Cw(this.body.eventListeners)))}_unbindTemporaryUIs(){for(let t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let t=0;t<this.temporaryEventFunctions.length;t++){let e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}_bindElementEvents(t,e){let i=new Po(t,{});M0(i,e),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});let o=t=>{let{keyCode:i,key:o}=t;("Enter"===o||" "===o||13===i||32===i)&&e()};t.addEventListener("keyup",o,!1),this._domEventListenerCleanupQueue.push(()=>{t.removeEventListener("keyup",o,!1)})}_cleanupTemporaryNodesAndEdges(){var t,e,i,o;for(let i=0;i<this.temporaryIds.edges.length;i++){this.body.edges[this.temporaryIds.edges[i]].disconnect(),delete this.body.edges[this.temporaryIds.edges[i]];let o=Cz(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[i]);-1!==o&&CS(e=this.body.edgeIndices).call(e,o,1)}for(let t=0;t<this.temporaryIds.nodes.length;t++){delete this.body.nodes[this.temporaryIds.nodes[t]];let e=Cz(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[t]);-1!==e&&CS(o=this.body.nodeIndices).call(o,e,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Sg({},this.body.view.translation)}_controlNodeDragStart(){let t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;let n=i.isOverlappingWith(e),s=o.isOverlappingWith(e);!0===n?(this.selectedControlNode=i,r.edgeType.from=i):!0===s&&(this.selectedControlNode=o,r.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(t){this.body.emitter.emit("disablePhysics");let e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(t){let e;let i=this.body.functions.getPointer(t.center),o=this.selectionHandler._pointerToPositionObject(i),r=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();let n=this.selectionHandler._getAllNodesOverlappingWith(o);for(let t=n.length-1;t>=0;t--)if(n[t]!==this.selectedControlNode.id){e=this.body.nodes[n[t]];break}if(void 0!==e&&void 0!==this.selectedControlNode){if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{let t=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===t.id?this._performEditEdge(e.id,r.to.id):this._performEditEdge(r.from.id,e.id)}}else r.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(t){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Sg({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;let e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i){if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{let t=this._getNewTargetNode(i.x,i.y);this.body.nodes[t.id]=t,this.body.nodeIndices.push(t.id);let e=this.body.functions.createEdge({id:"connectionEdge"+MG(),from:i.id,to:t.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[e.id]=e,this.body.edgeIndices.push(e.id),this.temporaryIds.nodes.push(t.id),this.temporaryIds.edges.push(e.id)}}this.touchTime=new Date().valueOf()}}_dragControlNode(t){let e,i;let o=this.body.functions.getPointer(t.center),r=this.selectionHandler._pointerToPositionObject(o);void 0!==this.temporaryIds.edges[0]&&(e=this.body.edges[this.temporaryIds.edges[0]].fromId);let n=this.selectionHandler._getAllNodesOverlappingWith(r);for(let t=n.length-1;t>=0;t--){var s;if(-1===Cz(s=this.temporaryIds.nodes).call(s,n[t])){i=this.body.nodes[n[t]];break}}if(t.controlEdge={from:e,to:i?i.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,o),void 0!==this.temporaryIds.nodes[0]){let t=this.body.nodes[this.temporaryIds.nodes[0]];t.x=this.canvas._XconvertDOMtoCanvas(o.x),t.y=this.canvas._YconvertDOMtoCanvas(o.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}_finishConnect(t){let e,i;let o=this.body.functions.getPointer(t.center),r=this.selectionHandler._pointerToPositionObject(o);void 0!==this.temporaryIds.edges[0]&&(e=this.body.edges[this.temporaryIds.edges[0]].fromId);let n=this.selectionHandler._getAllNodesOverlappingWith(r);for(let t=n.length-1;t>=0;t--){var s;if(-1===Cz(s=this.temporaryIds.nodes).call(s,n[t])){i=this.body.nodes[n[t]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==i&&(!0===i.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[e]&&void 0!==this.body.nodes[i.id]&&this._performAddEdge(e,i.id)),t.controlEdge={from:e,to:i?i.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,o),this.body.emitter.emit("_redraw")}_dragStartEdge(t){let e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}_performAddNode(t){let e={id:MG(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2===this.options.addNode.length)this.options.addNode(e,t=>{null!=t&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),Error("The function for add does not support two arguments (data,callback)")}else this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()}_performAddEdge(t,e){let i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2===this.options.addEdge.length)this.options.addEdge(i,t=>{null!=t&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw Error("The function for connect does not support two arguments (data,callback)")}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(t,e){let i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if("object"==typeof o&&(o=o.editWithoutDrag),"function"==typeof o){if(2===o.length)o(i,t=>{null==t||"editEdge"!==this.inMode?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw")):(this.body.data.edges.getDataSet().update(t),this.selectionHandler.unselectAll()),this.showManipulatorToolbar()});else throw Error("The function for edit does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}let IM="string",II="boolean",ID="number",Ij="array",Iz="object",IA=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],IF={borderWidth:{number:ID},borderWidthSelected:{number:ID,undefined:"undefined"},brokenImage:{string:IM,undefined:"undefined"},chosen:{label:{boolean:II,function:"function"},node:{boolean:II,function:"function"},__type__:{object:Iz,boolean:II}},color:{border:{string:IM},background:{string:IM},highlight:{border:{string:IM},background:{string:IM},__type__:{object:Iz,string:IM}},hover:{border:{string:IM},background:{string:IM},__type__:{object:Iz,string:IM}},__type__:{object:Iz,string:IM}},opacity:{number:ID,undefined:"undefined"},fixed:{x:{boolean:II},y:{boolean:II},__type__:{object:Iz,boolean:II}},font:{align:{string:IM},color:{string:IM},size:{number:ID},face:{string:IM},background:{string:IM},strokeWidth:{number:ID},strokeColor:{string:IM},vadjust:{number:ID},multi:{boolean:II,string:IM},bold:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},boldital:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},ital:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},mono:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},__type__:{object:Iz,string:IM}},group:{string:IM,number:ID,undefined:"undefined"},heightConstraint:{minimum:{number:ID},valign:{string:IM},__type__:{object:Iz,boolean:II,number:ID}},hidden:{boolean:II},icon:{face:{string:IM},code:{string:IM},size:{number:ID},color:{string:IM},weight:{string:IM,number:ID},__type__:{object:Iz}},id:{string:IM,number:ID},image:{selected:{string:IM,undefined:"undefined"},unselected:{string:IM,undefined:"undefined"},__type__:{object:Iz,string:IM}},imagePadding:{top:{number:ID},right:{number:ID},bottom:{number:ID},left:{number:ID},__type__:{object:Iz,number:ID}},label:{string:IM,undefined:"undefined"},labelHighlightBold:{boolean:II},level:{number:ID,undefined:"undefined"},margin:{top:{number:ID},right:{number:ID},bottom:{number:ID},left:{number:ID},__type__:{object:Iz,number:ID}},mass:{number:ID},physics:{boolean:II},scaling:{min:{number:ID},max:{number:ID},label:{enabled:{boolean:II},min:{number:ID},max:{number:ID},maxVisible:{number:ID},drawThreshold:{number:ID},__type__:{object:Iz,boolean:II}},customScalingFunction:{function:"function"},__type__:{object:Iz}},shadow:{enabled:{boolean:II},color:{string:IM},size:{number:ID},x:{number:ID},y:{number:ID},__type__:{object:Iz,boolean:II}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:II,array:Ij},borderRadius:{number:ID},interpolation:{boolean:II},useImageSize:{boolean:II},useBorderWithImage:{boolean:II},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Iz}},size:{number:ID},title:{string:IM,dom:"dom",undefined:"undefined"},value:{number:ID,undefined:"undefined"},widthConstraint:{minimum:{number:ID},maximum:{number:ID},__type__:{object:Iz,boolean:II,number:ID}},x:{number:ID},y:{number:ID},__type__:{object:Iz}},IB={configure:{enabled:{boolean:II},filter:{boolean:II,string:IM,array:Ij,function:"function"},container:{dom:"dom"},showButton:{boolean:II},__type__:{object:Iz,boolean:II,string:IM,array:Ij,function:"function"}},edges:{arrows:{to:{enabled:{boolean:II},scaleFactor:{number:ID},type:{string:IA},imageHeight:{number:ID},imageWidth:{number:ID},src:{string:IM},__type__:{object:Iz,boolean:II}},middle:{enabled:{boolean:II},scaleFactor:{number:ID},type:{string:IA},imageWidth:{number:ID},imageHeight:{number:ID},src:{string:IM},__type__:{object:Iz,boolean:II}},from:{enabled:{boolean:II},scaleFactor:{number:ID},type:{string:IA},imageWidth:{number:ID},imageHeight:{number:ID},src:{string:IM},__type__:{object:Iz,boolean:II}},__type__:{string:["from","to","middle"],object:Iz}},endPointOffset:{from:{number:ID},to:{number:ID},__type__:{object:Iz,number:ID}},arrowStrikethrough:{boolean:II},background:{enabled:{boolean:II},color:{string:IM},size:{number:ID},dashes:{boolean:II,array:Ij},__type__:{object:Iz,boolean:II}},chosen:{label:{boolean:II,function:"function"},edge:{boolean:II,function:"function"},__type__:{object:Iz,boolean:II}},color:{color:{string:IM},highlight:{string:IM},hover:{string:IM},inherit:{string:["from","to","both"],boolean:II},opacity:{number:ID},__type__:{object:Iz,string:IM}},dashes:{boolean:II,array:Ij},font:{color:{string:IM},size:{number:ID},face:{string:IM},background:{string:IM},strokeWidth:{number:ID},strokeColor:{string:IM},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:ID},multi:{boolean:II,string:IM},bold:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},boldital:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},ital:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},mono:{color:{string:IM},size:{number:ID},face:{string:IM},mod:{string:IM},vadjust:{number:ID},__type__:{object:Iz,string:IM}},__type__:{object:Iz,string:IM}},hidden:{boolean:II},hoverWidth:{function:"function",number:ID},label:{string:IM,undefined:"undefined"},labelHighlightBold:{boolean:II},length:{number:ID,undefined:"undefined"},physics:{boolean:II},scaling:{min:{number:ID},max:{number:ID},label:{enabled:{boolean:II},min:{number:ID},max:{number:ID},maxVisible:{number:ID},drawThreshold:{number:ID},__type__:{object:Iz,boolean:II}},customScalingFunction:{function:"function"},__type__:{object:Iz}},selectionWidth:{function:"function",number:ID},selfReferenceSize:{number:ID},selfReference:{size:{number:ID},angle:{number:ID},renderBehindTheNode:{boolean:II},__type__:{object:Iz}},shadow:{enabled:{boolean:II},color:{string:IM},size:{number:ID},x:{number:ID},y:{number:ID},__type__:{object:Iz,boolean:II}},smooth:{enabled:{boolean:II},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:ID},forceDirection:{string:["horizontal","vertical","none"],boolean:II},__type__:{object:Iz,boolean:II}},title:{string:IM,undefined:"undefined"},width:{number:ID},widthConstraint:{maximum:{number:ID},__type__:{object:Iz,boolean:II,number:ID}},value:{number:ID,undefined:"undefined"},__type__:{object:Iz}},groups:{useDefaultGroups:{boolean:II},__any__:IF,__type__:{object:Iz}},interaction:{dragNodes:{boolean:II},dragView:{boolean:II},hideEdgesOnDrag:{boolean:II},hideEdgesOnZoom:{boolean:II},hideNodesOnDrag:{boolean:II},hover:{boolean:II},keyboard:{enabled:{boolean:II},speed:{x:{number:ID},y:{number:ID},zoom:{number:ID},__type__:{object:Iz}},bindToWindow:{boolean:II},autoFocus:{boolean:II},__type__:{object:Iz,boolean:II}},multiselect:{boolean:II},navigationButtons:{boolean:II},selectable:{boolean:II},selectConnectedEdges:{boolean:II},hoverConnectedEdges:{boolean:II},tooltipDelay:{number:ID},zoomView:{boolean:II},zoomSpeed:{number:ID},__type__:{object:Iz}},layout:{randomSeed:{undefined:"undefined",number:ID,string:IM},improvedLayout:{boolean:II},clusterThreshold:{number:ID},hierarchical:{enabled:{boolean:II},levelSeparation:{number:ID},nodeSpacing:{number:ID},treeSpacing:{number:ID},blockShifting:{boolean:II},edgeMinimization:{boolean:II},parentCentralization:{boolean:II},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Iz,boolean:II}},__type__:{object:Iz}},manipulation:{enabled:{boolean:II},initiallyActive:{boolean:II},addNode:{boolean:II,function:"function"},addEdge:{boolean:II,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Iz,boolean:II,function:"function"}},deleteNode:{boolean:II,function:"function"},deleteEdge:{boolean:II,function:"function"},controlNodeStyle:IF,__type__:{object:Iz,boolean:II}},nodes:IF,physics:{enabled:{boolean:II},barnesHut:{theta:{number:ID},gravitationalConstant:{number:ID},centralGravity:{number:ID},springLength:{number:ID},springConstant:{number:ID},damping:{number:ID},avoidOverlap:{number:ID},__type__:{object:Iz}},forceAtlas2Based:{theta:{number:ID},gravitationalConstant:{number:ID},centralGravity:{number:ID},springLength:{number:ID},springConstant:{number:ID},damping:{number:ID},avoidOverlap:{number:ID},__type__:{object:Iz}},repulsion:{centralGravity:{number:ID},springLength:{number:ID},springConstant:{number:ID},nodeDistance:{number:ID},damping:{number:ID},__type__:{object:Iz}},hierarchicalRepulsion:{centralGravity:{number:ID},springLength:{number:ID},springConstant:{number:ID},nodeDistance:{number:ID},damping:{number:ID},avoidOverlap:{number:ID},__type__:{object:Iz}},maxVelocity:{number:ID},minVelocity:{number:ID},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:II},iterations:{number:ID},updateInterval:{number:ID},onlyDynamicEdges:{boolean:II},fit:{boolean:II},__type__:{object:Iz,boolean:II}},timestep:{number:ID},adaptiveTimestep:{boolean:II},wind:{x:{number:ID},y:{number:ID},__type__:{object:Iz}},__type__:{object:Iz,boolean:II}},autoResize:{boolean:II},clickToUse:{boolean:II},locale:{string:IM},locales:{__any__:{any:"any"},__type__:{object:Iz}},height:{string:IM},width:{string:IM},__type__:{object:Iz}},IR={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},IL=(t,e,i)=>{var o;return!!(CC(t).call(t,"physics")&&CC(o=IR.physics.solver).call(o,e))&&i.physics.solver!==e&&"wind"!==e};class IH{constructor(){}getDistances(t,e,i){let o={},r=t.edges;for(let t=0;t<e.length;t++){let i=e[t],r={};o[i]=r;for(let i=0;i<e.length;i++)r[e[i]]=t==i?0:1e9}for(let t=0;t<i.length;t++){let e=r[i[t]];!0===e.connected&&void 0!==o[e.fromId]&&void 0!==o[e.toId]&&(o[e.fromId][e.toId]=1,o[e.toId][e.fromId]=1)}let n=e.length;for(let t=0;t<n;t++){let i=e[t],r=o[i];for(let t=0;t<n-1;t++){let s=e[t],a=o[s];for(let l=t+1;l<n;l++){let t=e[l],n=o[t],d=Math.min(a[t],a[i]+r[t]);a[t]=d,n[s]=d}}}return o}}class IW{constructor(t,e,i){this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new IH}setOptions(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}solve(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();let r=0,n=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,l=0,d=0,h=0,c=0;for(;s>.01&&r<n;)for(r+=1,[a,s,l,d]=this._getHighestEnergyNode(i),h=s,c=0;h>1&&c<5;)c+=1,this._moveNode(a,l,d),[h,l,d]=this._getEnergy(a)}_getHighestEnergyNode(t){let e=this.body.nodeIndices,i=this.body.nodes,o=0,r=e[0],n=0,s=0;for(let a=0;a<e.length;a++){let l=e[a];if(!0!==i[l].predefinedPosition||!0===i[l].isCluster&&!0===t||!0!==i[l].options.fixed.x||!0!==i[l].options.fixed.y){let[t,e,i]=this._getEnergy(l);o<t&&(o=t,r=l,n=e,s=i)}}return[r,o,n,s]}_getEnergy(t){let[e,i]=this.E_sums[t];return[Math.sqrt(e**2+i**2),e,i]}_moveNode(t,e,i){let o=this.body.nodeIndices,r=this.body.nodes,n=0,s=0,a=0,l=r[t].x,d=r[t].y,h=this.K_matrix[t],c=this.L_matrix[t];for(let e=0;e<o.length;e++){let i=o[e];if(i!==t){let t=r[i].x,e=r[i].y,o=h[i],u=c[i],p=1/((l-t)**2+(d-e)**2)**1.5;n+=o*(1-u*(d-e)**2*p),s+=u*(l-t)*(d-e)*p*o,a+=o*(1-u*(l-t)**2*p)}}let u=n,p=s,f=(e/u+i/p)/(p/u-a/p);r[t].x+=-(p*f+e)/u,r[t].y+=f,this._updateE_matrix(t)}_createL_matrix(t){let e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(let r=0;r<e.length;r++)this.L_matrix[e[o]][e[r]]=i*t[e[o]][e[r]]}}_createK_matrix(t){let e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(let r=0;r<e.length;r++)this.K_matrix[e[o]][e[r]]=i*t[e[o]][e[r]]**-2}}_createE_matrix(){let t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(let e=0;e<t.length;e++)this.E_matrix[t[e]]=[];for(let i=0;i<t.length;i++){let o=t[i],r=e[o].x,n=e[o].y,s=0,a=0;for(let l=i;l<t.length;l++){let d=t[l];if(d!==o){let t=e[d].x,h=e[d].y,c=1/Math.sqrt((r-t)**2+(n-h)**2);this.E_matrix[o][l]=[this.K_matrix[o][d]*(r-t-this.L_matrix[o][d]*(r-t)*c),this.K_matrix[o][d]*(n-h-this.L_matrix[o][d]*(n-h)*c)],this.E_matrix[d][i]=this.E_matrix[o][l],s+=this.E_matrix[o][l][0],a+=this.E_matrix[o][l][1]}}this.E_sums[o]=[s,a]}}_updateE_matrix(t){let e=this.body.nodeIndices,i=this.body.nodes,o=this.E_matrix[t],r=this.K_matrix[t],n=this.L_matrix[t],s=i[t].x,a=i[t].y,l=0,d=0;for(let h=0;h<e.length;h++){let c=e[h];if(c!==t){let t=o[h],e=t[0],u=t[1],p=i[c].x,f=i[c].y,g=1/Math.sqrt((s-p)**2+(a-f)**2),m=r[c]*(s-p-n[c]*(s-p)*g),v=r[c]*(a-f-n[c]*(a-f)*g);o[h]=[m,v],l+=m,d+=v;let y=this.E_sums[c];y[0]+=m-e,y[1]+=v-u}}this.E_sums[t]=[l,d]}}function IU(t,e,i){var o,r,n,s;if(!(this instanceof IU))throw SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:P8,clickToUse:!1},Sg(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Sy(o=this.on).call(o,this),off:Sy(r=this.off).call(r,this),emit:Sy(n=this.emit).call(n,this),once:Sy(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new P7(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Nf,this.canvas=new M2(this.body),this.selectionHandler=new Iw(this.body,this.canvas),this.interactionHandler=new M6(this.body,this.canvas,this.selectionHandler),this.view=new M5(this.body,this.canvas),this.renderer=new MQ(this.body,this.canvas),this.physics=new Mq(this.body),this.layoutEngine=new IP(this.body),this.clustering=new MZ(this.body),this.manipulation=new IN(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Ma(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Mz(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new IW(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}function Iq({nodes:t,edges:e}){let i=(0,wG.useRef)(null);return((0,wG.useRef)(null),0===t.length)?(0,wX.jsx)("div",{className:"rounded-lg border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500",children:"No sitemap data available. Run the crawler to generate a sitemap visualization."}):(0,wX.jsx)("div",{className:"overflow-hidden rounded-lg border border-slate-200 bg-white shadow-sm",children:(0,wX.jsx)("div",{ref:i,className:"h-[600px] w-full"})})}SS(IU.prototype),IU.prototype.setOptions=function(t){if(null===t&&(t=void 0),void 0!==t){if(!0===PA.validate(t,IB)&&console.error("%cErrors have been found in the supplied options object.",Pz),Pp(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{let[o,r]=e.split(/[-_ /]/,2),n=null!=o?o.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(n&&s){var i;let e=n+"-"+s;if(Object.prototype.hasOwnProperty.call(t,e))return e;console.warn(CP(i="Unknown variant ".concat(s," of language ")).call(i,n,"."))}if(n){if(Object.prototype.hasOwnProperty.call(t,n))return n;console.warn("Unknown language ".concat(n))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new PI(this,this.body.container,IR,this.canvas.pixelRatio,IL)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){let t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Pg(t.nodes,this.nodesHandler.options),Pg(t.edges,this.edgesHandler.options),Pg(t.layout,this.layoutEngine.options),Pg(t.interaction,this.selectionHandler.options),Pg(t.interaction,this.renderer.options),Pg(t.interaction,this.interactionHandler.options),Pg(t.manipulation,this.manipulation.options),Pg(t.physics,this.physics.options),Pg(t.global,this.canvas.options),Pg(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new Pr(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},IU.prototype._updateVisibleIndices=function(){let t=this.body.nodes,e=this.body.edges;for(let e in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,e)&&!this.clustering._isClusteredNode(e)&&!1===t[e].options.hidden&&this.body.nodeIndices.push(t[e].id);for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let o=e[i],r=t[o.fromId],n=t[o.toId],s=void 0!==r&&void 0!==n;!this.clustering._isClusteredEdge(i)&&!1===o.options.hidden&&s&&!1===r.options.hidden&&!1===n.options.hidden&&this.body.edgeIndices.push(o.id)}},IU.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},IU.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");let e=function(t){var e=(PH=t,function(){var t={};if(PW=0,PU=PH.charAt(0),PQ(),"strict"===Pq&&(t.strict=!0,PQ()),("graph"===Pq||"digraph"===Pq)&&(t.type=Pq,PQ()),PV===PR.IDENTIFIER&&(t.id=Pq,PQ()),"{"!=Pq)throw P5("Angle bracket { expected");if(PQ(),PJ(t),"}"!=Pq)throw P5("Angle bracket } expected");if(PQ(),""!==Pq)throw P5("End of file expected");return PQ(),delete t.node,delete t.edge,delete t.graph,t}()),i={nodes:[],edges:[],options:{}};if(e.nodes&&CE(o=e.nodes).call(o,function(t){var e={id:t.id,label:String(t.label||t.id)};PK(e,P6(t.attr,PF)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var o,r,n=function(t){var e={from:t.from,to:t.to};return PK(e,P6(t.attr,PB)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};CE(r=e.edges).call(r,function(t){var e,o,r,s,a;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&CE(r=t.from.edges).call(r,function(t){var e=n(t);i.edges.push(e)}),a=function(e,o){var r=n(PZ(i,e.id,o.id,t.type,t.attr));i.edges.push(r)},Cy(e)?CE(e).call(e,function(t){Cy(o)?CE(o).call(o,function(e){a(t,e)}):a(t,o)}):Cy(o)?CE(o).call(o,function(t){a(e,t)}):a(e,o),t.to instanceof Object&&t.to.edges&&CE(s=t.to.edges).call(s,function(t){var e=n(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}(t.dot);this.setData(e);return}if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");let e=function(t,e){var i;let o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}},r=t.edges,n=Cb(r).call(r,t=>{let e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===o.edges.inheritColor&&(e.color=t.color),e});return{nodes:Cb(i=t.nodes).call(i,t=>{let e={id:t.id,fixed:o.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===o.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e}),edges:n}}(t.gephi);this.setData(e);return}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},IU.prototype.destroy=function(){for(let t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(let t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Pd(this.body.container)},IU.prototype._updateValueRange=function(t){let e,i,o;let r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let n=t[e].getValue();void 0!==n&&(i=void 0===i?n:Math.min(n,i),o=void 0===o?n:Math.max(n,o),r+=n)}if(void 0!==i&&void 0!==o)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,o,r)},IU.prototype.isActive=function(){return!this.activator||this.activator.active},IU.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},IU.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},IU.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},IU.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},IU.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},IU.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},IU.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},IU.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},IU.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},IU.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},IU.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},IU.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},IU.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},IU.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},IU.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},IU.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},IU.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},IU.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},IU.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},IU.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},IU.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},IU.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},IU.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},IU.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},IU.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},IU.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},IU.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},IU.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},IU.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},IU.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},IU.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},IU.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},IU.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},IU.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},IU.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},IU.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},IU.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},IU.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},IU.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},IU.prototype.getNodeAt=function(){let t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},IU.prototype.getEdgeAt=function(){let t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},IU.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},IU.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},IU.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},IU.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},IU.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},IU.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},IU.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},IU.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},IU.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},IU.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},IU.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t}},5538:(t,e,i)=>{"use strict";i.d(e,{StoryCard:()=>C});var o=i(5512),r=i(8009),n=i(1680);let s=(0,n.A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var a=i(6235),l=i(4339);let d=(0,n.A)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),h=(0,n.A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),c=(0,n.A)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),u=(0,n.A)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),p=(0,n.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),f=(0,n.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=i(8531),m=i.n(g),v=i(9020);let y=(t,e)=>{let i=(t&&t.trim().length>0?t:e).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return i.length>0?i:e.toLowerCase()},b={unverified:"bg-amber-100 text-amber-700 border border-amber-200",baseline:"bg-emerald-100 text-emerald-700 border border-emerald-200",outdated:"bg-rose-100 text-rose-700 border border-rose-200"},w={unverified:"Unverified",baseline:"Baseline",outdated:"Outdated"},x=({status:t})=>(0,o.jsx)("span",{className:(0,v.cn)("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold",b[t]),children:w[t]}),_=(0,n.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),E=(0,n.A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),O=(0,n.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k=({isOpen:t,onClose:e,specSlug:i,storyTitle:n,baselineAssertions:l})=>{let[d,h]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(null);if(!t)return null;let T=async()=>{if(!S)try{let t=await fetch(`/api/spec/${i}`);if(t.ok){let e=await t.text();C(e)}}catch{}},P=async()=>{if(!d.trim()){w("Please enter an instruction");return}u(!0),w(null),m(null);try{let t=await fetch(`/api/test/${i}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instruction:d.trim(),apply:!1,baselineAssertions:l})}),e=await t.json();e.success&&e.modified?m(e):w(e.error||e.message||"Failed to generate preview")}catch(t){w(t.message)}finally{u(!1)}},N=async()=>{if(d.trim()&&g&&g.modified){y(!0),w(null);try{let t=await fetch(`/api/test/${i}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instruction:d.trim(),apply:!0,baselineAssertions:g.modified})}),o=await t.json();o.success?(e(),window.location.reload()):w(o.error||o.message||"Failed to apply changes")}catch(t){w(t.message)}finally{y(!1)}}};x&&!S&&T();let M=g?.modified||l;return(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:e,children:(0,o.jsxs)("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-xl",onClick:t=>t.stopPropagation(),children:[(0,o.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-slate-50 px-6 py-4",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)(s,{className:"h-5 w-5 text-sparkier-primary"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Edit Test with AI"}),(0,o.jsx)("p",{className:"text-xs text-slate-600",children:n})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("button",{onClick:()=>{k(!x),x||T()},className:"flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-medium text-slate-700 transition hover:bg-slate-100",children:[x?(0,o.jsx)(_,{className:"h-4 w-4"}):(0,o.jsx)(E,{className:"h-4 w-4"}),x?"Hide Code":"Expert Mode"]}),(0,o.jsx)("button",{onClick:e,className:"rounded-lg p-1 text-slate-400 transition hover:bg-slate-200 hover:text-slate-600",children:(0,o.jsx)(O,{className:"h-5 w-5"})})]})]}),(0,o.jsxs)("div",{className:"flex flex-col overflow-hidden",style:{height:"calc(90vh - 80px)"},children:[(0,o.jsxs)("div",{className:"border-b border-slate-200 bg-white p-6",children:[(0,o.jsx)("label",{htmlFor:"instruction",className:"block text-sm font-medium text-slate-700 mb-2",children:"What would you like to change?"}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("input",{id:"instruction",type:"text",value:d,onChange:t=>h(t.target.value),onKeyDown:t=>{"Enter"!==t.key||t.shiftKey||c||(t.preventDefault(),P())},placeholder:"e.g., remove the navigation link check, change the CTA to 'Login' instead, add a check for the page title",className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-sm focus:border-sparkier-primary focus:outline-none focus:ring-2 focus:ring-sparkier-primary/20",disabled:c||v}),(0,o.jsx)("button",{onClick:P,disabled:c||v||!d.trim(),className:"rounded-lg bg-sparkier-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-sparkier-primary/90 disabled:cursor-not-allowed disabled:opacity-50",children:c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.A,{className:"mr-2 inline h-4 w-4 animate-spin"}),"Generating..."]}):"Preview"})]}),b&&(0,o.jsxs)("div",{className:"mt-3 flex items-center gap-2 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-700",children:[(0,o.jsx)(f,{className:"h-4 w-4"}),b]})]}),(0,o.jsx)("div",{className:"flex-1 overflow-auto bg-slate-50 p-6",children:x&&S?(0,o.jsx)("div",{className:"space-y-4",children:(0,o.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white",children:[(0,o.jsx)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-slate-50 px-4 py-2",children:(0,o.jsx)("h3",{className:"text-sm font-semibold text-slate-700",children:"Playwright Test Code (Expert Mode)"})}),(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsx)("pre",{className:"p-4 text-xs font-mono",children:(0,o.jsx)("code",{className:"text-slate-800",children:S})})})]})}):g?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white",children:[(0,o.jsxs)("div",{className:"border-b border-slate-200 bg-slate-50 px-4 py-2",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold text-slate-700",children:"Baseline Assertions"}),(0,o.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"These are the checks that will be validated"})]}),(0,o.jsxs)("div",{className:"p-4 space-y-2",children:[M.map((t,e)=>{let i=g.original&&g.original[e]!==t,r=g.original&&!M.includes(g.original[e]),n=!g.original||!g.original.includes(t);return(0,o.jsxs)("div",{className:`flex items-start gap-3 rounded-lg border p-3 ${i||n?"border-emerald-300 bg-emerald-50":r?"border-red-300 bg-red-50":"border-slate-200 bg-slate-50"}`,children:[(0,o.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:i||n?(0,o.jsx)(p,{className:"h-4 w-4 text-emerald-600"}):r?(0,o.jsx)(O,{className:"h-4 w-4 text-red-600"}):(0,o.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-slate-300"})}),(0,o.jsx)("p",{className:"flex-1 text-sm text-slate-700",children:t})]},e)}),g.original&&g.original.filter(t=>!M.includes(t)).map((t,e)=>(0,o.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border border-red-300 bg-red-50 p-3 opacity-60",children:[(0,o.jsx)(O,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),(0,o.jsx)("p",{className:"flex-1 text-sm text-slate-700 line-through",children:t})]},`removed-${e}`))]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,o.jsx)("button",{onClick:()=>{h(""),m(null),w(null)},className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",disabled:v,children:"Reset"}),(0,o.jsx)("button",{onClick:N,disabled:v,className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-50",children:v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.A,{className:"h-4 w-4 animate-spin"}),"Applying..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{className:"h-4 w-4"}),"Apply Changes"]})})]})]}):(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white",children:[(0,o.jsxs)("div",{className:"border-b border-slate-200 bg-slate-50 px-4 py-2",children:[(0,o.jsx)("h3",{className:"text-sm font-semibold text-slate-700",children:"Current Baseline Assertions"}),(0,o.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"These checks will be validated when the test runs"})]}),(0,o.jsx)("div",{className:"p-4 space-y-2",children:l.map((t,e)=>(0,o.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[(0,o.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,o.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-slate-300"})}),(0,o.jsx)("p",{className:"flex-1 text-sm text-slate-700",children:t})]},e))})]}),(0,o.jsx)("div",{className:"flex h-full items-center justify-center text-center",children:(0,o.jsxs)("div",{className:"text-slate-400",children:[(0,o.jsx)(s,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),(0,o.jsx)("p",{className:"text-sm",children:"Enter an instruction and click Preview to see changes"})]})})]})})]})]})})},S={interaction:"border-sparkier-primary/60 shadow-sparkier-primary/20",browsing:"border-slate-200 shadow-slate-200",authentication:"border-amber-300 shadow-amber-200",complex:"border-rose-300 shadow-rose-200"},C=({story:t})=>{let[e,i]=(0,r.useState)(!1),[n,g]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1),_=async()=>{i(!0),g(null);try{let e=await fetch(`/api/test/${t.specSlug}/assertions`,{method:"POST"}),i=await e.json();g(i)}catch(t){g({success:!1,message:"Failed to run test",error:t.message})}finally{i(!1)}};return(0,o.jsxs)("article",{className:(0,v.cn)("rounded-2xl border bg-white p-6 shadow-sm transition hover:shadow-card",S[t.kind],"shadow-sm"),children:[(0,o.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("span",{className:"rounded-full bg-sparkier-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-sparkier-primary",children:t.kind}),(0,o.jsx)(x,{status:t.verificationStatus})]}),(0,o.jsx)("h3",{className:"mt-3 text-2xl font-semibold text-slate-900",children:t.title}),(0,o.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:t.description})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 rounded-full bg-sparkier-primary px-3 py-1 text-xs font-medium text-white shadow-sm transition hover:bg-sparkier-primary/90",children:[(0,o.jsx)(s,{className:"h-3.5 w-3.5","aria-hidden":!0}),"Edit with AI"]}),(0,o.jsxs)("button",{onClick:_,disabled:e,className:(0,v.cn)("inline-flex items-center gap-2 rounded-full bg-emerald-600 px-3 py-1 text-xs font-medium text-white shadow-sm transition hover:bg-emerald-700",e&&"cursor-not-allowed opacity-60"),children:[e?(0,o.jsx)(a.A,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":!0}):(0,o.jsx)(l.A,{className:"h-3.5 w-3.5","aria-hidden":!0}),e?"Running...":"Run Test"]}),(0,o.jsxs)(m(),{href:t.specHref,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:border-sparkier-primary hover:text-sparkier-primary",target:"_blank",rel:"noreferrer",children:[(0,o.jsx)(d,{className:"h-3.5 w-3.5","aria-hidden":!0}),"View Spec Skeleton"]}),(0,o.jsxs)("a",{href:t.entryUrl,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:border-sparkier-primary hover:text-sparkier-primary",target:"_blank",rel:"noreferrer",children:[(0,o.jsx)(h,{className:"h-3.5 w-3.5","aria-hidden":!0}),"Source Page"]})]})]}),(0,o.jsxs)("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("h4",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[(0,o.jsx)(c,{className:"h-4 w-4 text-sparkier-primary","aria-hidden":!0})," Expected Outcome"]}),(0,o.jsx)("p",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700",children:t.expectedOutcome}),t.primaryCtaLabel?(0,o.jsxs)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Primary CTA: ",t.primaryCtaLabel]}):null]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("h4",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700",children:[(0,o.jsx)(u,{className:"h-4 w-4 text-sparkier-secondary","aria-hidden":!0})," Baseline Assertions"]}),(0,o.jsx)("ul",{className:"space-y-2 text-sm text-slate-700",children:t.baselineAssertions.map(t=>(0,o.jsx)("li",{className:"rounded-lg border border-slate-200 bg-slate-50 p-2",children:t},y(t,t)))})]})]}),(0,o.jsxs)("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"mb-2 text-sm font-semibold text-slate-700",children:"Playwright Outline"}),(0,o.jsx)("pre",{className:"max-h-64 overflow-auto rounded-lg border border-slate-200 bg-slate-900/95 p-4 text-xs text-slate-100",children:t.playwrightOutline.join("\n")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"mb-2 text-sm font-semibold text-slate-700",children:"Repeatability Notes"}),(0,o.jsx)("ul",{className:"space-y-2 text-sm text-slate-700",children:t.repeatabilityNotes.map(t=>(0,o.jsx)("li",{className:"rounded-lg border border-dashed border-slate-200 bg-white p-3",children:t},y(t,t)))})]})]}),n&&(0,o.jsxs)("div",{className:"mt-6",children:[(0,o.jsx)("h4",{className:"mb-3 text-sm font-semibold text-slate-700",children:"Test Results"}),(0,o.jsxs)("div",{className:(0,v.cn)("rounded-lg border p-4 text-sm",n.success?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-rose-300 bg-rose-50 text-rose-700"),children:[(0,o.jsx)("p",{className:"font-semibold",children:n.message}),n.error&&(0,o.jsx)("p",{className:"mt-2 text-xs",children:n.error}),n.assertionResults&&n.assertionResults.length>0&&(0,o.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,o.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide opacity-75",children:"Assertion Results"}),n.assertionResults.map((t,e)=>(0,o.jsxs)("div",{className:(0,v.cn)("flex items-start gap-3 rounded-lg border p-3",t.passed?"border-emerald-200 bg-emerald-100/50":"border-rose-200 bg-rose-100/50"),children:[(0,o.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:t.passed?(0,o.jsx)(p,{className:"h-4 w-4 text-emerald-600"}):(0,o.jsx)(f,{className:"h-4 w-4 text-rose-600"})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:(0,v.cn)("text-xs",t.passed?"text-emerald-800":"text-rose-800"),children:t.assertion}),t.error&&(0,o.jsx)("p",{className:"mt-1 text-xs text-rose-600",children:t.error})]})]},e))]}),n.output&&(0,o.jsx)("pre",{className:"mt-3 max-h-72 overflow-auto rounded bg-white/80 p-3 text-xs text-slate-800",children:n.output.trim()})]})]}),(0,o.jsx)(k,{isOpen:b,onClose:()=>w(!1),specSlug:t.specSlug,storyTitle:t.title,baselineAssertions:t.baselineAssertions})]})}},9020:(t,e,i)=>{"use strict";i.d(e,{cn:()=>$});let o=t=>{let e=a(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:t=>{let i=t.split("-");return""===i[0]&&1!==i.length&&i.shift(),r(i,e)||s(t)},getConflictingClassGroupIds:(t,e)=>{let r=i[t]||[];return e&&o[t]?[...r,...o[t]]:r}}},r=(t,e)=>{if(0===t.length)return e.classGroupId;let i=t[0],o=e.nextPart.get(i),n=o?r(t.slice(1),o):void 0;if(n)return n;if(0===e.validators.length)return;let s=t.join("-");return e.validators.find(({validator:t})=>t(s))?.classGroupId},n=/^\[(.+)\]$/,s=t=>{if(n.test(t)){let e=n.exec(t)[1],i=e?.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},a=t=>{let{theme:e,prefix:i}=t,o={nextPart:new Map,validators:[]};return c(Object.entries(t.classGroups),i).forEach(([t,i])=>{l(i,o,t,e)}),o},l=(t,e,i,o)=>{t.forEach(t=>{if("string"==typeof t){(""===t?e:d(e,t)).classGroupId=i;return}if("function"==typeof t){if(h(t)){l(t(o),e,i,o);return}e.validators.push({validator:t,classGroupId:i});return}Object.entries(t).forEach(([t,r])=>{l(r,d(e,t),i,o)})})},d=(t,e)=>{let i=t;return e.split("-").forEach(t=>{i.nextPart.has(t)||i.nextPart.set(t,{nextPart:new Map,validators:[]}),i=i.nextPart.get(t)}),i},h=t=>t.isThemeGetter,c=(t,e)=>e?t.map(([t,i])=>[t,i.map(t=>"string"==typeof t?e+t:"object"==typeof t?Object.fromEntries(Object.entries(t).map(([t,i])=>[e+t,i])):t)]):t,u=t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let e=0,i=new Map,o=new Map,r=(r,n)=>{i.set(r,n),++e>t&&(e=0,o=i,i=new Map)};return{get(t){let e=i.get(t);return void 0!==e?e:void 0!==(e=o.get(t))?(r(t,e),e):void 0},set(t,e){i.has(t)?i.set(t,e):r(t,e)}}},p=t=>{let{separator:e,experimentalParseClassName:i}=t,o=1===e.length,r=e[0],n=e.length,s=t=>{let i;let s=[],a=0,l=0;for(let d=0;d<t.length;d++){let h=t[d];if(0===a){if(h===r&&(o||t.slice(d,d+n)===e)){s.push(t.slice(l,d)),l=d+n;continue}if("/"===h){i=d;continue}}"["===h?a++:"]"===h&&a--}let d=0===s.length?t:t.substring(l),h=d.startsWith("!"),c=h?d.substring(1):d;return{modifiers:s,hasImportantModifier:h,baseClassName:c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return i?t=>i({className:t,parseClassName:s}):s},f=t=>{if(t.length<=1)return t;let e=[],i=[];return t.forEach(t=>{"["===t[0]?(e.push(...i.sort(),t),i=[]):i.push(t)}),e.push(...i.sort()),e},g=t=>({cache:u(t.cacheSize),parseClassName:p(t),...o(t)}),m=/\s+/,v=(t,e)=>{let{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:r}=e,n=[],s=t.trim().split(m),a="";for(let t=s.length-1;t>=0;t-=1){let e=s[t],{modifiers:l,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:c}=i(e),u=!!c,p=o(u?h.substring(0,c):h);if(!p){if(!u||!(p=o(h))){a=e+(a.length>0?" "+a:a);continue}u=!1}let g=f(l).join(":"),m=d?g+"!":g,v=m+p;if(n.includes(v))continue;n.push(v);let y=r(p,u);for(let t=0;t<y.length;++t){let e=y[t];n.push(m+e)}a=e+(a.length>0?" "+a:a)}return a};function y(){let t,e,i=0,o="";for(;i<arguments.length;)(t=arguments[i++])&&(e=b(t))&&(o&&(o+=" "),o+=e);return o}let b=t=>{let e;if("string"==typeof t)return t;let i="";for(let o=0;o<t.length;o++)t[o]&&(e=b(t[o]))&&(i&&(i+=" "),i+=e);return i},w=t=>{let e=e=>e[t]||[];return e.isThemeGetter=!0,e},x=/^\[(?:([a-z-]+):)?(.+)\]$/i,_=/^\d+\/\d+$/,E=new Set(["px","full","screen"]),O=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,P=t=>M(t)||E.has(t)||_.test(t),N=t=>q(t,"length",V),M=t=>!!t&&!Number.isNaN(Number(t)),I=t=>q(t,"number",M),D=t=>!!t&&Number.isInteger(Number(t)),j=t=>t.endsWith("%")&&M(t.slice(0,-1)),z=t=>x.test(t),A=t=>O.test(t),F=new Set(["length","size","percentage"]),B=t=>q(t,F,Y),R=t=>q(t,"position",Y),L=new Set(["image","url"]),H=t=>q(t,L,G),W=t=>q(t,"",X),U=()=>!0,q=(t,e,i)=>{let o=x.exec(t);return!!o&&(o[1]?"string"==typeof e?o[1]===e:e.has(o[1]):i(o[2]))},V=t=>k.test(t)&&!S.test(t),Y=()=>!1,X=t=>C.test(t),G=t=>T.test(t);Symbol.toStringTag;let K=function(t,...e){let i,o,r;let n=function(a){return o=(i=g(e.reduce((t,e)=>e(t),t()))).cache.get,r=i.cache.set,n=s,s(a)};function s(t){let e=o(t);if(e)return e;let n=v(t,i);return r(t,n),n}return function(){return n(y.apply(null,arguments))}}(()=>{let t=w("colors"),e=w("spacing"),i=w("blur"),o=w("brightness"),r=w("borderColor"),n=w("borderRadius"),s=w("borderSpacing"),a=w("borderWidth"),l=w("contrast"),d=w("grayscale"),h=w("hueRotate"),c=w("invert"),u=w("gap"),p=w("gradientColorStops"),f=w("gradientColorStopPositions"),g=w("inset"),m=w("margin"),v=w("opacity"),y=w("padding"),b=w("saturate"),x=w("scale"),_=w("sepia"),E=w("skew"),O=w("space"),k=w("translate"),S=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",z,e],F=()=>[z,e],L=()=>["",P,N],q=()=>["auto",M,z],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",z],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[M,z];return{cacheSize:500,separator:":",theme:{colors:[U],spacing:[P,N],blur:["none","",A,z],brightness:Z(),borderColor:[t],borderRadius:["none","","full",A,z],borderSpacing:F(),borderWidth:L(),contrast:Z(),grayscale:K(),hueRotate:Z(),invert:K(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[j,N],inset:T(),margin:T(),opacity:Z(),padding:F(),saturate:Z(),scale:Z(),sepia:K(),skew:Z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",z]}],container:["container"],columns:[{columns:[A]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),z]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D,z]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",z]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",D,z]}],"grid-cols":[{"grid-cols":[U]}],"col-start-end":[{col:["auto",{span:["full",D,z]},z]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[U]}],"row-start-end":[{row:["auto",{span:[D,z]},z]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",z]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",z,e]}],"min-w":[{"min-w":[z,e,"min","max","fit"]}],"max-w":[{"max-w":[z,e,"none","full","min","max","fit","prose",{screen:[A]},A]}],h:[{h:[z,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[z,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[z,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[z,e,"auto","min","max","fit"]}],"font-size":[{text:["base",A,N]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",I]}],"font-family":[{font:[U]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",z]}],"line-clamp":[{"line-clamp":["none",M,I]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",P,z]}],"list-image":[{"list-image":["none",z]}],"list-style-type":[{list:["none","disc","decimal",z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",P,N]}],"underline-offset":[{"underline-offset":["auto",P,z]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),R]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Y()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[P,z]}],"outline-w":[{outline:[P,N]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[P,N]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",A,W]}],"shadow-color":[{shadow:[U]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",A,z]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[c]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",z]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",z]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[D,z]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",z]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",z]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",z]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[P,N,I]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),$=(...t)=>K(function(){for(var t,e,i=0,o="",r=arguments.length;i<r;i++)(t=arguments[i])&&(e=function t(e){var i,o,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e){if(Array.isArray(e)){var n=e.length;for(i=0;i<n;i++)e[i]&&(o=t(e[i]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o)}return r}(t))&&(o&&(o+=" "),o+=e);return o}(t))},9607:(t,e,i)=>{let{createProxy:o}=i(3439);t.exports=o("/Users/baptiste/Sites/testingapp/node_modules/next/dist/client/app-dir/link.js")},2183:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>tP,dynamic:()=>tC,revalidate:()=>tT});var o=i(2740),r=i(6301);let n=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=(...t)=>t.filter((t,e,i)=>!!t&&""!==t.trim()&&i.indexOf(t)===e).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:n="",children:l,iconNode:d,...h},c)=>(0,r.createElement)("svg",{ref:c,...a,width:e,height:e,stroke:t,strokeWidth:o?24*Number(i)/Number(e):i,className:s("lucide",n),...h},[...d.map(([t,e])=>(0,r.createElement)(t,e)),...Array.isArray(l)?l:[l]])),d=(t,e)=>{let i=(0,r.forwardRef)(({className:i,...o},a)=>(0,r.createElement)(l,{ref:a,iconNode:e,className:s(`lucide-${n(t)}`,i),...o}));return i.displayName=`${t}`,i},h=d("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),c=d("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),u=d("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),p=d("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var f=i(9607),g=i.n(f),m=i(1455),v=i(4379);let y=(t,e)=>{let i=(t&&t.trim().length>0?t:e).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return i.length>0?i:e.toLowerCase()},b=(0,v.join)(process.cwd(),"output"),w=(0,v.join)(b,"user-stories.json"),x=(0,v.join)(b,"site-map.json"),_=()=>({byKind:{authentication:0,browsing:0,complex:0,interaction:0},unverified:0,pageCount:0}),E=async(t,e)=>{try{let i=await (0,m.readFile)(t,"utf8"),o=JSON.parse(i);return console.info(`[storyData] Loaded ${e} (${t})`),o}catch(i){return console.warn(`[storyData] Failed to load ${e} (${t}):`,i.message),null}},O=async()=>{try{let t=await (0,m.stat)(w);return`Generated ${t.mtime.toLocaleString()}`}catch{return"No crawl artifacts detected"}},k=t=>{let e=y(t.suggestedScriptName,t.id);return{specSlug:e,specHref:`/api/spec/${e}`}},S=async()=>{let t=await E(w,"stories")??[],e=await E(x,"site-map")??{baseUrl:"Unknown source",pages:[],edges:[]};console.info("[storyData] Story count",t.length);let i=t.reduce((t,e)=>(t.byKind[e.kind]+=1,"baseline"!==e.verificationStatus&&(t.unverified+=1),t),_());i.pageCount=e.pages.length;let o=[...t].sort((t,e)=>t.verificationStatus===e.verificationStatus?t.title.localeCompare(e.title):"baseline"===t.verificationStatus?-1:1),r=new Map,n=new Set;e.pages.forEach(t=>n.add(t.url)),e.edges.forEach(t=>{t.targets.forEach(t=>n.add(t))}),n.forEach(t=>{let e=new URL(t).pathname.split("/").filter(Boolean);0===e.length?r.set("home",(r.get("home")||0)+1):(e.length,r.set(e[0],(r.get(e[0])||0)+1))});let s=e.pages.filter(t=>{let e=new URL(t.url).pathname.split("/").filter(Boolean);if(0===e.length)return!0;let i=e[0];return 3>(r.get(i)||0)||1===e.length}).map(t=>{let e;let i=new URL(t.url).pathname.split("/").filter(Boolean);if(0===i.length)e="Home";else{let t=i[0];if((r.get(t)||0)>=3&&i.length>1)return null;e=i[i.length-1]}return{id:t.url,label:e.substring(0,40),url:t.url}}).filter(t=>null!==t);r.forEach((t,e)=>{if(t>=3&&!s.some(t=>{let i=new URL(t.url).pathname.split("/").filter(Boolean);return i[0]===e&&1===i.length})){let i=Array.from(n).find(t=>{let i=new URL(t).pathname.split("/").filter(Boolean);return i.length>0&&i[0]===e});i&&s.push({id:`/${e}/`,label:`${e} (${t} pages)`,url:i})}});let a=e.edges.flatMap(t=>t.targets.map(e=>{let i=l(t.source),o=l(e);return i&&o&&i!==t.source&&o!==e?{from:i,to:o}:{from:t.source,to:e}})).filter((t,e,i)=>{let o=`${t.from}->${t.to}`;return i.findIndex(t=>`${t.from}->${t.to}`===o)===e});function l(t){let e=new URL(t).pathname.split("/").filter(Boolean);if(0===e.length)return null;let i=e[0];return(r.get(i)||0)>=3?`/${i}/`:null}return{baseUrl:e.baseUrl,storyCount:t.length,generatedAtLabel:await O(),summary:i,stories:o.map(t=>({...t,...k(t)})),sitemapNodes:s,sitemapEdges:a}};var C=i(6186);let T=t=>{let e=I(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:t=>{let i=t.split("-");return""===i[0]&&1!==i.length&&i.shift(),P(i,e)||M(t)},getConflictingClassGroupIds:(t,e)=>{let r=i[t]||[];return e&&o[t]?[...r,...o[t]]:r}}},P=(t,e)=>{if(0===t.length)return e.classGroupId;let i=t[0],o=e.nextPart.get(i),r=o?P(t.slice(1),o):void 0;if(r)return r;if(0===e.validators.length)return;let n=t.join("-");return e.validators.find(({validator:t})=>t(n))?.classGroupId},N=/^\[(.+)\]$/,M=t=>{if(N.test(t)){let e=N.exec(t)[1],i=e?.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},I=t=>{let{theme:e,prefix:i}=t,o={nextPart:new Map,validators:[]};return A(Object.entries(t.classGroups),i).forEach(([t,i])=>{D(i,o,t,e)}),o},D=(t,e,i,o)=>{t.forEach(t=>{if("string"==typeof t){(""===t?e:j(e,t)).classGroupId=i;return}if("function"==typeof t){if(z(t)){D(t(o),e,i,o);return}e.validators.push({validator:t,classGroupId:i});return}Object.entries(t).forEach(([t,r])=>{D(r,j(e,t),i,o)})})},j=(t,e)=>{let i=t;return e.split("-").forEach(t=>{i.nextPart.has(t)||i.nextPart.set(t,{nextPart:new Map,validators:[]}),i=i.nextPart.get(t)}),i},z=t=>t.isThemeGetter,A=(t,e)=>e?t.map(([t,i])=>[t,i.map(t=>"string"==typeof t?e+t:"object"==typeof t?Object.fromEntries(Object.entries(t).map(([t,i])=>[e+t,i])):t)]):t,F=t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let e=0,i=new Map,o=new Map,r=(r,n)=>{i.set(r,n),++e>t&&(e=0,o=i,i=new Map)};return{get(t){let e=i.get(t);return void 0!==e?e:void 0!==(e=o.get(t))?(r(t,e),e):void 0},set(t,e){i.has(t)?i.set(t,e):r(t,e)}}},B=t=>{let{separator:e,experimentalParseClassName:i}=t,o=1===e.length,r=e[0],n=e.length,s=t=>{let i;let s=[],a=0,l=0;for(let d=0;d<t.length;d++){let h=t[d];if(0===a){if(h===r&&(o||t.slice(d,d+n)===e)){s.push(t.slice(l,d)),l=d+n;continue}if("/"===h){i=d;continue}}"["===h?a++:"]"===h&&a--}let d=0===s.length?t:t.substring(l),h=d.startsWith("!"),c=h?d.substring(1):d;return{modifiers:s,hasImportantModifier:h,baseClassName:c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return i?t=>i({className:t,parseClassName:s}):s},R=t=>{if(t.length<=1)return t;let e=[],i=[];return t.forEach(t=>{"["===t[0]?(e.push(...i.sort(),t),i=[]):i.push(t)}),e.push(...i.sort()),e},L=t=>({cache:F(t.cacheSize),parseClassName:B(t),...T(t)}),H=/\s+/,W=(t,e)=>{let{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:r}=e,n=[],s=t.trim().split(H),a="";for(let t=s.length-1;t>=0;t-=1){let e=s[t],{modifiers:l,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:c}=i(e),u=!!c,p=o(u?h.substring(0,c):h);if(!p){if(!u||!(p=o(h))){a=e+(a.length>0?" "+a:a);continue}u=!1}let f=R(l).join(":"),g=d?f+"!":f,m=g+p;if(n.includes(m))continue;n.push(m);let v=r(p,u);for(let t=0;t<v.length;++t){let e=v[t];n.push(g+e)}a=e+(a.length>0?" "+a:a)}return a};function U(){let t,e,i=0,o="";for(;i<arguments.length;)(t=arguments[i++])&&(e=q(t))&&(o&&(o+=" "),o+=e);return o}let q=t=>{let e;if("string"==typeof t)return t;let i="";for(let o=0;o<t.length;o++)t[o]&&(e=q(t[o]))&&(i&&(i+=" "),i+=e);return i},V=t=>{let e=e=>e[t]||[];return e.isThemeGetter=!0,e},Y=/^\[(?:([a-z-]+):)?(.+)\]$/i,X=/^\d+\/\d+$/,G=new Set(["px","full","screen"]),K=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tt=t=>ti(t)||G.has(t)||X.test(t),te=t=>tg(t,"length",tm),ti=t=>!!t&&!Number.isNaN(Number(t)),to=t=>tg(t,"number",ti),tr=t=>!!t&&Number.isInteger(Number(t)),tn=t=>t.endsWith("%")&&ti(t.slice(0,-1)),ts=t=>Y.test(t),ta=t=>K.test(t),tl=new Set(["length","size","percentage"]),td=t=>tg(t,tl,tv),th=t=>tg(t,"position",tv),tc=new Set(["image","url"]),tu=t=>tg(t,tc,tb),tp=t=>tg(t,"",ty),tf=()=>!0,tg=(t,e,i)=>{let o=Y.exec(t);return!!o&&(o[1]?"string"==typeof e?o[1]===e:e.has(o[1]):i(o[2]))},tm=t=>$.test(t)&&!Z.test(t),tv=()=>!1,ty=t=>Q.test(t),tb=t=>J.test(t);Symbol.toStringTag;let tw=function(t,...e){let i,o,r;let n=function(a){return o=(i=L(e.reduce((t,e)=>e(t),t()))).cache.get,r=i.cache.set,n=s,s(a)};function s(t){let e=o(t);if(e)return e;let n=W(t,i);return r(t,n),n}return function(){return n(U.apply(null,arguments))}}(()=>{let t=V("colors"),e=V("spacing"),i=V("blur"),o=V("brightness"),r=V("borderColor"),n=V("borderRadius"),s=V("borderSpacing"),a=V("borderWidth"),l=V("contrast"),d=V("grayscale"),h=V("hueRotate"),c=V("invert"),u=V("gap"),p=V("gradientColorStops"),f=V("gradientColorStopPositions"),g=V("inset"),m=V("margin"),v=V("opacity"),y=V("padding"),b=V("saturate"),w=V("scale"),x=V("sepia"),_=V("skew"),E=V("space"),O=V("translate"),k=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",ts,e],T=()=>[ts,e],P=()=>["",tt,te],N=()=>["auto",ti,ts],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ts],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[ti,ts];return{cacheSize:500,separator:":",theme:{colors:[tf],spacing:[tt,te],blur:["none","",ta,ts],brightness:F(),borderColor:[t],borderRadius:["none","","full",ta,ts],borderSpacing:T(),borderWidth:P(),contrast:F(),grayscale:z(),hueRotate:F(),invert:z(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[tn,te],inset:C(),margin:C(),opacity:F(),padding:T(),saturate:F(),scale:F(),sepia:z(),skew:F(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ts]}],container:["container"],columns:[{columns:[ta]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ts]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tr,ts]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ts]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",tr,ts]}],"grid-cols":[{"grid-cols":[tf]}],"col-start-end":[{col:["auto",{span:["full",tr,ts]},ts]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[tf]}],"row-start-end":[{row:["auto",{span:[tr,ts]},ts]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ts]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ts]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ts,e]}],"min-w":[{"min-w":[ts,e,"min","max","fit"]}],"max-w":[{"max-w":[ts,e,"none","full","min","max","fit","prose",{screen:[ta]},ta]}],h:[{h:[ts,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ts,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ts,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ts,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ta,te]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",to]}],"font-family":[{font:[tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ts]}],"line-clamp":[{"line-clamp":["none",ti,to]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tt,ts]}],"list-image":[{"list-image":["none",ts]}],"list-style-type":[{list:["none","disc","decimal",ts]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tt,te]}],"underline-offset":[{"underline-offset":["auto",tt,ts]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ts]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ts]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),th]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",td]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[tt,ts]}],"outline-w":[{outline:[tt,te]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tt,te]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ta,tp]}],"shadow-color":[{shadow:[tf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ta,ts]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[c]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ts]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ts]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ts]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[tr,ts]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ts]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ts]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ts]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tt,te,to]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),tx=(...t)=>tw(function(){for(var t,e,i=0,o="",r=arguments.length;i<r;i++)(t=arguments[i])&&(e=function t(e){var i,o,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e){if(Array.isArray(e)){var n=e.length;for(i=0;i<n;i++)e[i]&&(o=t(e[i]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o)}return r}(t))&&(o&&(o+=" "),o+=e);return o}(t)),t_={primary:"border-sparkier-primary/20 bg-sparkier-primary/10 text-sparkier-primary",secondary:"border-sparkier-secondary/20 bg-sparkier-secondary/10 text-sparkier-secondary",warning:"border-amber-400/30 bg-amber-100 text-amber-600",muted:"border-slate-200 bg-white text-slate-500"},tE=({icon:t,label:e,value:i,tone:r="muted"})=>(0,o.jsxs)("article",{className:tx("flex items-center gap-4 rounded-xl border px-4 py-3 shadow-sm transition hover:shadow-card",t_[r]),children:[(0,o.jsx)("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/60",children:(0,o.jsx)(t,{className:"h-6 w-6","aria-hidden":!0})}),(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:e}),(0,o.jsx)("span",{className:"text-lg font-semibold",children:i})]})]}),tO=({title:t,subtitle:e,className:i})=>(0,o.jsxs)("div",{className:tx("flex flex-col gap-1",i),children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:t}),e?(0,o.jsx)("p",{className:"text-sm text-slate-600",children:e}):null]});var tk=i(5722),tS=i(5758);let tC="force-dynamic",tT=0;async function tP(){let t=await S();return(0,o.jsxs)("main",{className:"mx-auto flex min-h-screen max-w-6xl flex-col gap-8 px-4 pb-16 pt-12 sm:px-6 lg:px-8",children:[(0,o.jsxs)("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Sparkier Regression Dashboard"}),(0,o.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Generated from the latest automated crawl. Review baseline assertions, CTA coverage, and Playwright skeletons before pushing your next deployment."})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[(0,o.jsx)(h,{className:"h-4 w-4","aria-hidden":!0}),(0,o.jsx)("span",{children:t.generatedAtLabel})]})]}),(0,o.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,o.jsx)(tE,{icon:c,label:"Total Stories",value:t.storyCount,tone:"primary"}),(0,o.jsx)(tE,{icon:u,label:"Story Types",value:`${t.summary.byKind.interaction} INT / ${t.summary.byKind.browsing} BRW / ${t.summary.byKind.authentication} AUTH / ${t.summary.byKind.complex} CPLX`,tone:"secondary"}),(0,o.jsx)(tE,{icon:p,label:"Unverified",value:t.summary.unverified.toString(),tone:"warning"}),(0,o.jsx)(tE,{icon:c,label:"Pages Crawled",value:t.summary.pageCount.toString(),tone:"muted"})]}),(0,o.jsx)(tO,{title:"Sitemap Visualization",subtitle:"Interactive network graph showing the structure and relationships between crawled pages."}),(0,o.jsx)(tS.SitemapVisualizer,{nodes:t.sitemapNodes,edges:t.sitemapEdges}),(0,o.jsx)(tO,{title:"Run a Crawl",subtitle:"Trigger the CLI without leaving the dashboard. Results refresh automatically when the crawl completes."}),(0,o.jsx)(C.CrawlLauncher,{defaultUrl:"Unknown source"===t.baseUrl?"https://www.sparkier.io":t.baseUrl}),(0,o.jsx)(tO,{title:"User Stories",subtitle:"Drill into each flow to view expected outcomes, assertions, and generated Playwright steps."}),0===t.stories.length?(0,o.jsx)("p",{className:"rounded-lg border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500",children:"No user stories were found. Run the crawler to generate fresh regression insights."}):(0,o.jsx)("div",{className:"grid gap-6",children:t.stories.map(t=>(0,o.jsx)(tk.StoryCard,{story:t},t.id))}),(0,o.jsxs)("footer",{className:"mt-12 flex flex-wrap items-center justify-between gap-4 border-t border-slate-200 pt-6 text-sm text-slate-500",children:[(0,o.jsxs)("span",{children:["Crawl source: ",t.baseUrl]}),(0,o.jsxs)("span",{children:["Need deeper coverage?"," ",(0,o.jsx)(g(),{href:"https://sparkier.io",className:"font-medium text-sparkier-primary hover:text-sparkier-secondary",children:"Talk to Sparkier"})]})]})]})}},1354:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a,metadata:()=>s});var o=i(2740),r=i(1001),n=i.n(r);i(1135);let s={title:"Sparkier Regression Dashboard",description:"Visualise automated user story coverage and Playwright outlines generated by the Sparkier web auditor."};function a({children:t}){return(0,o.jsx)("html",{lang:"en",className:n().variable,children:(0,o.jsx)("body",{className:"min-h-screen bg-slate-50 font-sans",children:t})})}},6186:(t,e,i)=>{"use strict";i.d(e,{CrawlLauncher:()=>o});let o=(0,i(6760).registerClientReference)(function(){throw Error("Attempted to call CrawlLauncher() from the server but CrawlLauncher is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baptiste/Sites/testingapp/src/components/ui/crawl-launcher.tsx","CrawlLauncher")},5758:(t,e,i)=>{"use strict";i.d(e,{SitemapVisualizer:()=>o});let o=(0,i(6760).registerClientReference)(function(){throw Error("Attempted to call SitemapVisualizer() from the server but SitemapVisualizer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baptiste/Sites/testingapp/src/components/ui/sitemap-visualizer.tsx","SitemapVisualizer")},5722:(t,e,i)=>{"use strict";i.d(e,{StoryCard:()=>o});let o=(0,i(6760).registerClientReference)(function(){throw Error("Attempted to call StoryCard() from the server but StoryCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/baptiste/Sites/testingapp/src/components/ui/story-card.tsx","StoryCard")},1135:()=>{}};var e=require("../../../webpack-runtime.js");e.C(t);var i=t=>e(e.s=t),o=e.X(0,[638,499],()=>i(4422));module.exports=o})();